{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\ShoppingProject\\\\client\\\\src\\\\components\\\\home\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setIsAdmin, setProductsState, setDrawerState } from '../../store/actions'; // Components\n\nimport NewUserModal from './newUserModal/NewUserModal';\nimport ProductCard from '../productCard/ProductCard'; // Material ui components\n\nimport { Grid, Grow } from '@material-ui/core';\nimport { makeStyles, StylesProvider } from '@material-ui/core/styles'; // React toastify \n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'; // Intro js\n\nimport { Steps } from 'intro.js-react';\nimport 'intro.js/introjs.css'; // Css\n\nimport './style.css'; // material ui style\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    margin: '30px'\n  }\n}));\n\nconst Home = props => {\n  _s();\n\n  const classes = useStyles();\n  const user = JSON.parse(localStorage.getItem('user'));\n  const cart = JSON.parse(localStorage.getItem('availableCart'));\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.products.data);\n  const cartProducts = useSelector(state => state.products.cartProducts); // Intro js states\n\n  const [firstEntry, setFirstEntry] = useState(false);\n  const [stepsEnabled, setStepsEnabled] = useState(false);\n  const [initialStep, setInitialStep] = useState(0);\n  const [steps, setSteps] = useState([{\n    element: '#stepOne',\n    intro: 'Here you can add new products to the cart ü•≥',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }, {\n    element: '#stepTwo',\n    intro: 'Increase the quantity in order to reach the desired quantityü•≥',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }, {\n    element: '#stepThree',\n    intro: 'Here is your cart, threre you will find all the products you added üòé',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }, {\n    element: '#stepFour',\n    intro: 'Try to serach for your desired product üîç',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }, {\n    element: '#stepFive',\n    intro: 'navigate between the categories',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }, {\n    element: '#stepSix',\n    intro: 'and when you finish click here to move to the payment page',\n    position: 'left',\n    tooltipClass: 'myTooltipClass'\n  }]); // Get all the vacations\n\n  const getProducts = async () => {\n    try {\n      const id = props.match.params.id;\n      const res = await fetch(`/product/${id}`);\n      const {\n        products\n      } = await res.json();\n      const response = await fetch(`/cart/${cart.id}`);\n      const data = await response.json();\n      const productsArr = [];\n      products.forEach(product => {\n        const productObj = { ...product\n        };\n        const isInCart = data.cart.CartItems.find(item => item.ProductId === product.id);\n\n        if (isInCart) {\n          productObj.quantity = isInCart.amount;\n          productObj.isInCart = true;\n        } else {\n          productObj.quantity = 1;\n        }\n\n        productsArr.push(productObj);\n      });\n      dispatch(setProductsState(productsArr));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const reduceQuantity = id => {\n    const productsArr = products;\n    const product = productsArr.find(product => product.id === id);\n    product.quantity -= 1;\n    dispatch(setProductsState(productsArr));\n  };\n\n  const addQuantity = id => {\n    const productsArr = products;\n    const product = productsArr.find(product => product.id === id);\n    product.quantity += 1;\n    dispatch(setProductsState(productsArr));\n  }; // intro js functions\n\n\n  const onExit = () => {\n    setStepsEnabled(false);\n    setFirstEntry(false);\n  }; // Trigger on component load\n\n\n  useEffect(() => {\n    getProducts();\n  }, [props.match.params.id]);\n  useEffect(() => {\n    getProducts();\n\n    if (user.newUser) {\n      setFirstEntry(true);\n      dispatch(setDrawerState(true)); // delete user['newUser']\n      // localStorage.setItem('user', JSON.stringify(user))\n    }\n  }, []);\n  useEffect(() => {\n    user.admin ? dispatch(setIsAdmin(true)) : dispatch(setIsAdmin(false));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [firstEntry ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NewUserModal, {\n        stepsEnabled: stepsEnabled,\n        setStepsEnabled: setStepsEnabled\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Steps, {\n        enabled: stepsEnabled,\n        steps: steps,\n        initialStep: initialStep,\n        onExit: onExit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true) : null, /*#__PURE__*/_jsxDEV(StylesProvider, {\n      injectFirst: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [products ? products.length !== 0 ? products.map(product => /*#__PURE__*/_jsxDEV(Grow, {\n            in: true,\n            timeout: 700,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 11,\n              lg: 5,\n              className: classes.root,\n              children: /*#__PURE__*/_jsxDEV(ProductCard, {\n                product: product,\n                reduceQuantity: reduceQuantity,\n                addQuantity: addQuantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this)) : null : null, /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"joT54BdUwYw2sBKEyH0rltstCv0=\", false, function () {\n  return [useStyles, useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/◊û◊ú◊ê◊ö ◊í◊ú/Desktop/ShoppingProject/client/src/components/home/Home.js"],"names":["React","useEffect","useState","useDispatch","useSelector","setIsAdmin","setProductsState","setDrawerState","NewUserModal","ProductCard","Grid","Grow","makeStyles","StylesProvider","ToastContainer","Steps","useStyles","root","display","justifyContent","margin","Home","props","classes","user","JSON","parse","localStorage","getItem","cart","dispatch","products","state","data","cartProducts","firstEntry","setFirstEntry","stepsEnabled","setStepsEnabled","initialStep","setInitialStep","steps","setSteps","element","intro","position","tooltipClass","getProducts","id","match","params","res","fetch","json","response","productsArr","forEach","product","productObj","isInCart","CartItems","find","item","ProductId","quantity","amount","push","err","console","log","reduceQuantity","addQuantity","onExit","newUser","admin","length","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setIsAdmin, setProductsState, setDrawerState } from '../../store/actions'\r\n// Components\r\nimport NewUserModal from './newUserModal/NewUserModal'\r\nimport ProductCard from '../productCard/ProductCard'\r\n// Material ui components\r\nimport { Grid, Grow } from '@material-ui/core'\r\nimport { makeStyles, StylesProvider } from '@material-ui/core/styles'\r\n// React toastify \r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// Intro js\r\nimport { Steps } from 'intro.js-react'\r\nimport 'intro.js/introjs.css'\r\n// Css\r\nimport './style.css'\r\n\r\n\r\n// material ui style\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display:'flex',\r\n    justifyContent:'center',\r\n    margin:'30px'\r\n  }\r\n}))\r\n\r\n const Home = (props) => {\r\n  const classes = useStyles()\r\n  const user = JSON.parse(localStorage.getItem('user'))\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const dispatch = useDispatch()\r\n  const products = useSelector(state => state.products.data)\r\n  const cartProducts = useSelector(state => state.products.cartProducts)\r\n  // Intro js states\r\n  const [firstEntry, setFirstEntry] = useState(false)\r\n  const [stepsEnabled, setStepsEnabled] = useState(false)\r\n  const [initialStep, setInitialStep] = useState(0)\r\n  const [steps, setSteps] = useState([\r\n      { element:'#stepOne', intro: 'Here you can add new products to the cart ü•≥', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepTwo', intro: 'Increase the quantity in order to reach the desired quantityü•≥', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepThree', intro:'Here is your cart, threre you will find all the products you added üòé', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepFour', intro: 'Try to serach for your desired product üîç', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepFive', intro: 'navigate between the categories', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepSix', intro: 'and when you finish click here to move to the payment page', position: 'left', tooltipClass: 'myTooltipClass' },\r\n  ])\r\n\r\n\r\n  // Get all the vacations\r\n  const getProducts = async () => {\r\n    try {\r\n\r\n      const id = props.match.params.id\r\n      const res = await fetch(`/product/${id}`)\r\n      const { products } = await res.json()\r\n      const response = await fetch(`/cart/${cart.id}`)\r\n      const data  = await response.json()\r\n      const productsArr = []\r\n      products.forEach(product => {\r\n        const productObj = {\r\n          ...product,\r\n        }\r\n        const isInCart = data.cart.CartItems.find(item => item.ProductId === product.id)\r\n        if(isInCart) {\r\n          productObj.quantity = isInCart.amount\r\n          productObj.isInCart = true\r\n        } else {\r\n          productObj.quantity = 1\r\n        }\r\n        productsArr.push(productObj)\r\n      })\r\n      dispatch(setProductsState(productsArr))\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const reduceQuantity = (id) => {\r\n    const productsArr = products\r\n    const product = productsArr.find(product => product.id === id)\r\n    product.quantity -= 1\r\n    dispatch(setProductsState(productsArr))\r\n\r\n\r\n  }\r\n\r\n  const addQuantity = (id) => {\r\n    const productsArr = products\r\n    const product = productsArr.find(product => product.id === id)\r\n    product.quantity += 1\r\n    dispatch(setProductsState(productsArr))\r\n\r\n  }\r\n \r\n  // intro js functions\r\n  const onExit = () => {\r\n    setStepsEnabled(false)\r\n    setFirstEntry(false)\r\n  }\r\n\r\n  // Trigger on component load\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [props.match.params.id])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n   if (user.newUser) {\r\n    setFirstEntry(true)\r\n    dispatch(setDrawerState(true))\r\n    // delete user['newUser']\r\n    // localStorage.setItem('user', JSON.stringify(user))\r\n   }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    user.admin ? dispatch(setIsAdmin(true)) : dispatch(setIsAdmin(false))\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n \r\n      {firstEntry ? \r\n      <>\r\n      <NewUserModal stepsEnabled={stepsEnabled} setStepsEnabled={setStepsEnabled}/>\r\n      <Steps enabled={stepsEnabled} steps={steps} initialStep={initialStep} onExit={onExit}/>\r\n     </>\r\n      : null}\r\n      <StylesProvider injectFirst>\r\n        <div className=\"container\">\r\n          <Grid container>\r\n              {products ? \r\n                products.length !== 0 ?  products.map(product => (\r\n                <Grow in={true}  timeout={700} key={product.id}>\r\n                <Grid item xs={11} lg={5}  className={classes.root}  >\r\n                  <ProductCard product={product} reduceQuantity={reduceQuantity} addQuantity={addQuantity} />\r\n                </Grid> \r\n                </Grow>\r\n              )): null :  null  }\r\n            \r\n          \r\n           \r\n         \r\n            {/* ToastContainer */}\r\n            <ToastContainer /> \r\n         \r\n          </Grid>\r\n        </div>\r\n    </StylesProvider>\r\n  </>\r\n  )\r\n}\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}