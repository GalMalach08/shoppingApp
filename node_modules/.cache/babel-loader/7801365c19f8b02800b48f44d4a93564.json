{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\ShoppingProject\\\\client\\\\src\\\\components\\\\sideBarCart\\\\SideBarCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setCartProducts, updateTotalPrice, resetTotalPrice } from '../../store/actions';\nimport clsx from 'clsx';\nimport './style.css'; // formik\n\nimport { Formik } from 'formik';\nimport * as Yup from 'yup'; // Cloudinary\n\nimport { Image } from 'cloudinary-react'; // Components\n\nimport Search from '../search/Search';\nimport { Link } from 'react-router-dom';\nimport { Grid, TextField, Button, Collapse, Divider } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Drawer from '@material-ui/core/Drawer';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport { Nav, Navbar } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 300;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    fontFamily: 'roboto'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    backgroundColor: 'white',\n    color: 'black'\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  title: {\n    color: 'black'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    marginTop: '10px'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n}));\n\nconst SideBarCart = props => {\n  _s();\n\n  const cart = JSON.parse(localStorage.getItem('availableCart'));\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const [isDelete, setIsDelete] = useState(true);\n  const cartProducts = useSelector(state => state.products.cartProducts);\n  const totalPrice = useSelector(state => state.products.totalPrice);\n  const isAdmin = useSelector(state => state.users.isAdmin);\n  const productToUpdate = useSelector(state => state.products.productToUpdate);\n  const dispatch = useDispatch();\n  const location = useLocation(); // Form validation\n\n  const validationSchema = Yup.object().shape({\n    firstname: Yup.string().required('first name is required!'),\n    lastname: Yup.string().required('last name is required!'),\n    username: Yup.string().required('user name is required!'),\n    password: Yup.string().required('password is required!').min(6, 'password have to be at least 6 characters long'),\n    confirmPassword: Yup.string().required('confirm your password!').oneOf([Yup.ref('password'), null], 'Passwords must match')\n  });\n\n  const errorHelper = (formik, values) => ({\n    error: formik.errors[values] && formik.touched[values] ? true : false,\n    helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values] : null\n  });\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const clearCart = async () => {\n    const res = await fetch('/cart_item/cart', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: cart.id\n      })\n    });\n    const {\n      success\n    } = await res.json();\n\n    if (success) {\n      dispatch(setCartProducts([]));\n      dispatch(resetTotalPrice());\n    }\n  };\n\n  const removeFromCart = async id => {\n    const res = await fetch('/cart_item', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        CartId: cart.id,\n        ProductId: id\n      })\n    });\n    const {\n      success\n    } = await res.json();\n\n    if (success) {\n      const deletedItem = cartProducts.find(item => item.id === id);\n      console.log(deletedItem);\n      const cartProductsArr = cartProducts.filter(item => item.id !== id);\n      dispatch(setCartProducts(cartProductsArr));\n      dispatch(updateTotalPrice(-deletedItem.totalPrice));\n    }\n  };\n\n  const updateProduct = () => {\n    console.log('a');\n  };\n\n  const getProducts = async () => {\n    const res = await fetch(`/cart/${cart.id}`);\n    const data = await res.json();\n    console.log(data);\n    const itemsArr = [];\n    let count = 0;\n    data.cart.CartItems.forEach(item => {\n      const cartItem = {\n        id: item.ProductId,\n        name: item.Product.name,\n        singlePrice: item.Product.price,\n        totalPrice: item.price,\n        amount: item.amount,\n        image: item.Product.image\n      };\n      count += item.price;\n      itemsArr.push(cartItem);\n    });\n\n    if (count !== totalPrice) {\n      dispatch(updateTotalPrice(count));\n    }\n\n    dispatch(setCartProducts(itemsArr));\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []); // disable the delete product option on the payment page\n\n  useEffect(() => {\n    location.pathname === '/payment' ? setIsDelete(false) : setIsDelete(true);\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      className: clsx(classes.appBar, {\n        [classes.appBarShift]: open\n      }),\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          onClick: handleDrawerOpen,\n          edge: \"start\",\n          className: clsx(classes.menuButton, open && classes.hide),\n          children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n          bg: \"white\",\n          expand: \"md\",\n          className: \"navbar\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            style: {\n              height: '40px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              style: {\n                textDecoration: 'none',\n                marginRight: '25%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.title,\n                variant: \"h6\",\n                noWrap: true,\n                children: \" ShoppingApp \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n            className: \"navbar_collapse\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              className: \"mr-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/1\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Dairy and eggs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/2\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Meat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/3\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Fruits And Vegetables\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/4\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Drinks and alcohol\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/4\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Baking and canning cooking\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.searchLink,\n                children: [\" \", /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 62\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/logout\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: [/*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 31\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Logout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 48\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      className: classes.drawer,\n      variant: \"persistent\",\n      anchor: \"left\",\n      open: open,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      children: !isAdmin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.drawerHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cart_header\",\n            children: \"Your Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: handleDrawerClose,\n              children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary_card\",\n          children: cartProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card_item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                className: \"product_img\",\n                cloudName: \"malachcloud\",\n                src: product.image,\n                width: \"70\",\n                height: \"40\",\n                crop: \"scale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product_info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"quanity: \", product.amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"total price: \", product.totalPrice, \"$\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: isDelete && /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => removeFromCart(product.id),\n                children: [\" \", /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 87\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }, this), totalPrice === 0 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"m-2\",\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"total_price_span\",\n            children: \" Total price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 34\n          }, this), \" $\", totalPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/payment\",\n            style: {\n              textDecoration: 'none',\n              pointerEvents: totalPrice === 0 || !isDelete ? 'none' : ''\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              className: \"m-2\",\n              disabled: totalPrice === 0 || !isDelete,\n              children: \" Payment page \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"secondary\",\n            onClick: clearCart,\n            className: \"m-2\",\n            disabled: totalPrice === 0 || !isDelete,\n            children: \" Clear cart \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: productToUpdate && /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            username: '',\n            password: '',\n            firstname: '',\n            lastname: ''\n          },\n          onSubmit: (values, {\n            resetForm\n          }) => updateProduct(values, resetForm),\n          validationSchema: validationSchema,\n          enableReinitialize: true,\n          children: props => /*#__PURE__*/_jsxDEV(\"form\", {\n            style: {\n              textAlign: 'center'\n            },\n            onSubmit: props.handleSubmit,\n            autoComplete: \"off\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                className: classes.nameTextField,\n                name: \"firstname\",\n                margin: \"normal\",\n                label: \"First name\",\n                variant: \"outlined\",\n                fullWidth: true,\n                ...props.getFieldProps('firstname'),\n                ...errorHelper(props, 'firstname')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"lastname\",\n                margin: \"normal\",\n                label: \"Last name\",\n                variant: \"outlined\",\n                fullWidth: true,\n                ...props.getFieldProps('lastname'),\n                ...errorHelper(props, 'lastname')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              name: \"username\",\n              margin: \"normal\",\n              label: \"User name\",\n              variant: \"outlined\",\n              fullWidth: true,\n              ...props.getFieldProps('username'),\n              ...errorHelper(props, 'username')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n              in: openAlert,\n              children: /*#__PURE__*/_jsxDEV(Alert, {\n                severity: \"error\",\n                action: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  size: \"small\",\n                  onClick: () => setOpenAlert(false),\n                  children: [\" \", /*#__PURE__*/_jsxDEV(CloseIcon, {\n                    fontSize: \"inherit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 111\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 32\n                }, this),\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              disabled: buttonDisabled,\n              className: \"my-3\",\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              size: \"large\",\n              fullWidth: true,\n              children: \" Sign up \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/signin\",\n                  variant: \"body2\",\n                  children: \" Already have an account? Sign In \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: clsx(classes.content, {\n        [classes.contentShift]: open\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.drawerHeader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SideBarCart, \"f0dpt96iL34aJ6dtloSJtkSJmho=\", false, function () {\n  return [useStyles, useTheme, useSelector, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = SideBarCart;\nexport default SideBarCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBarCart\");","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/ShoppingProject/client/src/components/sideBarCart/SideBarCart.js"],"names":["React","useState","useEffect","useLocation","useDispatch","useSelector","setCartProducts","updateTotalPrice","resetTotalPrice","clsx","Formik","Yup","Image","Search","Link","Grid","TextField","Button","Collapse","Divider","makeStyles","useTheme","IconButton","BarChartIcon","ExitToAppIcon","Drawer","CloseIcon","AppBar","Toolbar","Typography","ShoppingCartIcon","ChevronLeftIcon","Nav","Navbar","drawerWidth","useStyles","theme","root","display","fontFamily","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundColor","color","appBarShift","width","marginLeft","easeOut","enteringScreen","title","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","justifyContent","marginTop","content","flexGrow","padding","contentShift","SideBarCart","props","cart","JSON","parse","localStorage","getItem","classes","open","setOpen","isDelete","setIsDelete","cartProducts","state","products","totalPrice","isAdmin","users","productToUpdate","dispatch","location","validationSchema","object","shape","firstname","string","required","lastname","username","password","min","confirmPassword","oneOf","ref","errorHelper","formik","values","error","errors","touched","helperText","handleDrawerOpen","handleDrawerClose","clearCart","res","fetch","method","headers","body","stringify","id","success","json","removeFromCart","CartId","ProductId","deletedItem","find","item","console","log","cartProductsArr","filter","updateProduct","getProducts","data","itemsArr","count","CartItems","forEach","cartItem","name","Product","singlePrice","price","amount","image","push","pathname","height","textDecoration","searchLink","paper","map","product","pointerEvents","resetForm","textAlign","handleSubmit","nameTextField","getFieldProps","openAlert","setOpenAlert","message","buttonDisabled"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setCartProducts, updateTotalPrice, resetTotalPrice } from '../../store/actions'\r\nimport clsx from 'clsx';\r\nimport './style.css'\r\n// formik\r\nimport { Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// Cloudinary\r\nimport { Image } from 'cloudinary-react'\r\n// Components\r\nimport Search from '../search/Search'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, TextField, Button, Collapse, Divider  } from '@material-ui/core'\r\n\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport BarChartIcon from '@material-ui/icons/BarChart'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\nimport { Nav, Navbar } from 'react-bootstrap'\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    fontFamily:'roboto'\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    backgroundColor: 'white',\r\n    color:'black'\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  title: {\r\n      color:'black'\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    marginTop:'10px'\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nconst SideBarCart = (props) => {\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false)\r\n  const [isDelete, setIsDelete] = useState(true)\r\n  const cartProducts = useSelector(state => state.products.cartProducts)\r\n  const totalPrice = useSelector(state => state.products.totalPrice)\r\n  const isAdmin = useSelector(state => state.users.isAdmin)\r\n  const productToUpdate = useSelector(state => state.products.productToUpdate)\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n \r\n  \r\n  // Form validation\r\n  const validationSchema = Yup.object().shape({\r\n    firstname:Yup.string()\r\n    .required('first name is required!'),\r\n    lastname:Yup.string()\r\n    .required('last name is required!'),\r\n    username:Yup.string()\r\n    .required('user name is required!'),\r\n    password:Yup.string()\r\n    .required('password is required!')\r\n    .min(6, 'password have to be at least 6 characters long'),\r\n    confirmPassword:Yup.string()\r\n    .required('confirm your password!')\r\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\r\n    })\r\n\r\n  const errorHelper = (formik,values) => ({\r\n      error: formik.errors[values] && formik.touched[values] ? true : false,\r\n      helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n  })\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const clearCart = async () => {\r\n    const res = await fetch('/cart_item/cart', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ id: cart.id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n     dispatch(setCartProducts([]))\r\n     dispatch(resetTotalPrice())\r\n\r\n   }\r\n  }\r\n\r\n  const removeFromCart = async (id) => {\r\n    const res = await fetch('/cart_item', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ CartId: cart.id, ProductId: id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n     const deletedItem = cartProducts.find(item => item.id === id)\r\n     console.log(deletedItem);\r\n     const cartProductsArr = cartProducts.filter(item => item.id !== id)\r\n     dispatch(setCartProducts(cartProductsArr))\r\n     dispatch(updateTotalPrice(-deletedItem.totalPrice))\r\n   }\r\n  }\r\n\r\n  const updateProduct = () => {\r\n    console.log('a');\r\n  }\r\n\r\n  const getProducts =  async () => {\r\n    const res = await fetch(`/cart/${cart.id}`)\r\n    const data  = await res.json()\r\n    console.log(data);\r\n    const itemsArr = []\r\n    let count = 0\r\n    data.cart.CartItems.forEach(item => {\r\n      const cartItem = {\r\n        id: item.ProductId,\r\n        name: item.Product.name,\r\n        singlePrice: item.Product.price,\r\n        totalPrice: item.price,\r\n        amount: item.amount,\r\n        image: item.Product.image\r\n      }\r\n      count += item.price\r\n      itemsArr.push(cartItem)\r\n    })\r\n    if(count !== totalPrice) {\r\n      dispatch(updateTotalPrice(count))\r\n    }\r\n    dispatch(setCartProducts(itemsArr))   \r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  // disable the delete product option on the payment page\r\n  useEffect(() => {\r\n  location.pathname === '/payment' ? setIsDelete(false) : setIsDelete(true)\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* Top navbar */}\r\n      <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: open})}>\r\n        <Toolbar>\r\n          <IconButton color=\"inherit\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>\r\n            <ShoppingCartIcon />\r\n          </IconButton>\r\n          <Navbar bg=\"white\" expand=\"md\" className=\"navbar\">\r\n              <Navbar.Brand style={{height:'40px'}}>\r\n                <Link to=\"/\" style={{ textDecoration: 'none', marginRight:'25%'}}>\r\n                  <Typography className={classes.title} variant=\"h6\" noWrap> ShoppingApp </Typography>\r\n                </Link>\r\n              </Navbar.Brand>\r\n              <Navbar.Collapse className=\"navbar_collapse\">\r\n                <Nav className=\"mr-auto\">\r\n                 \r\n                            <Link to=\"/1\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Dairy and eggs</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                       \r\n                            <Link to=\"/2\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Meat</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                 \r\n                            <Link to=\"/3\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Fruits And Vegetables</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                      \r\n                            <Link to=\"/4\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Drinks and alcohol</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                        \r\n                \r\n                            <Link to=\"/4\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Baking and canning cooking</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                       \r\n                        <div className={classes.searchLink}> <Search/> </div>\r\n                   \r\n                          <Link to=\"/logout\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                              <IconButton color=\"inherit\">\r\n                              <ExitToAppIcon/> <span className=\"link_desc\">Logout</span>\r\n                              </IconButton>\r\n                          </Link>\r\n                      \r\n                    </Nav>\r\n              </Navbar.Collapse>\r\n          </Navbar>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Side bar */}\r\n  \r\n      <Drawer className={classes.drawer} variant=\"persistent\" anchor=\"left\" open={open}  classes={{ paper: classes.drawerPaper }}>\r\n        {!isAdmin ? \r\n        <>\r\n        <div className={classes.drawerHeader}>\r\n          <h3 className=\"cart_header\">Your Cart</h3>\r\n          <div>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon/>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"summary_card\">\r\n          {cartProducts.map(product => (\r\n            <div className=\"card_item\" key={product.id}>\r\n              <div>\r\n                <Image className=\"product_img\"  cloudName=\"malachcloud\" src={product.image} width=\"70\" height=\"40\" crop=\"scale\" />\r\n              </div>\r\n              <div className=\"product_info\">\r\n                <h6>{product.name}</h6>\r\n                <h6>quanity: {product.amount}</h6>\r\n                <h6>total price: {product.totalPrice}$</h6>\r\n              </div>\r\n              <div>\r\n                { isDelete && <IconButton onClick={() => removeFromCart(product.id)}> <CloseIcon/> </IconButton> }\r\n              </div>\r\n            </div>\r\n            ))}\r\n          </div>\r\n\r\n          {totalPrice === 0 ?\r\n            <h5 className=\"m-2\">Your cart is empty</h5>\r\n           :\r\n            <h5 className=\"ml-2\"><span className=\"total_price_span\"> Total price: </span> ${totalPrice}</h5>\r\n          }\r\n    \r\n          <div className=\"btn-group\">\r\n          <Link to=\"/payment\" style={{ textDecoration: 'none', pointerEvents: totalPrice === 0 || !isDelete ? 'none' : ''}}>\r\n            <Button variant=\"outlined\" color=\"primary\" className=\"m-2\" disabled={totalPrice === 0 || !isDelete}> Payment page </Button>\r\n          </Link> \r\n            <Button variant=\"outlined\" color=\"secondary\" onClick={clearCart}  className=\"m-2\" disabled={totalPrice === 0 || !isDelete}> Clear cart </Button>\r\n          </div>\r\n          </>\r\n          : \r\n          <>\r\n          {productToUpdate &&\r\n            <Formik\r\n            initialValues={{username:'',password:'', firstname:'', lastname:''}}\r\n              onSubmit={(values,{resetForm}) => updateProduct(values, resetForm)}\r\n              validationSchema={validationSchema}\r\n              enableReinitialize={true}>\r\n              {(props) => (\r\n                <form style={{textAlign:'center'}} onSubmit={props.handleSubmit} autoComplete=\"off\">\r\n                  <div style={{display:'flex'}}>\r\n                    <TextField className={classes.nameTextField} name=\"firstname\" margin=\"normal\" label=\"First name\" variant=\"outlined\" fullWidth {...props.getFieldProps('firstname')} {...errorHelper(props,'firstname')}/>\r\n                    <TextField name=\"lastname\" margin=\"normal\" label=\"Last name\" variant=\"outlined\" fullWidth {...props.getFieldProps('lastname')} {...errorHelper(props,'lastname')}/>     \r\n                  </div>\r\n              \r\n                  <TextField name=\"username\" margin=\"normal\" label=\"User name\" variant=\"outlined\" fullWidth {...props.getFieldProps('username')} {...errorHelper(props,'username')}/>   \r\n                          \r\n                 \r\n                                \r\n                 \r\n                                      \r\n                \r\n\r\n                  {/* Alert error */}\r\n                  <Collapse in={openAlert}>\r\n                    <Alert\r\n                      severity=\"error\"\r\n                      action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\r\n                      {message}\r\n                    </Alert>\r\n                  </Collapse>\r\n\r\n                  <Button disabled={buttonDisabled} className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\" fullWidth> Sign up </Button>\r\n                  <Grid container>\r\n                    <Grid item>\r\n                      <Link href=\"/signin\" variant=\"body2\"> Already have an account? Sign In </Link>\r\n                    </Grid>\r\n                  </Grid>    \r\n                </form> )}\r\n            </Formik>  \r\n          }\r\n          </>\r\n        }\r\n        \r\n       \r\n        \r\n      \r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n       \r\n      </main>\r\n\r\n    </div>\r\n    \r\n    \r\n  );\r\n}\r\n\r\nexport default SideBarCart\r\n"]},"metadata":{},"sourceType":"module"}