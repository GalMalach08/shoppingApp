{"ast":null,"code":"/*!\n * Intro.js v3.4.0\n * https://introjs.com\n *\n * Copyright (C) 2012-2021 Afshin Mehrabani (@afshinmeh).\n * https://raw.githubusercontent.com/usablica/intro.js/master/license.md\n *\n * Date: Thu, 25 Mar 2021 09:48:49 GMT\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.introJs = factory());\n})(this, function () {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n  /**\n   * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1\n   * via: http://stackoverflow.com/questions/171251/how-can-i-merge-properties-of-two-javascript-objects-dynamically\n   *\n   * @param obj1\n   * @param obj2\n   * @returns obj3 a new object based on obj1 and obj2\n   */\n\n\n  function mergeOptions(obj1, obj2) {\n    var obj3 = {};\n    var attrname;\n\n    for (attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n\n    for (attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n\n    return obj3;\n  }\n  /**\n   * Mark any object with an incrementing number\n   * used for keeping track of objects\n   *\n   * @param Object obj   Any object or DOM Element\n   * @param String key\n   * @return Object\n   */\n\n\n  var stamp = function () {\n    var keys = {};\n    return function stamp(obj) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"introjs-stamp\"; // each group increments from 0\n\n      keys[key] = keys[key] || 0; // stamp only once per object\n\n      if (obj[key] === undefined) {\n        // increment key for each new object\n        obj[key] = keys[key]++;\n      }\n\n      return obj[key];\n    };\n  }();\n  /**\n   * Iterates arrays\n   *\n   * @param {Array} arr\n   * @param {Function} forEachFnc\n   * @param {Function} completeFnc\n   * @return {Null}\n   */\n\n\n  function forEach(arr, forEachFnc, completeFnc) {\n    // in case arr is an empty query selector node list\n    if (arr) {\n      for (var i = 0, len = arr.length; i < len; i++) {\n        forEachFnc(arr[i], i);\n      }\n    }\n\n    if (typeof completeFnc === \"function\") {\n      completeFnc();\n    }\n  }\n  /**\n   * DOMEvent Handles all DOM events\n   *\n   * methods:\n   *\n   * on - add event handler\n   * off - remove event\n   */\n\n\n  var DOMEvent = function () {\n    function DOMEvent() {\n      var events_key = \"introjs_event\";\n      /**\n       * Gets a unique ID for an event listener\n       *\n       * @param obj Object\n       * @param type event type\n       * @param listener Function\n       * @param context Object\n       * @return String\n       */\n\n      this._id = function (obj, type, listener, context) {\n        return type + stamp(listener) + (context ? \"_\".concat(stamp(context)) : \"\");\n      };\n      /**\n       * Adds event listener\n       *\n       * @param obj Object obj\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.on = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = function handler(e) {\n          return listener.call(context || obj, e || window.event);\n        };\n\n        if (\"addEventListener\" in obj) {\n          obj.addEventListener(type, handler, useCapture);\n        } else if (\"attachEvent\" in obj) {\n          obj.attachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key] = obj[events_key] || {};\n        obj[events_key][id] = handler;\n      };\n      /**\n       * Removes event listener\n       *\n       * @param obj Object\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.off = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = obj[events_key] && obj[events_key][id];\n\n        if (!handler) {\n          return;\n        }\n\n        if (\"removeEventListener\" in obj) {\n          obj.removeEventListener(type, handler, useCapture);\n        } else if (\"detachEvent\" in obj) {\n          obj.detachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key][id] = null;\n      };\n    }\n\n    return new DOMEvent();\n  }();\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  }; // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\n\n  var global_1 =\n  /* global globalThis -- safe */\n  check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) || check(typeof self == 'object' && self) || check(typeof commonjsGlobal == 'object' && commonjsGlobal) || // eslint-disable-next-line no-new-func -- fallback\n  function () {\n    return this;\n  }() || Function('return this')();\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  }; // Detect IE8's incomplete defineProperty implementation\n\n\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, {\n      get: function () {\n        return 7;\n      }\n    })[1] != 7;\n  });\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // Nashorn ~ JDK8 bug\n\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({\n    1: 2\n  }, 1); // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n\n  var f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n  var objectPropertyIsEnumerable = {\n    f: f\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split; // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins -- safe\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object; // `RequireObjectCoercible` abstract operation\n  // https://tc39.es/ecma262/#sec-requireobjectcoercible\n\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  }; // toObject with fallback for non-array-like ES3 strings\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  }; // `ToPrimitive` abstract operation\n  // https://tc39.es/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n\n\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var document$1 = global_1.document; // typeof document.createElement is 'object' in old IE\n\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  }; // Thank's IE8 for his funny defineProperty\n\n\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () {\n        return 7;\n      }\n    }).a != 7;\n  });\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n\n  var f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) {\n      /* empty */\n    }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n  var objectGetOwnPropertyDescriptor = {\n    f: f$1\n  };\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    }\n\n    return it;\n  };\n\n  var nativeDefineProperty = Object.defineProperty; // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n\n  var f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) {\n      /* empty */\n    }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n  var objectDefineProperty = {\n    f: f$2\n  };\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    }\n\n    return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n  var sharedStore = store;\n  var functionToString = Function.toString; // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n  var WeakMap = global_1.WeakMap;\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n  var shared = createCommonjsModule(function (module) {\n    (module.exports = function (key, value) {\n      return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n    })('versions', []).push({\n      version: '3.9.1',\n      mode: 'global',\n      copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n    });\n  });\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      }\n\n      return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = sharedStore.state || (sharedStore.state = new WeakMap$1());\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n\n    set = function (it, metadata) {\n      metadata.facade = it;\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n\n    set = function (it, metadata) {\n      metadata.facade = it;\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n  var redefine = createCommonjsModule(function (module) {\n    var getInternalState = internalState.get;\n    var enforceInternalState = internalState.enforce;\n    var TEMPLATE = String(String).split('String');\n    (module.exports = function (O, key, value, options) {\n      var unsafe = options ? !!options.unsafe : false;\n      var simple = options ? !!options.enumerable : false;\n      var noTargetGet = options ? !!options.noTargetGet : false;\n      var state;\n\n      if (typeof value == 'function') {\n        if (typeof key == 'string' && !has(value, 'name')) {\n          createNonEnumerableProperty(value, 'name', key);\n        }\n\n        state = enforceInternalState(value);\n\n        if (!state.source) {\n          state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n        }\n      }\n\n      if (O === global_1) {\n        if (simple) O[key] = value;else setGlobal(key, value);\n        return;\n      } else if (!unsafe) {\n        delete O[key];\n      } else if (!noTargetGet && O[key]) {\n        simple = true;\n      }\n\n      if (simple) O[key] = value;else createNonEnumerableProperty(O, key, value); // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n    })(Function.prototype, 'toString', function toString() {\n      return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n    });\n  });\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace]) : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor; // `ToInteger` abstract operation\n  // https://tc39.es/ecma262/#sec-tointeger\n\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min; // `ToLength` abstract operation\n  // https://tc39.es/ecma262/#sec-tolength\n\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min; // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  }; // `Array.prototype.{ indexOf, includes }` methods implementation\n\n\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value; // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare -- NaN check\n\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++]; // eslint-disable-next-line no-self-compare -- NaN check\n\n        if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not\n      } else for (; length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      }\n      return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.es/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.es/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n  var indexOf = arrayIncludes.indexOf;\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key); // Don't enum bug & hidden keys\n\n\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n\n    return result;\n  }; // IE8- don't enum bug keys\n\n\n  var enumBugKeys = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype'); // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n    f: f$3\n  };\n  var f$4 = Object.getOwnPropertySymbols;\n  var objectGetOwnPropertySymbols = {\n    f: f$4\n  }; // all object keys, includes non-enumerable and symbols\n\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == 'function' ? fails(detection) : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n  var isForced_1 = isForced;\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced); // contained in target\n\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      } // add a flag to not completely full polyfills\n\n\n      if (options.sham || targetProperty && targetProperty.sham) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      } // extend global\n\n\n      redefine(target, key, sourceProperty, options);\n    }\n  }; // `RegExp.prototype.flags` getter implementation\n  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n\n\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  }; // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n\n\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n  var regexpStickyHelpers = {\n    UNSUPPORTED_Y: UNSUPPORTED_Y,\n    BROKEN_CARET: BROKEN_CARET\n  };\n  var nativeExec = RegExp.prototype.exec; // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n\n  var nativeReplace = String.prototype.replace;\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  }();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET; // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex); // Support anchored sticky behavior.\n\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        } // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n\n\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec; // `RegExp.prototype.exec` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.exec\n\n  _export({\n    target: 'RegExp',\n    proto: true,\n    forced: /./.exec !== regexpExec\n  }, {\n    exec: regexpExec\n  });\n\n  var engineIsNode = classofRaw(global_1.process) == 'process';\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    /* global Symbol -- required for testing */\n    return !Symbol.sham && ( // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    engineIsNode ? engineV8Version === 38 : engineV8Version > 37 && engineV8Version < 41);\n  });\n  var useSymbolAsUid = nativeSymbol\n  /* global Symbol -- safe */\n  && !Symbol.sham && typeof Symbol.iterator == 'symbol';\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name) || !(nativeSymbol || typeof WellKnownSymbolsStore[name] == 'string')) {\n      if (nativeSymbol && has(Symbol$1, name)) {\n        WellKnownSymbolsStore[name] = Symbol$1[name];\n      } else {\n        WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n      }\n    }\n\n    return WellKnownSymbolsStore[name];\n  }; // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n  var SPECIES = wellKnownSymbol('species');\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n\n    re.exec = function () {\n      var result = [];\n      result.groups = {\n        a: '7'\n      };\n      return result;\n    };\n\n    return ''.replace(re, '$<a>') !== '7';\n  }); // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n\n  var REPLACE_KEEPS_$0 = function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  }();\n\n  var REPLACE = wellKnownSymbol('replace'); // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n\n    return false;\n  }(); // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n\n\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    var re = /(?:)/;\n    var originalExec = re.exec;\n\n    re.exec = function () {\n      return originalExec.apply(this, arguments);\n    };\n\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n\n      O[SYMBOL] = function () {\n        return 7;\n      };\n\n      return ''[KEY](O) != 7;\n    });\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {}; // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n\n        re.constructor = {};\n\n        re.constructor[SPECIES] = function () {\n          return re;\n        };\n\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () {\n        execCalled = true;\n        return null;\n      };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === 'replace' && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return {\n              done: true,\n              value: nativeRegExpMethod.call(regexp, str, arg2)\n            };\n          }\n\n          return {\n            done: true,\n            value: nativeMethod.call(str, regexp, arg2)\n          };\n        }\n\n        return {\n          done: false\n        };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2 // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) {\n        return regexMethod.call(string, this, arg);\n      } // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) {\n        return regexMethod.call(string, this);\n      });\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }; // `String.prototype.{ codePointAt, at }` methods implementation\n\n\n  var createMethod$1 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$1(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$1(true)\n  };\n  var charAt = stringMultibyte.charAt; // `AdvanceStringIndex` abstract operation\n  // https://tc39.es/ecma262/#sec-advancestringindex\n\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  }; // `RegExpExec` abstract operation\n  // https://tc39.es/ecma262/#sec-regexpexec\n\n\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  }; // @@match logic\n\n\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [// `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    }, // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regexpExecAbstract(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n\n      while ((result = regexpExecAbstract(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n\n      return n === 0 ? null : A;\n    }];\n  }); // `IsArray` abstract operation\n  // https://tc39.es/ecma262/#sec-isarray\n\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  }; // `ToObject` abstract operation\n  // https://tc39.es/ecma262/#sec-toobject\n\n\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));else object[propertyKey] = value;\n  };\n\n  var SPECIES$1 = wellKnownSymbol('species'); // `ArraySpeciesCreate` abstract operation\n  // https://tc39.es/ecma262/#sec-arrayspeciescreate\n\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n\n    if (isArray(originalArray)) {\n      C = originalArray.constructor; // cross-realm fallback\n\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;else if (isObject(C)) {\n        C = C[SPECIES$1];\n        if (C === null) C = undefined;\n      }\n    }\n\n    return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n\n      constructor[SPECIES$2] = function () {\n        return {\n          foo: 1\n        };\n      };\n\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded'; // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT; // `Array.prototype.concat` method\n  // https://tc39.es/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: FORCED\n  }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    concat: function concat(arg) {\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n\n      A.length = n;\n      return A;\n    }\n  });\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n  var test = {};\n  test[TO_STRING_TAG] = 'z';\n  var toStringTagSupport = String(test) === '[object z]';\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag'); // ES3 wrong here\n\n  var CORRECT_ARGUMENTS = classofRaw(function () {\n    return arguments;\n  }()) == 'Arguments'; // fallback for IE11 Script Access Denied error\n\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) {\n      /* empty */\n    }\n  }; // getting tag from ES6+ `Object.prototype.toString`\n\n\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$1)) == 'string' ? tag // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O) // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  }; // `Object.prototype.toString` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  }; // `Object.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, {\n      unsafe: true\n    });\n  }\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n  var NOT_GENERIC = fails(function () {\n    return nativeToString.call({\n      source: 'a',\n      flags: 'b'\n    }) != '/a/b';\n  }); // FF44- RegExp#toString has a wrong name\n\n  var INCORRECT_NAME = nativeToString.name != TO_STRING; // `RegExp.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, {\n      unsafe: true\n    });\n  }\n\n  var MATCH = wellKnownSymbol('match'); // `IsRegExp` abstract operation\n  // https://tc39.es/ecma262/#sec-isregexp\n\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    }\n\n    return it;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species'); // `SpeciesConstructor` abstract operation\n  // https://tc39.es/ecma262/#sec-speciesconstructor\n\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$2 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF; // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n\n  var SUPPORTS_Y = !fails(function () {\n    return !RegExp(MAX_UINT32, 'y');\n  }); // @@split logic\n\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n\n    if ('abbc'.split(/(b)*/)[1] == 'c' || // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 || 'ab'.split(/(?:ab)*/).length != 2 || '.'.split(/(.?)(.?)/).length != 4 || // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 || ''.split(/.?/).length) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function (separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string]; // If `separator` is not a regex, use native split\n\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') + (separator.multiline ? 'm' : '') + (separator.unicode ? 'u' : '') + (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0; // Make `global` and avoid `lastIndex` issues by working with a copy\n\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n\n        return output.length > lim ? output.slice(0, lim) : output;\n      }; // Chakra, V8\n\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [// `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined ? splitter.call(separator, O, limit) : internalSplit.call(String(O), separator, limit);\n    }, // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') + (rx.multiline ? 'm' : '') + (rx.unicode ? 'u' : '') + (SUPPORTS_Y ? 'y' : 'g'); // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n\n        if (z === null || (e = min$2(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n\n          q = p = e;\n        }\n      }\n\n      A.push(S.slice(p));\n      return A;\n    }];\n  }, !SUPPORTS_Y);\n  /**\n   * Append a class to an element\n   *\n   * @api private\n   * @method _addClass\n   * @param {Object} element\n   * @param {String} className\n   * @returns null\n   */\n\n  function addClass(element, className) {\n    if (element instanceof SVGElement) {\n      // svg\n      var pre = element.getAttribute(\"class\") || \"\";\n\n      if (!pre.match(className)) {\n        // check if element doesn't already have className\n        element.setAttribute(\"class\", \"\".concat(pre, \" \").concat(className));\n      }\n    } else {\n      if (element.classList !== undefined) {\n        // check for modern classList property\n        var classes = className.split(\" \");\n        forEach(classes, function (cls) {\n          element.classList.add(cls);\n        });\n      } else if (!element.className.match(className)) {\n        // check if element doesn't already have className\n        element.className += \" \".concat(className);\n      }\n    }\n  }\n  /**\n   * Get an element CSS property on the page\n   * Thanks to JavaScript Kit: http://www.javascriptkit.com/dhtmltutors/dhtmlcascade4.shtml\n   *\n   * @api private\n   * @method _getPropValue\n   * @param {Object} element\n   * @param {String} propName\n   * @returns string property value\n   */\n\n\n  function getPropValue(element, propName) {\n    var propValue = \"\";\n\n    if (element.currentStyle) {\n      //IE\n      propValue = element.currentStyle[propName];\n    } else if (document.defaultView && document.defaultView.getComputedStyle) {\n      //Others\n      propValue = document.defaultView.getComputedStyle(element, null).getPropertyValue(propName);\n    } //Prevent exception in IE\n\n\n    if (propValue && propValue.toLowerCase) {\n      return propValue.toLowerCase();\n    } else {\n      return propValue;\n    }\n  }\n  /**\n   * To set the show element\n   * This function set a relative (in most cases) position and changes the z-index\n   *\n   * @api private\n   * @method _setShowElement\n   * @param {Object} targetElement\n   */\n\n\n  function setShowElement(_ref) {\n    var element = _ref.element;\n    addClass(element, \"introjs-showElement\");\n    var currentElementPosition = getPropValue(element, \"position\");\n\n    if (currentElementPosition !== \"absolute\" && currentElementPosition !== \"relative\" && currentElementPosition !== \"sticky\" && currentElementPosition !== \"fixed\") {\n      //change to new intro item\n      addClass(element, \"introjs-relativePosition\");\n    }\n  }\n  /**\n   * Find the nearest scrollable parent\n   * copied from https://stackoverflow.com/questions/35939886/find-first-scrollable-parent\n   *\n   * @param Element element\n   * @return Element\n   */\n\n\n  function getScrollParent(element) {\n    var style = window.getComputedStyle(element);\n    var excludeStaticParent = style.position === \"absolute\";\n    var overflowRegex = /(auto|scroll)/;\n    if (style.position === \"fixed\") return document.body;\n\n    for (var parent = element; parent = parent.parentElement;) {\n      style = window.getComputedStyle(parent);\n\n      if (excludeStaticParent && style.position === \"static\") {\n        continue;\n      }\n\n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n    }\n\n    return document.body;\n  }\n  /**\n   * scroll a scrollable element to a child element\n   *\n   * @param {Object} targetElement\n   */\n\n\n  function scrollParentToElement(targetElement) {\n    var element = targetElement.element;\n    if (!this._options.scrollToElement) return;\n    var parent = getScrollParent(element);\n    if (parent === document.body) return;\n    parent.scrollTop = element.offsetTop - parent.offsetTop;\n  }\n  /**\n   * Provides a cross-browser way to get the screen dimensions\n   * via: http://stackoverflow.com/questions/5864467/internet-explorer-innerheight\n   *\n   * @api private\n   * @method _getWinSize\n   * @returns {Object} width and height attributes\n   */\n\n\n  function getWinSize() {\n    if (window.innerWidth !== undefined) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    } else {\n      var D = document.documentElement;\n      return {\n        width: D.clientWidth,\n        height: D.clientHeight\n      };\n    }\n  }\n  /**\n   * Check to see if the element is in the viewport or not\n   * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n   *\n   * @api private\n   * @method _elementInViewport\n   * @param {Object} el\n   */\n\n\n  function elementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom + 80 <= window.innerHeight && // add 80 to get the text right\n    rect.right <= window.innerWidth;\n  }\n  /**\n   * To change the scroll of `window` after highlighting an element\n   *\n   * @api private\n   * @param {String} scrollTo\n   * @param {Object} targetElement\n   * @param {Object} tooltipLayer\n   */\n\n\n  function scrollTo(scrollTo, _ref, tooltipLayer) {\n    var element = _ref.element;\n    if (scrollTo === \"off\") return;\n    var rect;\n    if (!this._options.scrollToElement) return;\n\n    if (scrollTo === \"tooltip\") {\n      rect = tooltipLayer.getBoundingClientRect();\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n\n    if (!elementInViewport(element)) {\n      var winHeight = getWinSize().height;\n      var top = rect.bottom - (rect.bottom - rect.top); // TODO (afshinm): do we need scroll padding now?\n      // I have changed the scroll option and now it scrolls the window to\n      // the center of the target element or tooltip.\n\n      if (top < 0 || element.clientHeight > winHeight) {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) - this._options.scrollPadding); // 30px padding from edge to look nice\n        //Scroll down\n      } else {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) + this._options.scrollPadding); // 30px padding from edge to look nice\n      }\n    }\n  }\n  /**\n   * Setting anchors to behave like buttons\n   *\n   * @api private\n   * @method _setAnchorAsButton\n   */\n\n\n  function setAnchorAsButton(anchor) {\n    anchor.setAttribute(\"role\", \"button\");\n    anchor.tabIndex = 0;\n  } // `Object.keys` method\n  // https://tc39.es/ecma262/#sec-object.keys\n\n\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  var nativeAssign = Object.assign;\n  var defineProperty = Object.defineProperty; // `Object.assign` method\n  // https://tc39.es/ecma262/#sec-object.assign\n\n  var objectAssign = !nativeAssign || fails(function () {\n    // should have correct order of operations (Edge bug)\n    if (descriptors && nativeAssign({\n      b: 1\n    }, nativeAssign(defineProperty({}, 'a', {\n      enumerable: true,\n      get: function () {\n        defineProperty(this, 'b', {\n          value: 3,\n          enumerable: false\n        });\n      }\n    }), {\n      b: 2\n    })).b !== 1) return true; // should work with symbols and should have deterministic property order (V8 bug)\n\n    var A = {};\n    var B = {};\n    /* global Symbol -- required for testing */\n\n    var symbol = Symbol();\n    var alphabet = 'abcdefghijklmnopqrst';\n    A[symbol] = 7;\n    alphabet.split('').forEach(function (chr) {\n      B[chr] = chr;\n    });\n    return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n  }) ? function assign(target, source) {\n    // eslint-disable-line no-unused-vars -- required for `.length`\n    var T = toObject(target);\n    var argumentsLength = arguments.length;\n    var index = 1;\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n    while (argumentsLength > index) {\n      var S = indexedObject(arguments[index++]);\n      var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n\n      while (length > j) {\n        key = keys[j++];\n        if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n      }\n    }\n\n    return T;\n  } : nativeAssign; // `Object.assign` method\n  // https://tc39.es/ecma262/#sec-object.assign\n\n  _export({\n    target: 'Object',\n    stat: true,\n    forced: Object.assign !== objectAssign\n  }, {\n    assign: objectAssign\n  });\n  /**\n   * Get an element position on the page relative to another element (or body)\n   * Thanks to `meouw`: http://stackoverflow.com/a/442474/375966\n   *\n   * @api private\n   * @method getOffset\n   * @param {Object} element\n   * @param {Object} relativeEl\n   * @returns Element's position info\n   */\n\n\n  function getOffset(element, relativeEl) {\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    relativeEl = relativeEl || body;\n    var x = element.getBoundingClientRect();\n    var xr = relativeEl.getBoundingClientRect();\n    var relativeElPosition = getPropValue(relativeEl, \"position\");\n    var obj = {\n      width: x.width,\n      height: x.height\n    };\n\n    if (relativeEl.tagName.toLowerCase() !== \"body\" && relativeElPosition === \"relative\" || relativeElPosition === \"sticky\") {\n      // when the container of our target element is _not_ body and has either \"relative\" or \"sticky\" position, we should not\n      // consider the scroll position but we need to include the relative x/y of the container element\n      return Object.assign(obj, {\n        top: x.top - xr.top,\n        left: x.left - xr.left\n      });\n    } else {\n      return Object.assign(obj, {\n        top: x.top + scrollTop,\n        left: x.left + scrollLeft\n      });\n    }\n  }\n  /**\n   * Checks to see if target element (or parents) position is fixed or not\n   *\n   * @api private\n   * @method _isFixed\n   * @param {Object} element\n   * @returns Boolean\n   */\n\n\n  function isFixed(element) {\n    var p = element.parentNode;\n\n    if (!p || p.nodeName === \"HTML\") {\n      return false;\n    }\n\n    if (getPropValue(element, \"position\") === \"fixed\") {\n      return true;\n    }\n\n    return isFixed(p);\n  }\n\n  var floor$1 = Math.floor;\n  var replace = ''.replace;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g; // https://tc39.es/ecma262/#sec-getsubstitution\n\n  var getSubstitution = function (matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n\n    return replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n\n      switch (ch.charAt(0)) {\n        case '$':\n          return '$';\n\n        case '&':\n          return matched;\n\n        case '`':\n          return str.slice(0, position);\n\n        case \"'\":\n          return str.slice(tailPos);\n\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n\n        default:\n          // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n\n          if (n > m) {\n            var f = floor$1(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n\n          capture = captures[n - 1];\n      }\n\n      return capture === undefined ? '' : capture;\n    });\n  };\n\n  var max$1 = Math.max;\n  var min$3 = Math.min;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  }; // @@replace logic\n\n\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n    return [// `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined ? replacer.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);\n    }, // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n\n      var results = [];\n\n      while (true) {\n        var result = regexpExecAbstract(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max$1(min$3(toInteger(result.index), S.length), 0);\n        var captures = []; // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n\n        var namedCaptures = result.groups;\n\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }];\n  });\n  /**\n   * Remove a class from an element\n   *\n   * @api private\n   * @method _removeClass\n   * @param {Object} element\n   * @param {RegExp|String} classNameRegex can be regex or string\n   * @returns null\n   */\n\n  function removeClass(element, classNameRegex) {\n    if (element instanceof SVGElement) {\n      var pre = element.getAttribute(\"class\") || \"\";\n      element.setAttribute(\"class\", pre.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\"));\n    } else {\n      element.className = element.className.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\");\n    }\n  }\n  /**\n   * Sets the style of an DOM element\n   *\n   * @param {Object} element\n   * @param {Object|string} style\n   * @return null\n   */\n\n\n  function setStyle(element, style) {\n    var cssText = \"\";\n\n    if (element.style.cssText) {\n      cssText += element.style.cssText;\n    }\n\n    if (typeof style === \"string\") {\n      cssText += style;\n    } else {\n      for (var rule in style) {\n        cssText += \"\".concat(rule, \":\").concat(style[rule], \";\");\n      }\n    }\n\n    element.style.cssText = cssText;\n  }\n  /**\n   * Update the position of the helper layer on the screen\n   *\n   * @api private\n   * @method _setHelperLayerPosition\n   * @param {Object} helperLayer\n   */\n\n\n  function setHelperLayerPosition(helperLayer) {\n    if (helperLayer) {\n      //prevent error when `this._currentStep` in undefined\n      if (!this._introItems[this._currentStep]) return;\n      var currentElement = this._introItems[this._currentStep];\n      var elementPosition = getOffset(currentElement.element, this._targetElement);\n      var widthHeightPadding = this._options.helperElementPadding; // If the target element is fixed, the tooltip should be fixed as well.\n      // Otherwise, remove a fixed class that may be left over from the previous\n      // step.\n\n      if (isFixed(currentElement.element)) {\n        addClass(helperLayer, \"introjs-fixedTooltip\");\n      } else {\n        removeClass(helperLayer, \"introjs-fixedTooltip\");\n      }\n\n      if (currentElement.position === \"floating\") {\n        widthHeightPadding = 0;\n      } //set new position to helper layer\n\n\n      setStyle(helperLayer, {\n        width: \"\".concat(elementPosition.width + widthHeightPadding, \"px\"),\n        height: \"\".concat(elementPosition.height + widthHeightPadding, \"px\"),\n        top: \"\".concat(elementPosition.top - widthHeightPadding / 2, \"px\"),\n        left: \"\".concat(elementPosition.left - widthHeightPadding / 2, \"px\")\n      });\n    }\n  } // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n\n\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n\n    return O;\n  };\n  var html = getBuiltIn('document', 'documentElement');\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () {\n    /* empty */\n  };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  }; // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n\n\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n\n    return temp;\n  }; // Create object with fake `null` prototype: use iframe Object with cleared prototype\n\n\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe); // https://github.com/zloirock/core-js/issues/475\n\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  }; // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n\n\n  var activeXDocument;\n\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject -- old IE */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) {\n      /* ignore */\n    }\n\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true; // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null; // add \"__proto__\" for Object.getPrototypeOf polyfill\n\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype; // Array.prototype[@@unscopables]\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  } // add a key to Array.prototype[@@unscopables]\n\n\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes; // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n\n  _export({\n    target: 'Array',\n    proto: true\n  }, {\n    includes: function includes(el\n    /* , fromIndex = 0 */\n    ) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  }); // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n\n\n  addToUnscopables('includes');\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n  var SPECIES$4 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$2 = Math.max; // `Array.prototype.slice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT\n  }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length); // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n\n      var Constructor, result, n;\n\n      if (isArray(O)) {\n        Constructor = O.constructor; // cross-realm fallback\n\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$4];\n          if (Constructor === null) Constructor = undefined;\n        }\n\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n\n      result = new (Constructor === undefined ? Array : Constructor)(max$2(fin - k, 0));\n\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n\n      result.length = n;\n      return result;\n    }\n  });\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    }\n\n    return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (error1) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (error2) {\n        /* empty */\n      }\n    }\n\n    return false;\n  }; // `String.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-string.prototype.includes\n\n\n  _export({\n    target: 'String',\n    proto: true,\n    forced: !correctIsRegexpLogic('includes')\n  }, {\n    includes: function includes(searchString\n    /* , position = 0 */\n    ) {\n      return !!~String(requireObjectCoercible(this)).indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n      method.call(null, argument || function () {\n        throw 1;\n      }, 1);\n    });\n  };\n\n  var nativeJoin = [].join;\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD = arrayMethodIsStrict('join', ','); // `Array.prototype.join` method\n  // https://tc39.es/ecma262/#sec-array.prototype.join\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: ES3_STRINGS || !STRICT_METHOD\n  }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  }); // optional / simple context binding\n\n\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n\n    switch (length) {\n      case 0:\n        return function () {\n          return fn.call(that);\n        };\n\n      case 1:\n        return function (a) {\n          return fn.call(that, a);\n        };\n\n      case 2:\n        return function (a, b) {\n          return fn.call(that, a, b);\n        };\n\n      case 3:\n        return function (a, b, c) {\n          return fn.call(that, a, b, c);\n        };\n    }\n\n    return function ()\n    /* ...args */\n    {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var push = [].push; // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\n\n  var createMethod$2 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var IS_FILTER_OUT = TYPE == 7;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n      var value, result;\n\n      for (; length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n              case 3:\n                return true;\n              // some\n\n              case 5:\n                return value;\n              // find\n\n              case 6:\n                return index;\n              // findIndex\n\n              case 2:\n                push.call(target, value);\n              // filter\n            } else switch (TYPE) {\n              case 4:\n                return false;\n              // every\n\n              case 7:\n                push.call(target, value);\n              // filterOut\n            }\n        }\n      }\n\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.es/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$2(0),\n    // `Array.prototype.map` method\n    // https://tc39.es/ecma262/#sec-array.prototype.map\n    map: createMethod$2(1),\n    // `Array.prototype.filter` method\n    // https://tc39.es/ecma262/#sec-array.prototype.filter\n    filter: createMethod$2(2),\n    // `Array.prototype.some` method\n    // https://tc39.es/ecma262/#sec-array.prototype.some\n    some: createMethod$2(3),\n    // `Array.prototype.every` method\n    // https://tc39.es/ecma262/#sec-array.prototype.every\n    every: createMethod$2(4),\n    // `Array.prototype.find` method\n    // https://tc39.es/ecma262/#sec-array.prototype.find\n    find: createMethod$2(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$2(6),\n    // `Array.prototype.filterOut` method\n    // https://github.com/tc39/proposal-array-filtering\n    filterOut: createMethod$2(7)\n  };\n  var $filter = arrayIteration.filter;\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('filter'); // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT$1\n  }, {\n    filter: function filter(callbackfn\n    /* , thisArg */\n    ) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n  /**\n   * Set tooltip left so it doesn't go off the right side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleLeft is ok.  false, otherwise.\n   */\n\n\n  function checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer) {\n    if (targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width > windowSize.width) {\n      // off the right side of the window\n      tooltipLayer.style.left = \"\".concat(windowSize.width - tooltipOffset.width - targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.left = \"\".concat(tooltipLayerStyleLeft, \"px\");\n    return true;\n  }\n  /**\n   * Set tooltip right so it doesn't go off the left side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleRight is ok.  false, otherwise.\n   */\n\n\n  function checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer) {\n    if (targetOffset.left + targetOffset.width - tooltipLayerStyleRight - tooltipOffset.width < 0) {\n      // off the left side of the window\n      tooltipLayer.style.left = \"\".concat(-targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.right = \"\".concat(tooltipLayerStyleRight, \"px\");\n    return true;\n  }\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('splice');\n  var max$3 = Math.max;\n  var min$4 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded'; // `Array.prototype.splice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n\n  _export({\n    target: 'Array',\n    proto: true,\n    forced: !HAS_SPECIES_SUPPORT$2\n  }, {\n    splice: function splice(start, deleteCount\n    /* , ...items */\n    ) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$4(max$3(toInteger(deleteCount), 0), len - actualStart);\n      }\n\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n\n      A = arraySpeciesCreate(O, actualDeleteCount);\n\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n\n      A.length = actualDeleteCount;\n\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];else delete O[to];\n        }\n\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];else delete O[to];\n        }\n      }\n\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n  /**\n   * Remove an entry from a string array if it's there, does nothing if it isn't there.\n   *\n   * @param {Array} stringArray\n   * @param {String} stringToRemove\n   */\n\n\n  function removeEntry(stringArray, stringToRemove) {\n    if (stringArray.includes(stringToRemove)) {\n      stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n    }\n  }\n  /**\n   * auto-determine alignment\n   * @param {Integer}  offsetLeft\n   * @param {Integer}  tooltipWidth\n   * @param {Object}   windowSize\n   * @param {String}   desiredAlignment\n   * @return {String}  calculatedAlignment\n   */\n\n\n  function _determineAutoAlignment(offsetLeft, tooltipWidth, _ref, desiredAlignment) {\n    var width = _ref.width;\n    var halfTooltipWidth = tooltipWidth / 2;\n    var winWidth = Math.min(width, window.screen.width);\n    var possibleAlignments = [\"-left-aligned\", \"-middle-aligned\", \"-right-aligned\"];\n    var calculatedAlignment = \"\"; // valid left must be at least a tooltipWidth\n    // away from right side\n\n    if (winWidth - offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-left-aligned\");\n    } // valid middle must be at least half\n    // width away from both sides\n\n\n    if (offsetLeft < halfTooltipWidth || winWidth - offsetLeft < halfTooltipWidth) {\n      removeEntry(possibleAlignments, \"-middle-aligned\");\n    } // valid right must be at least a tooltipWidth\n    // width away from left side\n\n\n    if (offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-right-aligned\");\n    }\n\n    if (possibleAlignments.length) {\n      if (possibleAlignments.includes(desiredAlignment)) {\n        // the desired alignment is valid\n        calculatedAlignment = desiredAlignment;\n      } else {\n        // pick the first valid position, in order\n        calculatedAlignment = possibleAlignments[0];\n      }\n    } else {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      calculatedAlignment = \"-middle-aligned\";\n    }\n\n    return calculatedAlignment;\n  }\n  /**\n   * Determines the position of the tooltip based on the position precedence and availability\n   * of screen space.\n   *\n   * @param {Object}    targetElement\n   * @param {Object}    tooltipLayer\n   * @param {String}    desiredTooltipPosition\n   * @return {String}   calculatedPosition\n   */\n\n\n  function _determineAutoPosition(targetElement, tooltipLayer, desiredTooltipPosition) {\n    // Take a clone of position precedence. These will be the available\n    var possiblePositions = this._options.positionPrecedence.slice();\n\n    var windowSize = getWinSize();\n    var tooltipHeight = getOffset(tooltipLayer).height + 10;\n    var tooltipWidth = getOffset(tooltipLayer).width + 20;\n    var targetElementRect = targetElement.getBoundingClientRect(); // If we check all the possible areas, and there are no valid places for the tooltip, the element\n    // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n\n    var calculatedPosition = \"floating\";\n    /*\n     * auto determine position\n     */\n    // Check for space below\n\n    if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n      removeEntry(possiblePositions, \"bottom\");\n    } // Check for space above\n\n\n    if (targetElementRect.top - tooltipHeight < 0) {\n      removeEntry(possiblePositions, \"top\");\n    } // Check for space to the right\n\n\n    if (targetElementRect.right + tooltipWidth > windowSize.width) {\n      removeEntry(possiblePositions, \"right\");\n    } // Check for space to the left\n\n\n    if (targetElementRect.left - tooltipWidth < 0) {\n      removeEntry(possiblePositions, \"left\");\n    } // @var {String}  ex: 'right-aligned'\n\n\n    var desiredAlignment = function (pos) {\n      var hyphenIndex = pos.indexOf(\"-\");\n\n      if (hyphenIndex !== -1) {\n        // has alignment\n        return pos.substr(hyphenIndex);\n      }\n\n      return \"\";\n    }(desiredTooltipPosition || \"\"); // strip alignment from position\n\n\n    if (desiredTooltipPosition) {\n      // ex: \"bottom-right-aligned\"\n      // should return 'bottom'\n      desiredTooltipPosition = desiredTooltipPosition.split(\"-\")[0];\n    }\n\n    if (possiblePositions.length) {\n      if (possiblePositions.includes(desiredTooltipPosition)) {\n        // If the requested position is in the list, choose that\n        calculatedPosition = desiredTooltipPosition;\n      } else {\n        // Pick the first valid position, in order\n        calculatedPosition = possiblePositions[0];\n      }\n    } // only top and bottom positions have optional alignments\n\n\n    if ([\"top\", \"bottom\"].includes(calculatedPosition)) {\n      calculatedPosition += _determineAutoAlignment(targetElementRect.left, tooltipWidth, windowSize, desiredAlignment);\n    }\n\n    return calculatedPosition;\n  }\n  /**\n   * Render tooltip box in the page\n   *\n   * @api private\n   * @method placeTooltip\n   * @param {HTMLElement} targetElement\n   * @param {HTMLElement} tooltipLayer\n   * @param {HTMLElement} arrowLayer\n   * @param {Boolean} hintMode\n   */\n\n\n  function placeTooltip(targetElement, tooltipLayer, arrowLayer, hintMode) {\n    var tooltipCssClass = \"\";\n    var currentStepObj;\n    var tooltipOffset;\n    var targetOffset;\n    var windowSize;\n    var currentTooltipPosition;\n    hintMode = hintMode || false; //reset the old style\n\n    tooltipLayer.style.top = null;\n    tooltipLayer.style.right = null;\n    tooltipLayer.style.bottom = null;\n    tooltipLayer.style.left = null;\n    tooltipLayer.style.marginLeft = null;\n    tooltipLayer.style.marginTop = null;\n    arrowLayer.style.display = \"inherit\"; //prevent error when `this._currentStep` is undefined\n\n    if (!this._introItems[this._currentStep]) return; //if we have a custom css class for each step\n\n    currentStepObj = this._introItems[this._currentStep];\n\n    if (typeof currentStepObj.tooltipClass === \"string\") {\n      tooltipCssClass = currentStepObj.tooltipClass;\n    } else {\n      tooltipCssClass = this._options.tooltipClass;\n    }\n\n    tooltipLayer.className = [\"introjs-tooltip\", tooltipCssClass].filter(Boolean).join(\" \");\n    tooltipLayer.setAttribute(\"role\", \"dialog\");\n    currentTooltipPosition = this._introItems[this._currentStep].position; // Floating is always valid, no point in calculating\n\n    if (currentTooltipPosition !== \"floating\" && this._options.autoPosition) {\n      currentTooltipPosition = _determineAutoPosition.call(this, targetElement, tooltipLayer, currentTooltipPosition);\n    }\n\n    var tooltipLayerStyleLeft;\n    targetOffset = getOffset(targetElement);\n    tooltipOffset = getOffset(tooltipLayer);\n    windowSize = getWinSize();\n    addClass(tooltipLayer, \"introjs-\".concat(currentTooltipPosition));\n\n    switch (currentTooltipPosition) {\n      case \"top-right-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-right\";\n        var tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-middle\";\n        var tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-left-aligned\": // top-left-aligned is the same as the default top\n\n      case \"top\":\n        arrowLayer.className = \"introjs-arrow bottom\";\n        tooltipLayerStyleLeft = hintMode ? 0 : 15;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"right\":\n        tooltipLayer.style.left = \"\".concat(targetOffset.width + 20, \"px\");\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, right would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          arrowLayer.className = \"introjs-arrow left-bottom\";\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n        } else {\n          arrowLayer.className = \"introjs-arrow left\";\n        }\n\n        break;\n\n      case \"left\":\n        if (!hintMode && this._options.showStepNumbers === true) {\n          tooltipLayer.style.top = \"15px\";\n        }\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, left would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n          arrowLayer.className = \"introjs-arrow right-bottom\";\n        } else {\n          arrowLayer.className = \"introjs-arrow right\";\n        }\n\n        tooltipLayer.style.right = \"\".concat(targetOffset.width + 20, \"px\");\n        break;\n\n      case \"floating\":\n        arrowLayer.style.display = \"none\"; //we have to adjust the top and left of layer manually for intro items without element\n\n        tooltipLayer.style.left = \"50%\";\n        tooltipLayer.style.top = \"50%\";\n        tooltipLayer.style.marginLeft = \"-\".concat(tooltipOffset.width / 2, \"px\");\n        tooltipLayer.style.marginTop = \"-\".concat(tooltipOffset.height / 2, \"px\");\n        break;\n\n      case \"bottom-right-aligned\":\n        arrowLayer.className = \"introjs-arrow top-right\";\n        tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"bottom-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow top-middle\";\n        tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n      // case 'bottom-left-aligned':\n      // Bottom-left-aligned is the same as the default bottom\n      // case 'bottom':\n      // Bottom going to follow the default behavior\n\n      default:\n        arrowLayer.className = \"introjs-arrow top\";\n        tooltipLayerStyleLeft = 0;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n    }\n  }\n  /**\n   * To remove all show element(s)\n   *\n   * @api private\n   * @method _removeShowElement\n   */\n\n\n  function removeShowElement() {\n    var elms = document.querySelectorAll(\".introjs-showElement\");\n    forEach(elms, function (elm) {\n      removeClass(elm, /introjs-[a-zA-Z]+/g);\n    });\n  }\n\n  function _createElement(tagname, attrs) {\n    var element = document.createElement(tagname);\n    attrs = attrs || {}; // regex for matching attributes that need to be set with setAttribute\n\n    var setAttRegex = /^(?:role|data-|aria-)/;\n\n    for (var k in attrs) {\n      var v = attrs[k];\n\n      if (k === \"style\") {\n        setStyle(element, v);\n      } else if (k.match(setAttRegex)) {\n        element.setAttribute(k, v);\n      } else {\n        element[k] = v;\n      }\n    }\n\n    return element;\n  }\n  /**\n   * Appends `element` to `parentElement`\n   *\n   * @param {Element} parentElement\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n\n  function appendChild(parentElement, element, animate) {\n    if (animate) {\n      var existingOpacity = element.style.opacity || \"1\";\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        setStyle(element, {\n          opacity: existingOpacity\n        });\n      }, 10);\n    }\n\n    parentElement.appendChild(element);\n  }\n  /**\n   * Gets the current progress percentage\n   *\n   * @api private\n   * @method _getProgress\n   * @returns current progress percentage\n   */\n\n\n  function _getProgress() {\n    // Steps are 0 indexed\n    var currentStep = parseInt(this._currentStep + 1, 10);\n    return currentStep / this._introItems.length * 100;\n  }\n  /**\n   * Add disableinteraction layer and adjust the size and position of the layer\n   *\n   * @api private\n   * @method _disableInteraction\n   */\n\n\n  function _disableInteraction() {\n    var disableInteractionLayer = document.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer === null) {\n      disableInteractionLayer = _createElement(\"div\", {\n        className: \"introjs-disableInteraction\"\n      });\n\n      this._targetElement.appendChild(disableInteractionLayer);\n    }\n\n    setHelperLayerPosition.call(this, disableInteractionLayer);\n  }\n  /**\n   * Show an element on the page\n   *\n   * @api private\n   * @method _showElement\n   * @param {Object} targetElement\n   */\n\n\n  function _showElement(targetElement) {\n    var _this = this;\n\n    if (typeof this._introChangeCallback !== \"undefined\") {\n      this._introChangeCallback.call(this, targetElement.element);\n    }\n\n    var self = this;\n    var oldHelperLayer = document.querySelector(\".introjs-helperLayer\");\n    var oldReferenceLayer = document.querySelector(\".introjs-tooltipReferenceLayer\");\n    var highlightClass = \"introjs-helperLayer\";\n    var nextTooltipButton;\n    var prevTooltipButton;\n    var skipTooltipButton;\n\n    if (typeof targetElement.highlightClass === \"string\") {\n      highlightClass += \" \".concat(targetElement.highlightClass);\n    } //check for options highlight class\n\n\n    if (typeof this._options.highlightClass === \"string\") {\n      highlightClass += \" \".concat(this._options.highlightClass);\n    }\n\n    if (oldHelperLayer !== null) {\n      var oldHelperNumberLayer = oldReferenceLayer.querySelector(\".introjs-helperNumberLayer\");\n      var oldtooltipLayer = oldReferenceLayer.querySelector(\".introjs-tooltiptext\");\n      var oldTooltipTitleLayer = oldReferenceLayer.querySelector(\".introjs-tooltip-title\");\n      var oldArrowLayer = oldReferenceLayer.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = oldReferenceLayer.querySelector(\".introjs-tooltip\");\n      skipTooltipButton = oldReferenceLayer.querySelector(\".introjs-skipbutton\");\n      prevTooltipButton = oldReferenceLayer.querySelector(\".introjs-prevbutton\");\n      nextTooltipButton = oldReferenceLayer.querySelector(\".introjs-nextbutton\"); //update or reset the helper highlight class\n\n      oldHelperLayer.className = highlightClass; //hide the tooltip\n\n      oldtooltipContainer.style.opacity = 0;\n      oldtooltipContainer.style.display = \"none\"; // if the target element is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); // set new position to helper layer\n\n      setHelperLayerPosition.call(self, oldHelperLayer);\n      setHelperLayerPosition.call(self, oldReferenceLayer); //remove old classes if the element still exist\n\n      removeShowElement(); //we should wait until the CSS3 transition is competed (it's 0.3 sec) to prevent incorrect `height` and `width` calculation\n\n      if (self._lastShowElementTimer) {\n        window.clearTimeout(self._lastShowElementTimer);\n      }\n\n      self._lastShowElementTimer = window.setTimeout(function () {\n        // set current step to the label\n        if (oldHelperNumberLayer !== null) {\n          oldHelperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(_this._introItems.length);\n        } // set current tooltip text\n\n\n        oldtooltipLayer.innerHTML = targetElement.intro; // set current tooltip title\n\n        oldTooltipTitleLayer.innerHTML = targetElement.title; //set the tooltip position\n\n        oldtooltipContainer.style.display = \"block\";\n        placeTooltip.call(self, targetElement.element, oldtooltipContainer, oldArrowLayer); //change active bullet\n\n        if (self._options.showBullets) {\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a.active\").className = \"\";\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a[data-stepnumber=\\\"\".concat(targetElement.step, \"\\\"]\")).className = \"active\";\n        }\n\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").style.cssText = \"width:\".concat(_getProgress.call(self), \"%;\");\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").setAttribute(\"aria-valuenow\", _getProgress.call(self)); //show the tooltip\n\n        oldtooltipContainer.style.opacity = 1; //reset button focus\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null && /introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          // skip button is now \"done\" button\n          nextTooltipButton.focus();\n        } else if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          //still in the tour, focus on next\n          nextTooltipButton.focus();\n        } // change the scroll of the window, if needed\n\n\n        scrollTo.call(self, targetElement.scrollTo, targetElement, oldtooltipLayer);\n      }, 350); // end of old element if-else condition\n    } else {\n      var helperLayer = _createElement(\"div\", {\n        className: highlightClass\n      });\n\n      var referenceLayer = _createElement(\"div\", {\n        className: \"introjs-tooltipReferenceLayer\"\n      });\n\n      var arrowLayer = _createElement(\"div\", {\n        className: \"introjs-arrow\"\n      });\n\n      var tooltipLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip\"\n      });\n\n      var tooltipTextLayer = _createElement(\"div\", {\n        className: \"introjs-tooltiptext\"\n      });\n\n      var tooltipHeaderLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip-header\"\n      });\n\n      var tooltipTitleLayer = _createElement(\"h1\", {\n        className: \"introjs-tooltip-title\"\n      });\n\n      var bulletsLayer = _createElement(\"div\", {\n        className: \"introjs-bullets\"\n      });\n\n      var progressLayer = _createElement(\"div\");\n\n      var buttonsLayer = _createElement(\"div\");\n\n      setStyle(helperLayer, {\n        \"box-shadow\": \"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, \".concat(self._options.overlayOpacity.toString(), \") 0 0 0 5000px\")\n      }); // target is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); //set new position to helper layer\n\n      setHelperLayerPosition.call(self, helperLayer);\n      setHelperLayerPosition.call(self, referenceLayer); //add helper layer to target element\n\n      appendChild(this._targetElement, helperLayer, true);\n      appendChild(this._targetElement, referenceLayer);\n      tooltipTextLayer.innerHTML = targetElement.intro;\n      tooltipTitleLayer.innerHTML = targetElement.title;\n\n      if (this._options.showBullets === false) {\n        bulletsLayer.style.display = \"none\";\n      }\n\n      var ulContainer = _createElement(\"ul\");\n\n      ulContainer.setAttribute(\"role\", \"tablist\");\n\n      var anchorClick = function anchorClick() {\n        self.goToStep(this.getAttribute(\"data-stepnumber\"));\n      };\n\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        var innerLi = _createElement(\"li\");\n\n        var anchorLink = _createElement(\"a\");\n\n        innerLi.setAttribute(\"role\", \"presentation\");\n        anchorLink.setAttribute(\"role\", \"tab\");\n        anchorLink.onclick = anchorClick;\n\n        if (i === targetElement.step - 1) {\n          anchorLink.className = \"active\";\n        }\n\n        setAnchorAsButton(anchorLink);\n        anchorLink.innerHTML = \"&nbsp;\";\n        anchorLink.setAttribute(\"data-stepnumber\", step);\n        innerLi.appendChild(anchorLink);\n        ulContainer.appendChild(innerLi);\n      });\n      bulletsLayer.appendChild(ulContainer);\n      progressLayer.className = \"introjs-progress\";\n\n      if (this._options.showProgress === false) {\n        progressLayer.style.display = \"none\";\n      }\n\n      var progressBar = _createElement(\"div\", {\n        className: \"introjs-progressbar\"\n      });\n\n      if (this._options.progressBarAdditionalClass) {\n        progressBar.className += \" \" + this._options.progressBarAdditionalClass;\n      }\n\n      progressBar.setAttribute(\"role\", \"progress\");\n      progressBar.setAttribute(\"aria-valuemin\", 0);\n      progressBar.setAttribute(\"aria-valuemax\", 100);\n      progressBar.setAttribute(\"aria-valuenow\", _getProgress.call(this));\n      progressBar.style.cssText = \"width:\".concat(_getProgress.call(this), \"%;\");\n      progressLayer.appendChild(progressBar);\n      buttonsLayer.className = \"introjs-tooltipbuttons\";\n\n      if (this._options.showButtons === false) {\n        buttonsLayer.style.display = \"none\";\n      }\n\n      tooltipHeaderLayer.appendChild(tooltipTitleLayer);\n      tooltipLayer.appendChild(tooltipHeaderLayer);\n      tooltipLayer.appendChild(tooltipTextLayer);\n      tooltipLayer.appendChild(bulletsLayer);\n      tooltipLayer.appendChild(progressLayer); // add helper layer number\n\n      var helperNumberLayer = _createElement(\"div\");\n\n      if (this._options.showStepNumbers === true) {\n        helperNumberLayer.className = \"introjs-helperNumberLayer\";\n        helperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(this._introItems.length);\n        tooltipLayer.appendChild(helperNumberLayer);\n      }\n\n      tooltipLayer.appendChild(arrowLayer);\n      referenceLayer.appendChild(tooltipLayer); //next button\n\n      nextTooltipButton = _createElement(\"a\");\n\n      nextTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 !== self._currentStep) {\n          nextStep.call(self);\n        } else if (/introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          if (typeof self._introCompleteCallback === \"function\") {\n            self._introCompleteCallback.call(self);\n          }\n\n          exitIntro.call(self, self._targetElement);\n        }\n      };\n\n      setAnchorAsButton(nextTooltipButton);\n      nextTooltipButton.innerHTML = this._options.nextLabel; //previous button\n\n      prevTooltipButton = _createElement(\"a\");\n\n      prevTooltipButton.onclick = function () {\n        if (self._currentStep !== 0) {\n          previousStep.call(self);\n        }\n      };\n\n      setAnchorAsButton(prevTooltipButton);\n      prevTooltipButton.innerHTML = this._options.prevLabel; //skip button\n\n      skipTooltipButton = _createElement(\"a\", {\n        className: \"introjs-skipbutton\"\n      });\n      setAnchorAsButton(skipTooltipButton);\n      skipTooltipButton.innerHTML = this._options.skipLabel;\n\n      skipTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 === self._currentStep && typeof self._introCompleteCallback === \"function\") {\n          self._introCompleteCallback.call(self);\n        }\n\n        if (typeof self._introSkipCallback === \"function\") {\n          self._introSkipCallback.call(self);\n        }\n\n        exitIntro.call(self, self._targetElement);\n      };\n\n      tooltipHeaderLayer.appendChild(skipTooltipButton); //in order to prevent displaying previous button always\n\n      if (this._introItems.length > 1) {\n        buttonsLayer.appendChild(prevTooltipButton);\n      } // we always need the next button because this\n      // button changes to \"Done\" in the last step of the tour\n\n\n      buttonsLayer.appendChild(nextTooltipButton);\n      tooltipLayer.appendChild(buttonsLayer); //set proper position\n\n      placeTooltip.call(self, targetElement.element, tooltipLayer, arrowLayer); // change the scroll of the window, if needed\n\n      scrollTo.call(this, targetElement.scrollTo, targetElement, tooltipLayer); //end of new element if-else condition\n    } // removing previous disable interaction layer\n\n\n    var disableInteractionLayer = self._targetElement.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer) {\n      disableInteractionLayer.parentNode.removeChild(disableInteractionLayer);\n    } //disable interaction\n\n\n    if (targetElement.disableInteraction) {\n      _disableInteraction.call(self);\n    } // when it's the first step of tour\n\n\n    if (this._currentStep === 0 && this._introItems.length > 1) {\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n\n      if (this._options.hidePrev === true) {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-hidden\");\n        }\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          addClass(nextTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-disabled\");\n        }\n      }\n    } else if (this._introItems.length - 1 === this._currentStep || this._introItems.length === 1) {\n      // last step of tour\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (this._options.hideNext === true) {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-hidden\");\n        }\n\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          addClass(prevTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          if (this._options.nextToDone === true) {\n            nextTooltipButton.innerHTML = this._options.doneLabel;\n            addClass(nextTooltipButton, \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-donebutton\"));\n          } else {\n            nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-disabled\");\n          }\n        }\n      }\n    } else {\n      // steps between start and end\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n    }\n\n    if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n      prevTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof skipTooltipButton !== \"undefined\" && skipTooltipButton !== null) {\n      skipTooltipButton.setAttribute(\"role\", \"button\");\n    } //Set focus on \"next\" button, so that hitting Enter always moves you onto the next step\n\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.focus();\n    }\n\n    setShowElement(targetElement);\n\n    if (typeof this._introAfterChangeCallback !== \"undefined\") {\n      this._introAfterChangeCallback.call(this, targetElement.element);\n    }\n  }\n  /**\n   * Go to specific step of introduction\n   *\n   * @api private\n   * @method _goToStep\n   */\n\n\n  function goToStep(step) {\n    //because steps starts with zero\n    this._currentStep = step - 2;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to the specific step of introduction with the explicit [data-step] number\n   *\n   * @api private\n   * @method _goToStepNumber\n   */\n\n\n  function goToStepNumber(step) {\n    this._currentStepNumber = step;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to next step on intro\n   *\n   * @api private\n   * @method _nextStep\n   */\n\n\n  function nextStep() {\n    var _this = this;\n\n    this._direction = \"forward\";\n\n    if (typeof this._currentStepNumber !== \"undefined\") {\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        if (step === _this._currentStepNumber) {\n          _this._currentStep = i - 1;\n          _this._currentStepNumber = undefined;\n        }\n      });\n    }\n\n    if (typeof this._currentStep === \"undefined\") {\n      this._currentStep = 0;\n    } else {\n      ++this._currentStep;\n    }\n\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      --this._currentStep;\n      return false;\n    }\n\n    if (this._introItems.length <= this._currentStep) {\n      //end of the intro\n      //check if any callback is defined\n      if (typeof this._introCompleteCallback === \"function\") {\n        this._introCompleteCallback.call(this);\n      }\n\n      exitIntro.call(this, this._targetElement);\n      return;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Go to previous step on intro\n   *\n   * @api private\n   * @method _previousStep\n   */\n\n\n  function previousStep() {\n    this._direction = \"backward\";\n\n    if (this._currentStep === 0) {\n      return false;\n    }\n\n    --this._currentStep;\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      ++this._currentStep;\n      return false;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Returns the current step of the intro\n   *\n   * @returns {number | boolean}\n   */\n\n\n  function currentStep() {\n    return this._currentStep;\n  }\n  /**\n   * on keyCode:\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * This feature has been removed from the Web standards.\n   * Though some browsers may still support it, it is in\n   * the process of being dropped.\n   * Instead, you should use KeyboardEvent.code,\n   * if it's implemented.\n   *\n   * jQuery's approach is to test for\n   *   (1) e.which, then\n   *   (2) e.charCode, then\n   *   (3) e.keyCode\n   * https://github.com/jquery/jquery/blob/a6b0705294d336ae2f63f7276de0da1195495363/src/event.js#L638\n   *\n   * @param type var\n   * @return type\n   */\n\n\n  function onKeyDown(e) {\n    var code = e.code === undefined ? e.which : e.code; // if e.which is null\n\n    if (code === null) {\n      code = e.charCode === null ? e.keyCode : e.charCode;\n    }\n\n    if ((code === \"Escape\" || code === 27) && this._options.exitOnEsc === true) {\n      //escape key pressed, exit the intro\n      //check if exit callback is defined\n      exitIntro.call(this, this._targetElement);\n    } else if (code === \"ArrowLeft\" || code === 37) {\n      //left arrow\n      previousStep.call(this);\n    } else if (code === \"ArrowRight\" || code === 39) {\n      //right arrow\n      nextStep.call(this);\n    } else if (code === \"Enter\" || code === \"NumpadEnter\" || code === 13) {\n      //srcElement === ie\n      var target = e.target || e.srcElement;\n\n      if (target && target.className.match(\"introjs-prevbutton\")) {\n        //user hit enter while focusing on previous button\n        previousStep.call(this);\n      } else if (target && target.className.match(\"introjs-skipbutton\")) {\n        //user hit enter while focusing on skip button\n        if (this._introItems.length - 1 === this._currentStep && typeof this._introCompleteCallback === \"function\") {\n          this._introCompleteCallback.call(this);\n        }\n\n        exitIntro.call(this, this._targetElement);\n      } else if (target && target.getAttribute(\"data-stepnumber\")) {\n        // user hit enter while focusing on step bullet\n        target.click();\n      } else {\n        //default behavior for responding to enter\n        nextStep.call(this);\n      } //prevent default behaviour on hitting Enter, to prevent steps being skipped in some browsers\n\n\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n  /*\n   * makes a copy of the object\n   * @api private\n   * @method _cloneObject\n   */\n\n\n  function cloneObject(object) {\n    if (object === null || _typeof(object) !== \"object\" || typeof object.nodeType !== \"undefined\") {\n      return object;\n    }\n\n    var temp = {};\n\n    for (var key in object) {\n      if (typeof window.jQuery !== \"undefined\" && object[key] instanceof window.jQuery) {\n        temp[key] = object[key];\n      } else {\n        temp[key] = cloneObject(object[key]);\n      }\n    }\n\n    return temp;\n  }\n  /**\n   * Get a queryselector within the hint wrapper\n   *\n   * @param {String} selector\n   * @return {NodeList|Array}\n   */\n\n\n  function hintQuerySelectorAll(selector) {\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n    return hintsWrapper ? hintsWrapper.querySelectorAll(selector) : [];\n  }\n  /**\n   * Hide a hint\n   *\n   * @api private\n   * @method hideHint\n   */\n\n\n  function hideHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n    removeHintTooltip.call(this);\n\n    if (hint) {\n      addClass(hint, \"introjs-hidehint\");\n    } // call the callback function (if any)\n\n\n    if (typeof this._hintCloseCallback !== \"undefined\") {\n      this._hintCloseCallback.call(this, stepId);\n    }\n  }\n  /**\n   * Hide all hints\n   *\n   * @api private\n   * @method hideHints\n   */\n\n\n  function hideHints() {\n    var _this = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      hideHint.call(_this, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Show all hints\n   *\n   * @api private\n   * @method _showHints\n   */\n\n\n  function showHints() {\n    var _this2 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n\n    if (hints && hints.length) {\n      forEach(hints, function (hint) {\n        showHint.call(_this2, hint.getAttribute(\"data-step\"));\n      });\n    } else {\n      populateHints.call(this, this._targetElement);\n    }\n  }\n  /**\n   * Show a hint\n   *\n   * @api private\n   * @method showHint\n   */\n\n\n  function showHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      removeClass(hint, /introjs-hidehint/g);\n    }\n  }\n  /**\n   * Removes all hint elements on the page\n   * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n   *\n   * @api private\n   * @method removeHints\n   */\n\n\n  function removeHints() {\n    var _this3 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      removeHint.call(_this3, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Remove one single hint element from the page\n   * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n   * Use removeHints if you want to remove all elements.\n   *\n   * @api private\n   * @method removeHint\n   */\n\n\n  function removeHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      hint.parentNode.removeChild(hint);\n    }\n  }\n  /**\n   * Add all available hints to the page\n   *\n   * @api private\n   * @method addHints\n   */\n\n\n  function addHints() {\n    var _this4 = this;\n\n    var self = this;\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n\n    if (hintsWrapper === null) {\n      hintsWrapper = _createElement(\"div\", {\n        className: \"introjs-hints\"\n      });\n    }\n    /**\n     * Returns an event handler unique to the hint iteration\n     *\n     * @param {Integer} i\n     * @return {Function}\n     */\n\n\n    var getHintClick = function getHintClick(i) {\n      return function (e) {\n        var evt = e ? e : window.event;\n\n        if (evt.stopPropagation) {\n          evt.stopPropagation();\n        }\n\n        if (evt.cancelBubble !== null) {\n          evt.cancelBubble = true;\n        }\n\n        showHintDialog.call(self, i);\n      };\n    };\n\n    forEach(this._introItems, function (item, i) {\n      // avoid append a hint twice\n      if (document.querySelector(\".introjs-hint[data-step=\\\"\".concat(i, \"\\\"]\"))) {\n        return;\n      }\n\n      var hint = _createElement(\"a\", {\n        className: \"introjs-hint\"\n      });\n\n      setAnchorAsButton(hint);\n      hint.onclick = getHintClick(i);\n\n      if (!item.hintAnimation) {\n        addClass(hint, \"introjs-hint-no-anim\");\n      } // hint's position should be fixed if the target element's position is fixed\n\n\n      if (isFixed(item.element)) {\n        addClass(hint, \"introjs-fixedhint\");\n      }\n\n      var hintDot = _createElement(\"div\", {\n        className: \"introjs-hint-dot\"\n      });\n\n      var hintPulse = _createElement(\"div\", {\n        className: \"introjs-hint-pulse\"\n      });\n\n      hint.appendChild(hintDot);\n      hint.appendChild(hintPulse);\n      hint.setAttribute(\"data-step\", i); // we swap the hint element with target element\n      // because _setHelperLayerPosition uses `element` property\n\n      item.targetElement = item.element;\n      item.element = hint; // align the hint position\n\n      alignHintPosition.call(_this4, item.hintPosition, hint, item.targetElement);\n      hintsWrapper.appendChild(hint);\n    }); // adding the hints wrapper\n\n    document.body.appendChild(hintsWrapper); // call the callback function (if any)\n\n    if (typeof this._hintsAddedCallback !== \"undefined\") {\n      this._hintsAddedCallback.call(this);\n    }\n  }\n  /**\n   * Aligns hint position\n   *\n   * @api private\n   * @method alignHintPosition\n   * @param {String} position\n   * @param {Object} hint\n   * @param {Object} element\n   */\n\n\n  function alignHintPosition(position, _ref, element) {\n    var style = _ref.style; // get/calculate offset of target element\n\n    var offset = getOffset.call(this, element);\n    var iconWidth = 20;\n    var iconHeight = 20; // align the hint element\n\n    switch (position) {\n      default:\n      case \"top-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"top-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"bottom-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"bottom-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"middle-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"bottom-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"top-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n    }\n  }\n  /**\n   * Triggers when user clicks on the hint element\n   *\n   * @api private\n   * @method _showHintDialog\n   * @param {Number} stepId\n   */\n\n\n  function showHintDialog(stepId) {\n    var hintElement = document.querySelector(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"));\n    var item = this._introItems[stepId]; // call the callback function (if any)\n\n    if (typeof this._hintClickCallback !== \"undefined\") {\n      this._hintClickCallback.call(this, hintElement, item, stepId);\n    } // remove all open tooltips\n\n\n    var removedStep = removeHintTooltip.call(this); // to toggle the tooltip\n\n    if (parseInt(removedStep, 10) === stepId) {\n      return;\n    }\n\n    var tooltipLayer = _createElement(\"div\", {\n      className: \"introjs-tooltip\"\n    });\n\n    var tooltipTextLayer = _createElement(\"div\");\n\n    var arrowLayer = _createElement(\"div\");\n\n    var referenceLayer = _createElement(\"div\");\n\n    tooltipLayer.onclick = function (e) {\n      //IE9 & Other Browsers\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } //IE8 and Lower\n      else {\n          e.cancelBubble = true;\n        }\n    };\n\n    tooltipTextLayer.className = \"introjs-tooltiptext\";\n\n    var tooltipWrapper = _createElement(\"p\");\n\n    tooltipWrapper.innerHTML = item.hint;\n\n    var closeButton = _createElement(\"a\");\n\n    closeButton.className = this._options.buttonClass;\n    closeButton.setAttribute(\"role\", \"button\");\n    closeButton.innerHTML = this._options.hintButtonLabel;\n    closeButton.onclick = hideHint.bind(this, stepId);\n    tooltipTextLayer.appendChild(tooltipWrapper);\n    tooltipTextLayer.appendChild(closeButton);\n    arrowLayer.className = \"introjs-arrow\";\n    tooltipLayer.appendChild(arrowLayer);\n    tooltipLayer.appendChild(tooltipTextLayer); // set current step for _placeTooltip function\n\n    this._currentStep = hintElement.getAttribute(\"data-step\"); // align reference layer position\n\n    referenceLayer.className = \"introjs-tooltipReferenceLayer introjs-hintReference\";\n    referenceLayer.setAttribute(\"data-step\", hintElement.getAttribute(\"data-step\"));\n    setHelperLayerPosition.call(this, referenceLayer);\n    referenceLayer.appendChild(tooltipLayer);\n    document.body.appendChild(referenceLayer); //set proper position\n\n    placeTooltip.call(this, hintElement, tooltipLayer, arrowLayer, true);\n  }\n  /**\n   * Removes open hint (tooltip hint)\n   *\n   * @api private\n   * @method _removeHintTooltip\n   */\n\n\n  function removeHintTooltip() {\n    var tooltip = document.querySelector(\".introjs-hintReference\");\n\n    if (tooltip) {\n      var step = tooltip.getAttribute(\"data-step\");\n      tooltip.parentNode.removeChild(tooltip);\n      return step;\n    }\n  }\n  /**\n   * Start parsing hint items\n   *\n   * @api private\n   * @param {Object} targetElm\n   * @method _startHint\n   */\n\n\n  function populateHints(targetElm) {\n    var _this5 = this;\n\n    this._introItems = [];\n\n    if (this._options.hints) {\n      forEach(this._options.hints, function (hint) {\n        var currentItem = cloneObject(hint);\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        }\n\n        currentItem.hintPosition = currentItem.hintPosition || _this5._options.hintPosition;\n        currentItem.hintAnimation = currentItem.hintAnimation || _this5._options.hintAnimation;\n\n        if (currentItem.element !== null) {\n          _this5._introItems.push(currentItem);\n        }\n      });\n    } else {\n      var hints = targetElm.querySelectorAll(\"*[data-hint]\");\n\n      if (!hints || !hints.length) {\n        return false;\n      } //first add intro items with data-step\n\n\n      forEach(hints, function (currentElement) {\n        // hint animation\n        var hintAnimation = currentElement.getAttribute(\"data-hintanimation\");\n\n        if (hintAnimation) {\n          hintAnimation = hintAnimation === \"true\";\n        } else {\n          hintAnimation = _this5._options.hintAnimation;\n        }\n\n        _this5._introItems.push({\n          element: currentElement,\n          hint: currentElement.getAttribute(\"data-hint\"),\n          hintPosition: currentElement.getAttribute(\"data-hintposition\") || _this5._options.hintPosition,\n          hintAnimation: hintAnimation,\n          tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n          position: currentElement.getAttribute(\"data-position\") || _this5._options.tooltipPosition\n        });\n      });\n    }\n\n    addHints.call(this);\n    /*\n    todo:\n    these events should be removed at some point\n    */\n\n    DOMEvent.on(document, \"click\", removeHintTooltip, this, false);\n    DOMEvent.on(window, \"resize\", reAlignHints, this, true);\n  }\n  /**\n   * Re-aligns all hint elements\n   *\n   * @api private\n   * @method _reAlignHints\n   */\n\n\n  function reAlignHints() {\n    var _this6 = this;\n\n    forEach(this._introItems, function (_ref2) {\n      var targetElement = _ref2.targetElement,\n          hintPosition = _ref2.hintPosition,\n          element = _ref2.element;\n\n      if (typeof targetElement === \"undefined\") {\n        return;\n      }\n\n      alignHintPosition.call(_this6, hintPosition, element, targetElement);\n    });\n  }\n  /**\n   * Update placement of the intro objects on the screen\n   * @api private\n   */\n\n\n  function refresh() {\n    // re-align intros\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-helperLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-tooltipReferenceLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-disableInteraction\")); // re-align tooltip\n\n    if (this._currentStep !== undefined && this._currentStep !== null) {\n      var oldArrowLayer = document.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = document.querySelector(\".introjs-tooltip\");\n      placeTooltip.call(this, this._introItems[this._currentStep].element, oldtooltipContainer, oldArrowLayer);\n    } //re-align hints\n\n\n    reAlignHints.call(this);\n    return this;\n  }\n\n  function onResize() {\n    refresh.call(this);\n  }\n  /**\n   * Removes `element` from `parentElement`\n   *\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n\n  function removeChild(element, animate) {\n    if (!element || !element.parentElement) return;\n    var parentElement = element.parentElement;\n\n    if (animate) {\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        parentElement.removeChild(element);\n      }, 500);\n    } else {\n      parentElement.removeChild(element);\n    }\n  }\n  /**\n   * Exit from intro\n   *\n   * @api private\n   * @method _exitIntro\n   * @param {Object} targetElement\n   * @param {Boolean} force - Setting to `true` will skip the result of beforeExit callback\n   */\n\n\n  function exitIntro(targetElement, force) {\n    var continueExit = true; // calling onbeforeexit callback\n    //\n    // If this callback return `false`, it would halt the process\n\n    if (this._introBeforeExitCallback !== undefined) {\n      continueExit = this._introBeforeExitCallback.call(this);\n    } // skip this check if `force` parameter is `true`\n    // otherwise, if `onbeforeexit` returned `false`, don't exit the intro\n\n\n    if (!force && continueExit === false) return; // remove overlay layers from the page\n\n    var overlayLayers = targetElement.querySelectorAll(\".introjs-overlay\");\n\n    if (overlayLayers && overlayLayers.length) {\n      forEach(overlayLayers, function (overlayLayer) {\n        return removeChild(overlayLayer);\n      });\n    } //remove all helper layers\n\n\n    var helperLayer = targetElement.querySelector(\".introjs-helperLayer\");\n    removeChild(helperLayer, true);\n    var referenceLayer = targetElement.querySelector(\".introjs-tooltipReferenceLayer\");\n    removeChild(referenceLayer); //remove disableInteractionLayer\n\n    var disableInteractionLayer = targetElement.querySelector(\".introjs-disableInteraction\");\n    removeChild(disableInteractionLayer); //remove intro floating element\n\n    var floatingElement = document.querySelector(\".introjsFloatingElement\");\n    removeChild(floatingElement);\n    removeShowElement(); //clean listeners\n\n    DOMEvent.off(window, \"keydown\", onKeyDown, this, true);\n    DOMEvent.off(window, \"resize\", onResize, this, true); //check if any callback is defined\n\n    if (this._introExitCallback !== undefined) {\n      this._introExitCallback.call(this);\n    } //set the step to zero\n\n\n    this._currentStep = undefined;\n  }\n  /**\n   * Add overlay layer to the page\n   *\n   * @api private\n   * @method _addOverlayLayer\n   * @param {Object} targetElm\n   */\n\n\n  function addOverlayLayer(targetElm) {\n    var _this = this;\n\n    var overlayLayer = _createElement(\"div\", {\n      className: \"introjs-overlay\"\n    });\n\n    setStyle(overlayLayer, {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      position: \"fixed\"\n    });\n    targetElm.appendChild(overlayLayer);\n\n    if (this._options.exitOnOverlayClick === true) {\n      setStyle(overlayLayer, {\n        cursor: \"pointer\"\n      });\n\n      overlayLayer.onclick = function () {\n        exitIntro.call(_this, targetElm);\n      };\n    }\n\n    return true;\n  }\n  /**\n   * Initiate a new introduction/guide from an element in the page\n   *\n   * @api private\n   * @method _introForElement\n   * @param {Object} targetElm\n   * @param {String} group\n   * @returns {Boolean} Success or not?\n   */\n\n\n  function introForElement(targetElm, group) {\n    var _this = this;\n\n    var allIntroSteps = targetElm.querySelectorAll(\"*[data-intro]\");\n    var introItems = [];\n\n    if (this._options.steps) {\n      //use steps passed programmatically\n      forEach(this._options.steps, function (step) {\n        var currentItem = cloneObject(step); //set the step\n\n        currentItem.step = introItems.length + 1;\n        currentItem.title = currentItem.title || \"\"; //use querySelector function only when developer used CSS selector\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        } //intro without element\n\n\n        if (typeof currentItem.element === \"undefined\" || currentItem.element === null) {\n          var floatingElementQuery = document.querySelector(\".introjsFloatingElement\");\n\n          if (floatingElementQuery === null) {\n            floatingElementQuery = _createElement(\"div\", {\n              className: \"introjsFloatingElement\"\n            });\n            document.body.appendChild(floatingElementQuery);\n          }\n\n          currentItem.element = floatingElementQuery;\n          currentItem.position = \"floating\";\n        }\n\n        currentItem.scrollTo = currentItem.scrollTo || _this._options.scrollTo;\n\n        if (typeof currentItem.disableInteraction === \"undefined\") {\n          currentItem.disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (currentItem.element !== null) {\n          introItems.push(currentItem);\n        }\n      });\n    } else {\n      //use steps from data-* annotations\n      var elmsLength = allIntroSteps.length;\n      var disableInteraction; //if there's no element to intro\n\n      if (elmsLength < 1) {\n        return false;\n      }\n\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        } // skip hidden elements\n\n\n        if (currentElement.style.display === \"none\") {\n          return;\n        }\n\n        var step = parseInt(currentElement.getAttribute(\"data-step\"), 10);\n\n        if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n          disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n        } else {\n          disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (step > 0) {\n          introItems[step - 1] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: parseInt(currentElement.getAttribute(\"data-step\"), 10),\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      }); //next add intro items without data-step\n      //todo: we need a cleanup here, two loops are redundant\n\n      var _nextStep = 0;\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        }\n\n        if (currentElement.getAttribute(\"data-step\") === null) {\n          while (true) {\n            if (typeof introItems[_nextStep] === \"undefined\") {\n              break;\n            } else {\n              _nextStep++;\n            }\n          }\n\n          if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n            disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n          } else {\n            disableInteraction = _this._options.disableInteraction;\n          }\n\n          introItems[_nextStep] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: _nextStep + 1,\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      });\n    } //removing undefined/null elements\n\n\n    var tempIntroItems = [];\n\n    for (var z = 0; z < introItems.length; z++) {\n      if (introItems[z]) {\n        // copy non-falsy values to the end of the array\n        tempIntroItems.push(introItems[z]);\n      }\n    }\n\n    introItems = tempIntroItems; //Ok, sort all items with given steps\n\n    introItems.sort(function (a, b) {\n      return a.step - b.step;\n    }); //set it to the introJs object\n\n    this._introItems = introItems; //add overlay layer to the page\n\n    if (addOverlayLayer.call(this, targetElm)) {\n      //then, start the show\n      nextStep.call(this);\n\n      if (this._options.keyboardNavigation) {\n        DOMEvent.on(window, \"keydown\", onKeyDown, this, true);\n      } //for window resize\n\n\n      DOMEvent.on(window, \"resize\", onResize, this, true);\n    }\n\n    return false;\n  }\n\n  var version$1 = \"3.4.0\";\n  /**\n   * IntroJs main class\n   *\n   * @class IntroJs\n   */\n\n  function IntroJs(obj) {\n    this._targetElement = obj;\n    this._introItems = [];\n    this._options = {\n      /* Next button label in tooltip box */\n      nextLabel: \"Next\",\n\n      /* Previous button label in tooltip box */\n      prevLabel: \"Back\",\n\n      /* Skip button label in tooltip box */\n      skipLabel: \"×\",\n\n      /* Done button label in tooltip box */\n      doneLabel: \"Done\",\n\n      /* Hide previous button in the first step? Otherwise, it will be disabled button. */\n      hidePrev: false,\n\n      /* Hide next button in the last step? Otherwise, it will be disabled button (note: this will also hide the \"Done\" button) */\n      hideNext: false,\n\n      /* Change the Next button to Done in the last step of the intro? otherwise, it will render a disabled button */\n      nextToDone: true,\n\n      /* Default tooltip box position */\n      tooltipPosition: \"bottom\",\n\n      /* Next CSS class for tooltip boxes */\n      tooltipClass: \"\",\n\n      /* CSS class that is added to the helperLayer */\n      highlightClass: \"\",\n\n      /* Close introduction when pressing Escape button? */\n      exitOnEsc: true,\n\n      /* Close introduction when clicking on overlay layer? */\n      exitOnOverlayClick: true,\n\n      /* Show step numbers in introduction? */\n      showStepNumbers: false,\n\n      /* Let user use keyboard to navigate the tour? */\n      keyboardNavigation: true,\n\n      /* Show tour control buttons? */\n      showButtons: true,\n\n      /* Show tour bullets? */\n      showBullets: true,\n\n      /* Show tour progress? */\n      showProgress: false,\n\n      /* Scroll to highlighted element? */\n      scrollToElement: true,\n\n      /*\n       * Should we scroll the tooltip or target element?\n       *\n       * Options are: 'element' or 'tooltip'\n       */\n      scrollTo: \"element\",\n\n      /* Padding to add after scrolling when element is not in the viewport (in pixels) */\n      scrollPadding: 30,\n\n      /* Set the overlay opacity */\n      overlayOpacity: 0.5,\n\n      /* To determine the tooltip position automatically based on the window.width/height */\n      autoPosition: true,\n\n      /* Precedence of positions, when auto is enabled */\n      positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n\n      /* Disable an interaction with element? */\n      disableInteraction: false,\n\n      /* Set how much padding to be used around helper element */\n      helperElementPadding: 10,\n\n      /* Default hint position */\n      hintPosition: \"top-middle\",\n\n      /* Hint button label */\n      hintButtonLabel: \"Got it\",\n\n      /* Adding animation to hints? */\n      hintAnimation: true,\n\n      /* additional classes to put on the buttons */\n      buttonClass: \"introjs-button\",\n\n      /* additional classes to put on progress bar */\n      progressBarAdditionalClass: false\n    };\n  }\n\n  var introJs = function introJs(targetElm) {\n    var instance;\n\n    if (_typeof(targetElm) === \"object\") {\n      //Ok, create a new instance\n      instance = new IntroJs(targetElm);\n    } else if (typeof targetElm === \"string\") {\n      //select the target element with query selector\n      var targetElement = document.querySelector(targetElm);\n\n      if (targetElement) {\n        instance = new IntroJs(targetElement);\n      } else {\n        throw new Error(\"There is no element with given selector.\");\n      }\n    } else {\n      instance = new IntroJs(document.body);\n    } // add instance to list of _instances\n    // passing group to stamp to increment\n    // from 0 onward somewhat reliably\n\n\n    introJs.instances[stamp(instance, \"introjs-instance\")] = instance;\n    return instance;\n  };\n  /**\n   * Current IntroJs version\n   *\n   * @property version\n   * @type String\n   */\n\n\n  introJs.version = version$1;\n  /**\n   * key-val object helper for introJs instances\n   *\n   * @property instances\n   * @type Object\n   */\n\n  introJs.instances = {}; //Prototype\n\n  introJs.fn = IntroJs.prototype = {\n    clone: function clone() {\n      return new IntroJs(this);\n    },\n    setOption: function setOption(option, value) {\n      this._options[option] = value;\n      return this;\n    },\n    setOptions: function setOptions(options) {\n      this._options = mergeOptions(this._options, options);\n      return this;\n    },\n    start: function start(group) {\n      introForElement.call(this, this._targetElement, group);\n      return this;\n    },\n    goToStep: function goToStep$1(step) {\n      goToStep.call(this, step);\n      return this;\n    },\n    addStep: function addStep(options) {\n      if (!this._options.steps) {\n        this._options.steps = [];\n      }\n\n      this._options.steps.push(options);\n\n      return this;\n    },\n    addSteps: function addSteps(steps) {\n      if (!steps.length) return;\n\n      for (var index = 0; index < steps.length; index++) {\n        this.addStep(steps[index]);\n      }\n\n      return this;\n    },\n    goToStepNumber: function goToStepNumber$1(step) {\n      goToStepNumber.call(this, step);\n      return this;\n    },\n    nextStep: function nextStep$1() {\n      nextStep.call(this);\n      return this;\n    },\n    previousStep: function previousStep$1() {\n      previousStep.call(this);\n      return this;\n    },\n    currentStep: function currentStep$1() {\n      return currentStep.call(this);\n    },\n    exit: function exit(force) {\n      exitIntro.call(this, this._targetElement, force);\n      return this;\n    },\n    refresh: function refresh$1() {\n      refresh.call(this);\n      return this;\n    },\n    onbeforechange: function onbeforechange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforechange was not a function\");\n      }\n\n      return this;\n    },\n    onchange: function onchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onchange was not a function.\");\n      }\n\n      return this;\n    },\n    onafterchange: function onafterchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introAfterChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onafterchange was not a function\");\n      }\n\n      return this;\n    },\n    oncomplete: function oncomplete(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introCompleteCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for oncomplete was not a function.\");\n      }\n\n      return this;\n    },\n    onhintsadded: function onhintsadded(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintsAddedCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintsadded was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclick: function onhintclick(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintClickCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclick was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclose: function onhintclose(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintCloseCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclose was not a function.\");\n      }\n\n      return this;\n    },\n    onexit: function onexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onexit was not a function.\");\n      }\n\n      return this;\n    },\n    onskip: function onskip(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introSkipCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onskip was not a function.\");\n      }\n\n      return this;\n    },\n    onbeforeexit: function onbeforeexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforeexit was not a function.\");\n      }\n\n      return this;\n    },\n    addHints: function addHints() {\n      populateHints.call(this, this._targetElement);\n      return this;\n    },\n    hideHint: function hideHint$1(stepId) {\n      hideHint.call(this, stepId);\n      return this;\n    },\n    hideHints: function hideHints$1() {\n      hideHints.call(this);\n      return this;\n    },\n    showHint: function showHint$1(stepId) {\n      showHint.call(this, stepId);\n      return this;\n    },\n    showHints: function showHints$1() {\n      showHints.call(this);\n      return this;\n    },\n    removeHints: function removeHints$1() {\n      removeHints.call(this);\n      return this;\n    },\n    removeHint: function removeHint$1(stepId) {\n      removeHint().call(this, stepId);\n      return this;\n    },\n    showHintDialog: function showHintDialog$1(stepId) {\n      showHintDialog.call(this, stepId);\n      return this;\n    }\n  };\n  return introJs;\n});","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/ShoppingProject/client/node_modules/intro.js/intro.js"],"names":["global","factory","exports","module","define","amd","self","introJs","_typeof","obj","Symbol","iterator","constructor","prototype","mergeOptions","obj1","obj2","obj3","attrname","stamp","keys","key","arguments","length","undefined","forEach","arr","forEachFnc","completeFnc","i","len","DOMEvent","events_key","_id","type","listener","context","concat","on","useCapture","id","apply","handler","e","call","window","event","addEventListener","attachEvent","off","removeEventListener","detachEvent","commonjsGlobal","globalThis","createCommonjsModule","fn","check","it","Math","global_1","Function","fails","exec","error","descriptors","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","f","V","descriptor","enumerable","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","value","configurable","writable","toString","classofRaw","slice","split","indexedObject","requireObjectCoercible","TypeError","toIndexedObject","isObject","toPrimitive","input","PREFERRED_STRING","val","valueOf","hasOwnProperty","has","document$1","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","a","nativeGetOwnPropertyDescriptor","f$1","O","P","objectGetOwnPropertyDescriptor","anObject","String","nativeDefineProperty","f$2","Attributes","objectDefineProperty","createNonEnumerableProperty","object","setGlobal","SHARED","store","sharedStore","functionToString","inspectSource","WeakMap","nativeWeakMap","test","shared","push","version","mode","copyright","postfix","random","uid","sharedKey","hiddenKeys","WeakMap$1","set","has$1","enforce","getterFor","TYPE","state","store$1","wmget","wmhas","wmset","metadata","facade","STATE","internalState","redefine","getInternalState","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","path","aFunction","variable","getBuiltIn","namespace","method","ceil","floor","toInteger","argument","isNaN","min","toLength","max","min$1","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","result","enumBugKeys","hiddenKeys$1","f$3","getOwnPropertyNames","objectGetOwnPropertyNames","f$4","getOwnPropertySymbols","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","target","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","getOwnPropertyDescriptor$1","_export","TARGET","GLOBAL","STATIC","stat","FORCED","targetProperty","sourceProperty","forced","sham","regexpFlags","that","ignoreCase","multiline","dotAll","unicode","sticky","RE","s","RegExp","UNSUPPORTED_Y","re","lastIndex","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","str","reCopy","match","flags","charsAdded","strCopy","regexpExec","proto","engineIsNode","process","engineUserAgent","versions","v8","engineV8Version","nativeSymbol","useSymbolAsUid","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","name","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","KEY","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","methods","nativeMethod","regexp","arg2","forceStringMethod","done","stringMethod","regexMethod","arg","createMethod$1","CONVERT_TO_STRING","pos","S","position","size","first","second","charCodeAt","charAt","stringMultibyte","codeAt","advanceStringIndex","regexpExecAbstract","R","MATCH","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","A","n","matchStr","isArray","Array","toObject","createProperty","propertyKey","SPECIES$1","arraySpeciesCreate","originalArray","C","SPECIES$2","arrayMethodHasSpeciesSupport","METHOD_NAME","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","k","E","TO_STRING_TAG","toStringTagSupport","TO_STRING_TAG$1","CORRECT_ARGUMENTS","tryGet","classof","tag","callee","objectToString","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","p","rf","isRegexp","isRegExp","aFunction$1","SPECIES$3","speciesConstructor","defaultConstructor","arrayPush","min$2","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","separator","limit","lim","output","lastLastIndex","separatorCopy","lastLength","splitter","unicodeMatching","q","z","addClass","element","className","SVGElement","pre","getAttribute","setAttribute","classList","classes","cls","add","getPropValue","propName","propValue","currentStyle","defaultView","getComputedStyle","getPropertyValue","setShowElement","_ref","currentElementPosition","getScrollParent","style","excludeStaticParent","overflowRegex","body","parent","parentElement","overflow","overflowY","overflowX","scrollParentToElement","targetElement","_options","scrollToElement","scrollTop","offsetTop","getWinSize","innerWidth","width","height","innerHeight","D","documentElement","clientWidth","clientHeight","elementInViewport","rect","getBoundingClientRect","top","left","bottom","right","scrollTo","tooltipLayer","winHeight","scrollBy","scrollPadding","setAnchorAsButton","anchor","tabIndex","objectKeys","nativeAssign","assign","objectAssign","b","B","symbol","alphabet","chr","T","argumentsLength","j","getOffset","relativeEl","docEl","pageYOffset","scrollLeft","pageXOffset","x","xr","relativeElPosition","tagName","isFixed","parentNode","nodeName","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","getSubstitution","matched","captures","namedCaptures","tailPos","m","symbols","ch","capture","max$1","min$3","maybeToString","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","replacerArgs","removeClass","classNameRegex","setStyle","cssText","rule","setHelperLayerPosition","helperLayer","_introItems","_currentStep","currentElement","elementPosition","_targetElement","widthHeightPadding","helperElementPadding","objectDefineProperties","defineProperties","Properties","html","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","activeXDocument","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframe","JS","iframeDocument","display","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","objectCreate","create","UNSCOPABLES","ArrayPrototype","addToUnscopables","$includes","HAS_SPECIES_SUPPORT","SPECIES$4","nativeSlice","max$2","start","end","fin","Constructor","notARegexp","MATCH$1","correctIsRegexpLogic","error1","error2","searchString","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","functionBindContext","c","createMethod$2","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","specificCreate","boundFunction","arrayIteration","map","filter","some","every","find","findIndex","filterOut","$filter","HAS_SPECIES_SUPPORT$1","checkRight","targetOffset","tooltipLayerStyleLeft","tooltipOffset","windowSize","checkLeft","tooltipLayerStyleRight","HAS_SPECIES_SUPPORT$2","max$3","min$4","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","deleteCount","actualStart","insertCount","actualDeleteCount","from","to","removeEntry","stringArray","stringToRemove","_determineAutoAlignment","offsetLeft","tooltipWidth","desiredAlignment","halfTooltipWidth","winWidth","screen","possibleAlignments","calculatedAlignment","_determineAutoPosition","desiredTooltipPosition","possiblePositions","positionPrecedence","tooltipHeight","targetElementRect","calculatedPosition","hyphenIndex","substr","placeTooltip","arrowLayer","hintMode","tooltipCssClass","currentStepObj","currentTooltipPosition","marginLeft","marginTop","tooltipClass","autoPosition","tooltipLayerStyleLeftRight","showStepNumbers","removeShowElement","elms","querySelectorAll","elm","_createElement","tagname","attrs","setAttRegex","v","animate","existingOpacity","opacity","setTimeout","_getProgress","currentStep","parseInt","_disableInteraction","disableInteractionLayer","querySelector","_showElement","_this","_introChangeCallback","oldHelperLayer","oldReferenceLayer","highlightClass","nextTooltipButton","prevTooltipButton","skipTooltipButton","oldHelperNumberLayer","oldtooltipLayer","oldTooltipTitleLayer","oldArrowLayer","oldtooltipContainer","_lastShowElementTimer","clearTimeout","innerHTML","step","intro","title","showBullets","focus","referenceLayer","tooltipTextLayer","tooltipHeaderLayer","tooltipTitleLayer","bulletsLayer","progressLayer","buttonsLayer","overlayOpacity","ulContainer","anchorClick","goToStep","innerLi","anchorLink","onclick","showProgress","progressBar","progressBarAdditionalClass","showButtons","helperNumberLayer","nextStep","_introCompleteCallback","exitIntro","nextLabel","previousStep","prevLabel","skipLabel","_introSkipCallback","removeChild","disableInteraction","buttonClass","hidePrev","hideNext","nextToDone","doneLabel","_introAfterChangeCallback","goToStepNumber","_currentStepNumber","_direction","continueStep","_introBeforeChangeCallback","onKeyDown","code","which","charCode","keyCode","exitOnEsc","srcElement","click","preventDefault","returnValue","cloneObject","nodeType","jQuery","hintQuerySelectorAll","selector","hintsWrapper","hideHint","stepId","hint","removeHintTooltip","_hintCloseCallback","hideHints","hints","showHints","_this2","showHint","populateHints","removeHints","_this3","removeHint","addHints","_this4","getHintClick","evt","stopPropagation","cancelBubble","showHintDialog","item","hintAnimation","hintDot","hintPulse","alignHintPosition","hintPosition","_hintsAddedCallback","offset","iconWidth","iconHeight","hintElement","_hintClickCallback","removedStep","tooltipWrapper","closeButton","hintButtonLabel","bind","tooltip","targetElm","_this5","currentItem","tooltipPosition","reAlignHints","_this6","_ref2","refresh","onResize","force","continueExit","_introBeforeExitCallback","overlayLayers","overlayLayer","floatingElement","_introExitCallback","addOverlayLayer","exitOnOverlayClick","cursor","introForElement","group","allIntroSteps","introItems","steps","floatingElementQuery","elmsLength","hasAttribute","_nextStep","tempIntroItems","sort","keyboardNavigation","version$1","IntroJs","instance","Error","instances","clone","setOption","option","setOptions","goToStep$1","addStep","addSteps","goToStepNumber$1","nextStep$1","previousStep$1","currentStep$1","exit","refresh$1","onbeforechange","providedCallback","onchange","onafterchange","oncomplete","onhintsadded","onhintclick","onhintclose","onexit","onskip","onbeforeexit","hideHint$1","hideHints$1","showHint$1","showHints$1","removeHints$1","removeHint$1","showHintDialog$1"],"mappings":"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","sourcesContent":["/*!\n * Intro.js v3.4.0\n * https://introjs.com\n *\n * Copyright (C) 2012-2021 Afshin Mehrabani (@afshinmeh).\n * https://raw.githubusercontent.com/usablica/intro.js/master/license.md\n *\n * Date: Thu, 25 Mar 2021 09:48:49 GMT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.introJs = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  /**\n   * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1\n   * via: http://stackoverflow.com/questions/171251/how-can-i-merge-properties-of-two-javascript-objects-dynamically\n   *\n   * @param obj1\n   * @param obj2\n   * @returns obj3 a new object based on obj1 and obj2\n   */\n  function mergeOptions(obj1, obj2) {\n    var obj3 = {};\n    var attrname;\n\n    for (attrname in obj1) {\n      obj3[attrname] = obj1[attrname];\n    }\n\n    for (attrname in obj2) {\n      obj3[attrname] = obj2[attrname];\n    }\n\n    return obj3;\n  }\n\n  /**\n   * Mark any object with an incrementing number\n   * used for keeping track of objects\n   *\n   * @param Object obj   Any object or DOM Element\n   * @param String key\n   * @return Object\n   */\n  var stamp = function () {\n    var keys = {};\n    return function stamp(obj) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"introjs-stamp\";\n      // each group increments from 0\n      keys[key] = keys[key] || 0; // stamp only once per object\n\n      if (obj[key] === undefined) {\n        // increment key for each new object\n        obj[key] = keys[key]++;\n      }\n\n      return obj[key];\n    };\n  }();\n\n  /**\n   * Iterates arrays\n   *\n   * @param {Array} arr\n   * @param {Function} forEachFnc\n   * @param {Function} completeFnc\n   * @return {Null}\n   */\n  function forEach(arr, forEachFnc, completeFnc) {\n    // in case arr is an empty query selector node list\n    if (arr) {\n      for (var i = 0, len = arr.length; i < len; i++) {\n        forEachFnc(arr[i], i);\n      }\n    }\n\n    if (typeof completeFnc === \"function\") {\n      completeFnc();\n    }\n  }\n\n  /**\n   * DOMEvent Handles all DOM events\n   *\n   * methods:\n   *\n   * on - add event handler\n   * off - remove event\n   */\n\n  var DOMEvent = function () {\n    function DOMEvent() {\n      var events_key = \"introjs_event\";\n      /**\n       * Gets a unique ID for an event listener\n       *\n       * @param obj Object\n       * @param type event type\n       * @param listener Function\n       * @param context Object\n       * @return String\n       */\n\n      this._id = function (obj, type, listener, context) {\n        return type + stamp(listener) + (context ? \"_\".concat(stamp(context)) : \"\");\n      };\n      /**\n       * Adds event listener\n       *\n       * @param obj Object obj\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.on = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = function handler(e) {\n          return listener.call(context || obj, e || window.event);\n        };\n\n        if (\"addEventListener\" in obj) {\n          obj.addEventListener(type, handler, useCapture);\n        } else if (\"attachEvent\" in obj) {\n          obj.attachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key] = obj[events_key] || {};\n        obj[events_key][id] = handler;\n      };\n      /**\n       * Removes event listener\n       *\n       * @param obj Object\n       * @param type String\n       * @param listener Function\n       * @param context Object\n       * @param useCapture Boolean\n       * @return null\n       */\n\n\n      this.off = function (obj, type, listener, context, useCapture) {\n        var id = this._id.apply(this, arguments);\n\n        var handler = obj[events_key] && obj[events_key][id];\n\n        if (!handler) {\n          return;\n        }\n\n        if (\"removeEventListener\" in obj) {\n          obj.removeEventListener(type, handler, useCapture);\n        } else if (\"detachEvent\" in obj) {\n          obj.detachEvent(\"on\".concat(type), handler);\n        }\n\n        obj[events_key][id] = null;\n      };\n    }\n\n    return new DOMEvent();\n  }();\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    /* global globalThis -- safe */\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func -- fallback\n    (function () { return this; })() || Function('return this')();\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Detect IE8's incomplete defineProperty implementation\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n  var f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins -- safe\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.es/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.es/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n  var f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$1\n  };\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  var f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.9.1',\n    mode:  'global',\n    copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = sharedStore.state || (sharedStore.state = new WeakMap$1());\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      metadata.facade = it;\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      metadata.facade = it;\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    var state;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) {\n        createNonEnumerableProperty(value, 'name', key);\n      }\n      state = enforceInternalState(value);\n      if (!state.source) {\n        state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n      }\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.es/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.es/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare -- NaN check\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.es/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.es/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  // `RegExp.prototype.exec` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.exec\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  var engineIsNode = classofRaw(global_1.process) == 'process';\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    /* global Symbol -- required for testing */\n    return !Symbol.sham &&\n      // Chrome 38 Symbol has incorrect toString conversion\n      // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n      (engineIsNode ? engineV8Version === 38 : engineV8Version > 37 && engineV8Version < 41);\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    /* global Symbol -- safe */\n    && !Symbol.sham\n    && typeof Symbol.iterator == 'symbol';\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name) || !(nativeSymbol || typeof WellKnownSymbolsStore[name] == 'string')) {\n      if (nativeSymbol && has(Symbol$1, name)) {\n        WellKnownSymbolsStore[name] = Symbol$1[name];\n      } else {\n        WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n      }\n    } return WellKnownSymbolsStore[name];\n  };\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$1 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$1(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$1(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.es/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.es/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.es/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  // `IsArray` abstract operation\n  // https://tc39.es/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.es/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.es/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES$1];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$2] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.es/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    concat: function concat(arg) {\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$1)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n\n  var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n  // FF44- RegExp#toString has a wrong name\n  var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n  // `RegExp.prototype.toString` method\n  // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, { unsafe: true });\n  }\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.es/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.es/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$2 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF;\n\n  // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n  var SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n  // @@split logic\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n    if (\n      'abbc'.split(/(b)*/)[1] == 'c' ||\n      // eslint-disable-next-line regexp/no-empty-group -- required for testing\n      'test'.split(/(?:)/, -1).length != 4 ||\n      'ab'.split(/(?:ab)*/).length != 2 ||\n      '.'.split(/(.?)(.?)/).length != 4 ||\n      // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n      '.'.split(/()()/).length > 1 ||\n      ''.split(/.?/).length\n    ) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function (separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string];\n        // If `separator` is not a regex, use native split\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output.length > lim ? output.slice(0, lim) : output;\n      };\n    // Chakra, V8\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [\n      // `String.prototype.split` method\n      // https://tc39.es/ecma262/#sec-string.prototype.split\n      function split(separator, limit) {\n        var O = requireObjectCoercible(this);\n        var splitter = separator == undefined ? undefined : separator[SPLIT];\n        return splitter !== undefined\n          ? splitter.call(separator, O, limit)\n          : internalSplit.call(String(O), separator, limit);\n      },\n      // `RegExp.prototype[@@split]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n      //\n      // NOTE: This cannot be properly polyfilled in engines that don't support\n      // the 'y' flag.\n      function (regexp, limit) {\n        var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n        var C = speciesConstructor(rx, RegExp);\n\n        var unicodeMatching = rx.unicode;\n        var flags = (rx.ignoreCase ? 'i' : '') +\n                    (rx.multiline ? 'm' : '') +\n                    (rx.unicode ? 'u' : '') +\n                    (SUPPORTS_Y ? 'y' : 'g');\n\n        // ^(? + rx + ) is needed, in combination with some S slicing, to\n        // simulate the 'y' flag.\n        var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n        var p = 0;\n        var q = 0;\n        var A = [];\n        while (q < S.length) {\n          splitter.lastIndex = SUPPORTS_Y ? q : 0;\n          var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n          var e;\n          if (\n            z === null ||\n            (e = min$2(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n          ) {\n            q = advanceStringIndex(S, q, unicodeMatching);\n          } else {\n            A.push(S.slice(p, q));\n            if (A.length === lim) return A;\n            for (var i = 1; i <= z.length - 1; i++) {\n              A.push(z[i]);\n              if (A.length === lim) return A;\n            }\n            q = p = e;\n          }\n        }\n        A.push(S.slice(p));\n        return A;\n      }\n    ];\n  }, !SUPPORTS_Y);\n\n  /**\n   * Append a class to an element\n   *\n   * @api private\n   * @method _addClass\n   * @param {Object} element\n   * @param {String} className\n   * @returns null\n   */\n\n  function addClass(element, className) {\n    if (element instanceof SVGElement) {\n      // svg\n      var pre = element.getAttribute(\"class\") || \"\";\n\n      if (!pre.match(className)) {\n        // check if element doesn't already have className\n        element.setAttribute(\"class\", \"\".concat(pre, \" \").concat(className));\n      }\n    } else {\n      if (element.classList !== undefined) {\n        // check for modern classList property\n        var classes = className.split(\" \");\n        forEach(classes, function (cls) {\n          element.classList.add(cls);\n        });\n      } else if (!element.className.match(className)) {\n        // check if element doesn't already have className\n        element.className += \" \".concat(className);\n      }\n    }\n  }\n\n  /**\n   * Get an element CSS property on the page\n   * Thanks to JavaScript Kit: http://www.javascriptkit.com/dhtmltutors/dhtmlcascade4.shtml\n   *\n   * @api private\n   * @method _getPropValue\n   * @param {Object} element\n   * @param {String} propName\n   * @returns string property value\n   */\n  function getPropValue(element, propName) {\n    var propValue = \"\";\n\n    if (element.currentStyle) {\n      //IE\n      propValue = element.currentStyle[propName];\n    } else if (document.defaultView && document.defaultView.getComputedStyle) {\n      //Others\n      propValue = document.defaultView.getComputedStyle(element, null).getPropertyValue(propName);\n    } //Prevent exception in IE\n\n\n    if (propValue && propValue.toLowerCase) {\n      return propValue.toLowerCase();\n    } else {\n      return propValue;\n    }\n  }\n\n  /**\n   * To set the show element\n   * This function set a relative (in most cases) position and changes the z-index\n   *\n   * @api private\n   * @method _setShowElement\n   * @param {Object} targetElement\n   */\n\n  function setShowElement(_ref) {\n    var element = _ref.element;\n    addClass(element, \"introjs-showElement\");\n    var currentElementPosition = getPropValue(element, \"position\");\n\n    if (currentElementPosition !== \"absolute\" && currentElementPosition !== \"relative\" && currentElementPosition !== \"sticky\" && currentElementPosition !== \"fixed\") {\n      //change to new intro item\n      addClass(element, \"introjs-relativePosition\");\n    }\n  }\n\n  /**\n   * Find the nearest scrollable parent\n   * copied from https://stackoverflow.com/questions/35939886/find-first-scrollable-parent\n   *\n   * @param Element element\n   * @return Element\n   */\n  function getScrollParent(element) {\n    var style = window.getComputedStyle(element);\n    var excludeStaticParent = style.position === \"absolute\";\n    var overflowRegex = /(auto|scroll)/;\n    if (style.position === \"fixed\") return document.body;\n\n    for (var parent = element; parent = parent.parentElement;) {\n      style = window.getComputedStyle(parent);\n\n      if (excludeStaticParent && style.position === \"static\") {\n        continue;\n      }\n\n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\n    }\n\n    return document.body;\n  }\n\n  /**\n   * scroll a scrollable element to a child element\n   *\n   * @param {Object} targetElement\n   */\n\n  function scrollParentToElement(targetElement) {\n    var element = targetElement.element;\n    if (!this._options.scrollToElement) return;\n    var parent = getScrollParent(element);\n    if (parent === document.body) return;\n    parent.scrollTop = element.offsetTop - parent.offsetTop;\n  }\n\n  /**\n   * Provides a cross-browser way to get the screen dimensions\n   * via: http://stackoverflow.com/questions/5864467/internet-explorer-innerheight\n   *\n   * @api private\n   * @method _getWinSize\n   * @returns {Object} width and height attributes\n   */\n  function getWinSize() {\n    if (window.innerWidth !== undefined) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    } else {\n      var D = document.documentElement;\n      return {\n        width: D.clientWidth,\n        height: D.clientHeight\n      };\n    }\n  }\n\n  /**\n   * Check to see if the element is in the viewport or not\n   * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n   *\n   * @api private\n   * @method _elementInViewport\n   * @param {Object} el\n   */\n  function elementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom + 80 <= window.innerHeight && // add 80 to get the text right\n    rect.right <= window.innerWidth;\n  }\n\n  /**\n   * To change the scroll of `window` after highlighting an element\n   *\n   * @api private\n   * @param {String} scrollTo\n   * @param {Object} targetElement\n   * @param {Object} tooltipLayer\n   */\n\n  function scrollTo(scrollTo, _ref, tooltipLayer) {\n    var element = _ref.element;\n    if (scrollTo === \"off\") return;\n    var rect;\n    if (!this._options.scrollToElement) return;\n\n    if (scrollTo === \"tooltip\") {\n      rect = tooltipLayer.getBoundingClientRect();\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n\n    if (!elementInViewport(element)) {\n      var winHeight = getWinSize().height;\n      var top = rect.bottom - (rect.bottom - rect.top); // TODO (afshinm): do we need scroll padding now?\n      // I have changed the scroll option and now it scrolls the window to\n      // the center of the target element or tooltip.\n\n      if (top < 0 || element.clientHeight > winHeight) {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) - this._options.scrollPadding); // 30px padding from edge to look nice\n        //Scroll down\n      } else {\n        window.scrollBy(0, rect.top - (winHeight / 2 - rect.height / 2) + this._options.scrollPadding); // 30px padding from edge to look nice\n      }\n    }\n  }\n\n  /**\n   * Setting anchors to behave like buttons\n   *\n   * @api private\n   * @method _setAnchorAsButton\n   */\n  function setAnchorAsButton(anchor) {\n    anchor.setAttribute(\"role\", \"button\");\n    anchor.tabIndex = 0;\n  }\n\n  // `Object.keys` method\n  // https://tc39.es/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  var nativeAssign = Object.assign;\n  var defineProperty = Object.defineProperty;\n\n  // `Object.assign` method\n  // https://tc39.es/ecma262/#sec-object.assign\n  var objectAssign = !nativeAssign || fails(function () {\n    // should have correct order of operations (Edge bug)\n    if (descriptors && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n      enumerable: true,\n      get: function () {\n        defineProperty(this, 'b', {\n          value: 3,\n          enumerable: false\n        });\n      }\n    }), { b: 2 })).b !== 1) return true;\n    // should work with symbols and should have deterministic property order (V8 bug)\n    var A = {};\n    var B = {};\n    /* global Symbol -- required for testing */\n    var symbol = Symbol();\n    var alphabet = 'abcdefghijklmnopqrst';\n    A[symbol] = 7;\n    alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n    return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n    var T = toObject(target);\n    var argumentsLength = arguments.length;\n    var index = 1;\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n    while (argumentsLength > index) {\n      var S = indexedObject(arguments[index++]);\n      var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) {\n        key = keys[j++];\n        if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n      }\n    } return T;\n  } : nativeAssign;\n\n  // `Object.assign` method\n  // https://tc39.es/ecma262/#sec-object.assign\n  _export({ target: 'Object', stat: true, forced: Object.assign !== objectAssign }, {\n    assign: objectAssign\n  });\n\n  /**\n   * Get an element position on the page relative to another element (or body)\n   * Thanks to `meouw`: http://stackoverflow.com/a/442474/375966\n   *\n   * @api private\n   * @method getOffset\n   * @param {Object} element\n   * @param {Object} relativeEl\n   * @returns Element's position info\n   */\n\n  function getOffset(element, relativeEl) {\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    relativeEl = relativeEl || body;\n    var x = element.getBoundingClientRect();\n    var xr = relativeEl.getBoundingClientRect();\n    var relativeElPosition = getPropValue(relativeEl, \"position\");\n    var obj = {\n      width: x.width,\n      height: x.height\n    };\n\n    if (relativeEl.tagName.toLowerCase() !== \"body\" && relativeElPosition === \"relative\" || relativeElPosition === \"sticky\") {\n      // when the container of our target element is _not_ body and has either \"relative\" or \"sticky\" position, we should not\n      // consider the scroll position but we need to include the relative x/y of the container element\n      return Object.assign(obj, {\n        top: x.top - xr.top,\n        left: x.left - xr.left\n      });\n    } else {\n      return Object.assign(obj, {\n        top: x.top + scrollTop,\n        left: x.left + scrollLeft\n      });\n    }\n  }\n\n  /**\n   * Checks to see if target element (or parents) position is fixed or not\n   *\n   * @api private\n   * @method _isFixed\n   * @param {Object} element\n   * @returns Boolean\n   */\n\n  function isFixed(element) {\n    var p = element.parentNode;\n\n    if (!p || p.nodeName === \"HTML\") {\n      return false;\n    }\n\n    if (getPropValue(element, \"position\") === \"fixed\") {\n      return true;\n    }\n\n    return isFixed(p);\n  }\n\n  var floor$1 = Math.floor;\n  var replace = ''.replace;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n  // https://tc39.es/ecma262/#sec-getsubstitution\n  var getSubstitution = function (matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor$1(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  };\n\n  var max$1 = Math.max;\n  var min$3 = Math.min;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.es/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$1(min$3(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n  });\n\n  /**\n   * Remove a class from an element\n   *\n   * @api private\n   * @method _removeClass\n   * @param {Object} element\n   * @param {RegExp|String} classNameRegex can be regex or string\n   * @returns null\n   */\n  function removeClass(element, classNameRegex) {\n    if (element instanceof SVGElement) {\n      var pre = element.getAttribute(\"class\") || \"\";\n      element.setAttribute(\"class\", pre.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\"));\n    } else {\n      element.className = element.className.replace(classNameRegex, \"\").replace(/^\\s+|\\s+$/g, \"\");\n    }\n  }\n\n  /**\n   * Sets the style of an DOM element\n   *\n   * @param {Object} element\n   * @param {Object|string} style\n   * @return null\n   */\n  function setStyle(element, style) {\n    var cssText = \"\";\n\n    if (element.style.cssText) {\n      cssText += element.style.cssText;\n    }\n\n    if (typeof style === \"string\") {\n      cssText += style;\n    } else {\n      for (var rule in style) {\n        cssText += \"\".concat(rule, \":\").concat(style[rule], \";\");\n      }\n    }\n\n    element.style.cssText = cssText;\n  }\n\n  /**\n   * Update the position of the helper layer on the screen\n   *\n   * @api private\n   * @method _setHelperLayerPosition\n   * @param {Object} helperLayer\n   */\n\n  function setHelperLayerPosition(helperLayer) {\n    if (helperLayer) {\n      //prevent error when `this._currentStep` in undefined\n      if (!this._introItems[this._currentStep]) return;\n      var currentElement = this._introItems[this._currentStep];\n      var elementPosition = getOffset(currentElement.element, this._targetElement);\n      var widthHeightPadding = this._options.helperElementPadding; // If the target element is fixed, the tooltip should be fixed as well.\n      // Otherwise, remove a fixed class that may be left over from the previous\n      // step.\n\n      if (isFixed(currentElement.element)) {\n        addClass(helperLayer, \"introjs-fixedTooltip\");\n      } else {\n        removeClass(helperLayer, \"introjs-fixedTooltip\");\n      }\n\n      if (currentElement.position === \"floating\") {\n        widthHeightPadding = 0;\n      } //set new position to helper layer\n\n\n      setStyle(helperLayer, {\n        width: \"\".concat(elementPosition.width + widthHeightPadding, \"px\"),\n        height: \"\".concat(elementPosition.height + widthHeightPadding, \"px\"),\n        top: \"\".concat(elementPosition.top - widthHeightPadding / 2, \"px\"),\n        left: \"\".concat(elementPosition.left - widthHeightPadding / 2, \"px\")\n      });\n    }\n  }\n\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject -- old IE */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes;\n\n\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\n  var SPECIES$4 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$2 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$4];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$2(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (error1) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (error2) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.es/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\n  var createMethod$2 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var IS_FILTER_OUT = TYPE == 7;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else switch (TYPE) {\n            case 4: return false;             // every\n            case 7: push.call(target, value); // filterOut\n          }\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.es/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$2(0),\n    // `Array.prototype.map` method\n    // https://tc39.es/ecma262/#sec-array.prototype.map\n    map: createMethod$2(1),\n    // `Array.prototype.filter` method\n    // https://tc39.es/ecma262/#sec-array.prototype.filter\n    filter: createMethod$2(2),\n    // `Array.prototype.some` method\n    // https://tc39.es/ecma262/#sec-array.prototype.some\n    some: createMethod$2(3),\n    // `Array.prototype.every` method\n    // https://tc39.es/ecma262/#sec-array.prototype.every\n    every: createMethod$2(4),\n    // `Array.prototype.find` method\n    // https://tc39.es/ecma262/#sec-array.prototype.find\n    find: createMethod$2(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$2(6),\n    // `Array.prototype.filterOut` method\n    // https://github.com/tc39/proposal-array-filtering\n    filterOut: createMethod$2(7)\n  };\n\n  var $filter = arrayIteration.filter;\n\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  /**\n   * Set tooltip left so it doesn't go off the right side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleLeft is ok.  false, otherwise.\n   */\n  function checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer) {\n    if (targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width > windowSize.width) {\n      // off the right side of the window\n      tooltipLayer.style.left = \"\".concat(windowSize.width - tooltipOffset.width - targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.left = \"\".concat(tooltipLayerStyleLeft, \"px\");\n    return true;\n  }\n\n  /**\n   * Set tooltip right so it doesn't go off the left side of the window\n   *\n   * @return boolean true, if tooltipLayerStyleRight is ok.  false, otherwise.\n   */\n  function checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer) {\n    if (targetOffset.left + targetOffset.width - tooltipLayerStyleRight - tooltipOffset.width < 0) {\n      // off the left side of the window\n      tooltipLayer.style.left = \"\".concat(-targetOffset.left, \"px\");\n      return false;\n    }\n\n    tooltipLayer.style.right = \"\".concat(tooltipLayerStyleRight, \"px\");\n    return true;\n  }\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('splice');\n\n  var max$3 = Math.max;\n  var min$4 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n  // `Array.prototype.splice` method\n  // https://tc39.es/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 }, {\n    splice: function splice(start, deleteCount /* , ...items */) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$4(max$3(toInteger(deleteCount), 0), len - actualStart);\n      }\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n      A = arraySpeciesCreate(O, actualDeleteCount);\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n      A.length = actualDeleteCount;\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n      }\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n\n  /**\n   * Remove an entry from a string array if it's there, does nothing if it isn't there.\n   *\n   * @param {Array} stringArray\n   * @param {String} stringToRemove\n   */\n  function removeEntry(stringArray, stringToRemove) {\n    if (stringArray.includes(stringToRemove)) {\n      stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n    }\n  }\n\n  /**\n   * auto-determine alignment\n   * @param {Integer}  offsetLeft\n   * @param {Integer}  tooltipWidth\n   * @param {Object}   windowSize\n   * @param {String}   desiredAlignment\n   * @return {String}  calculatedAlignment\n   */\n\n  function _determineAutoAlignment(offsetLeft, tooltipWidth, _ref, desiredAlignment) {\n    var width = _ref.width;\n    var halfTooltipWidth = tooltipWidth / 2;\n    var winWidth = Math.min(width, window.screen.width);\n    var possibleAlignments = [\"-left-aligned\", \"-middle-aligned\", \"-right-aligned\"];\n    var calculatedAlignment = \"\"; // valid left must be at least a tooltipWidth\n    // away from right side\n\n    if (winWidth - offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-left-aligned\");\n    } // valid middle must be at least half\n    // width away from both sides\n\n\n    if (offsetLeft < halfTooltipWidth || winWidth - offsetLeft < halfTooltipWidth) {\n      removeEntry(possibleAlignments, \"-middle-aligned\");\n    } // valid right must be at least a tooltipWidth\n    // width away from left side\n\n\n    if (offsetLeft < tooltipWidth) {\n      removeEntry(possibleAlignments, \"-right-aligned\");\n    }\n\n    if (possibleAlignments.length) {\n      if (possibleAlignments.includes(desiredAlignment)) {\n        // the desired alignment is valid\n        calculatedAlignment = desiredAlignment;\n      } else {\n        // pick the first valid position, in order\n        calculatedAlignment = possibleAlignments[0];\n      }\n    } else {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      calculatedAlignment = \"-middle-aligned\";\n    }\n\n    return calculatedAlignment;\n  }\n  /**\n   * Determines the position of the tooltip based on the position precedence and availability\n   * of screen space.\n   *\n   * @param {Object}    targetElement\n   * @param {Object}    tooltipLayer\n   * @param {String}    desiredTooltipPosition\n   * @return {String}   calculatedPosition\n   */\n\n\n  function _determineAutoPosition(targetElement, tooltipLayer, desiredTooltipPosition) {\n    // Take a clone of position precedence. These will be the available\n    var possiblePositions = this._options.positionPrecedence.slice();\n\n    var windowSize = getWinSize();\n    var tooltipHeight = getOffset(tooltipLayer).height + 10;\n    var tooltipWidth = getOffset(tooltipLayer).width + 20;\n    var targetElementRect = targetElement.getBoundingClientRect(); // If we check all the possible areas, and there are no valid places for the tooltip, the element\n    // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n\n    var calculatedPosition = \"floating\";\n    /*\n     * auto determine position\n     */\n    // Check for space below\n\n    if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n      removeEntry(possiblePositions, \"bottom\");\n    } // Check for space above\n\n\n    if (targetElementRect.top - tooltipHeight < 0) {\n      removeEntry(possiblePositions, \"top\");\n    } // Check for space to the right\n\n\n    if (targetElementRect.right + tooltipWidth > windowSize.width) {\n      removeEntry(possiblePositions, \"right\");\n    } // Check for space to the left\n\n\n    if (targetElementRect.left - tooltipWidth < 0) {\n      removeEntry(possiblePositions, \"left\");\n    } // @var {String}  ex: 'right-aligned'\n\n\n    var desiredAlignment = function (pos) {\n      var hyphenIndex = pos.indexOf(\"-\");\n\n      if (hyphenIndex !== -1) {\n        // has alignment\n        return pos.substr(hyphenIndex);\n      }\n\n      return \"\";\n    }(desiredTooltipPosition || \"\"); // strip alignment from position\n\n\n    if (desiredTooltipPosition) {\n      // ex: \"bottom-right-aligned\"\n      // should return 'bottom'\n      desiredTooltipPosition = desiredTooltipPosition.split(\"-\")[0];\n    }\n\n    if (possiblePositions.length) {\n      if (possiblePositions.includes(desiredTooltipPosition)) {\n        // If the requested position is in the list, choose that\n        calculatedPosition = desiredTooltipPosition;\n      } else {\n        // Pick the first valid position, in order\n        calculatedPosition = possiblePositions[0];\n      }\n    } // only top and bottom positions have optional alignments\n\n\n    if ([\"top\", \"bottom\"].includes(calculatedPosition)) {\n      calculatedPosition += _determineAutoAlignment(targetElementRect.left, tooltipWidth, windowSize, desiredAlignment);\n    }\n\n    return calculatedPosition;\n  }\n  /**\n   * Render tooltip box in the page\n   *\n   * @api private\n   * @method placeTooltip\n   * @param {HTMLElement} targetElement\n   * @param {HTMLElement} tooltipLayer\n   * @param {HTMLElement} arrowLayer\n   * @param {Boolean} hintMode\n   */\n\n\n  function placeTooltip(targetElement, tooltipLayer, arrowLayer, hintMode) {\n    var tooltipCssClass = \"\";\n    var currentStepObj;\n    var tooltipOffset;\n    var targetOffset;\n    var windowSize;\n    var currentTooltipPosition;\n    hintMode = hintMode || false; //reset the old style\n\n    tooltipLayer.style.top = null;\n    tooltipLayer.style.right = null;\n    tooltipLayer.style.bottom = null;\n    tooltipLayer.style.left = null;\n    tooltipLayer.style.marginLeft = null;\n    tooltipLayer.style.marginTop = null;\n    arrowLayer.style.display = \"inherit\"; //prevent error when `this._currentStep` is undefined\n\n    if (!this._introItems[this._currentStep]) return; //if we have a custom css class for each step\n\n    currentStepObj = this._introItems[this._currentStep];\n\n    if (typeof currentStepObj.tooltipClass === \"string\") {\n      tooltipCssClass = currentStepObj.tooltipClass;\n    } else {\n      tooltipCssClass = this._options.tooltipClass;\n    }\n\n    tooltipLayer.className = [\"introjs-tooltip\", tooltipCssClass].filter(Boolean).join(\" \");\n    tooltipLayer.setAttribute(\"role\", \"dialog\");\n    currentTooltipPosition = this._introItems[this._currentStep].position; // Floating is always valid, no point in calculating\n\n    if (currentTooltipPosition !== \"floating\" && this._options.autoPosition) {\n      currentTooltipPosition = _determineAutoPosition.call(this, targetElement, tooltipLayer, currentTooltipPosition);\n    }\n\n    var tooltipLayerStyleLeft;\n    targetOffset = getOffset(targetElement);\n    tooltipOffset = getOffset(tooltipLayer);\n    windowSize = getWinSize();\n    addClass(tooltipLayer, \"introjs-\".concat(currentTooltipPosition));\n\n    switch (currentTooltipPosition) {\n      case \"top-right-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-right\";\n        var tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow bottom-middle\";\n        var tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"top-left-aligned\": // top-left-aligned is the same as the default top\n\n      case \"top\":\n        arrowLayer.className = \"introjs-arrow bottom\";\n        tooltipLayerStyleLeft = hintMode ? 0 : 15;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.bottom = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"right\":\n        tooltipLayer.style.left = \"\".concat(targetOffset.width + 20, \"px\");\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, right would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          arrowLayer.className = \"introjs-arrow left-bottom\";\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n        } else {\n          arrowLayer.className = \"introjs-arrow left\";\n        }\n\n        break;\n\n      case \"left\":\n        if (!hintMode && this._options.showStepNumbers === true) {\n          tooltipLayer.style.top = \"15px\";\n        }\n\n        if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n          // In this case, left would have fallen below the bottom of the screen.\n          // Modify so that the bottom of the tooltip connects with the target\n          tooltipLayer.style.top = \"-\".concat(tooltipOffset.height - targetOffset.height - 20, \"px\");\n          arrowLayer.className = \"introjs-arrow right-bottom\";\n        } else {\n          arrowLayer.className = \"introjs-arrow right\";\n        }\n\n        tooltipLayer.style.right = \"\".concat(targetOffset.width + 20, \"px\");\n        break;\n\n      case \"floating\":\n        arrowLayer.style.display = \"none\"; //we have to adjust the top and left of layer manually for intro items without element\n\n        tooltipLayer.style.left = \"50%\";\n        tooltipLayer.style.top = \"50%\";\n        tooltipLayer.style.marginLeft = \"-\".concat(tooltipOffset.width / 2, \"px\");\n        tooltipLayer.style.marginTop = \"-\".concat(tooltipOffset.height / 2, \"px\");\n        break;\n\n      case \"bottom-right-aligned\":\n        arrowLayer.className = \"introjs-arrow top-right\";\n        tooltipLayerStyleRight = 0;\n        checkLeft(targetOffset, tooltipLayerStyleRight, tooltipOffset, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n\n      case \"bottom-middle-aligned\":\n        arrowLayer.className = \"introjs-arrow top-middle\";\n        tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2; // a fix for middle aligned hints\n\n        if (hintMode) {\n          tooltipLayerStyleLeftRight += 5;\n        }\n\n        if (checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n          tooltipLayer.style.right = null;\n          checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n        }\n\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n        break;\n      // case 'bottom-left-aligned':\n      // Bottom-left-aligned is the same as the default bottom\n      // case 'bottom':\n      // Bottom going to follow the default behavior\n\n      default:\n        arrowLayer.className = \"introjs-arrow top\";\n        tooltipLayerStyleLeft = 0;\n        checkRight(targetOffset, tooltipLayerStyleLeft, tooltipOffset, windowSize, tooltipLayer);\n        tooltipLayer.style.top = \"\".concat(targetOffset.height + 20, \"px\");\n    }\n  }\n\n  /**\n   * To remove all show element(s)\n   *\n   * @api private\n   * @method _removeShowElement\n   */\n\n  function removeShowElement() {\n    var elms = document.querySelectorAll(\".introjs-showElement\");\n    forEach(elms, function (elm) {\n      removeClass(elm, /introjs-[a-zA-Z]+/g);\n    });\n  }\n\n  function _createElement(tagname, attrs) {\n    var element = document.createElement(tagname);\n    attrs = attrs || {}; // regex for matching attributes that need to be set with setAttribute\n\n    var setAttRegex = /^(?:role|data-|aria-)/;\n\n    for (var k in attrs) {\n      var v = attrs[k];\n\n      if (k === \"style\") {\n        setStyle(element, v);\n      } else if (k.match(setAttRegex)) {\n        element.setAttribute(k, v);\n      } else {\n        element[k] = v;\n      }\n    }\n\n    return element;\n  }\n\n  /**\n   * Appends `element` to `parentElement`\n   *\n   * @param {Element} parentElement\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n  function appendChild(parentElement, element, animate) {\n    if (animate) {\n      var existingOpacity = element.style.opacity || \"1\";\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        setStyle(element, {\n          opacity: existingOpacity\n        });\n      }, 10);\n    }\n\n    parentElement.appendChild(element);\n  }\n\n  /**\n   * Gets the current progress percentage\n   *\n   * @api private\n   * @method _getProgress\n   * @returns current progress percentage\n   */\n\n  function _getProgress() {\n    // Steps are 0 indexed\n    var currentStep = parseInt(this._currentStep + 1, 10);\n    return currentStep / this._introItems.length * 100;\n  }\n  /**\n   * Add disableinteraction layer and adjust the size and position of the layer\n   *\n   * @api private\n   * @method _disableInteraction\n   */\n\n\n  function _disableInteraction() {\n    var disableInteractionLayer = document.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer === null) {\n      disableInteractionLayer = _createElement(\"div\", {\n        className: \"introjs-disableInteraction\"\n      });\n\n      this._targetElement.appendChild(disableInteractionLayer);\n    }\n\n    setHelperLayerPosition.call(this, disableInteractionLayer);\n  }\n  /**\n   * Show an element on the page\n   *\n   * @api private\n   * @method _showElement\n   * @param {Object} targetElement\n   */\n\n\n  function _showElement(targetElement) {\n    var _this = this;\n\n    if (typeof this._introChangeCallback !== \"undefined\") {\n      this._introChangeCallback.call(this, targetElement.element);\n    }\n\n    var self = this;\n    var oldHelperLayer = document.querySelector(\".introjs-helperLayer\");\n    var oldReferenceLayer = document.querySelector(\".introjs-tooltipReferenceLayer\");\n    var highlightClass = \"introjs-helperLayer\";\n    var nextTooltipButton;\n    var prevTooltipButton;\n    var skipTooltipButton;\n\n    if (typeof targetElement.highlightClass === \"string\") {\n      highlightClass += \" \".concat(targetElement.highlightClass);\n    } //check for options highlight class\n\n\n    if (typeof this._options.highlightClass === \"string\") {\n      highlightClass += \" \".concat(this._options.highlightClass);\n    }\n\n    if (oldHelperLayer !== null) {\n      var oldHelperNumberLayer = oldReferenceLayer.querySelector(\".introjs-helperNumberLayer\");\n      var oldtooltipLayer = oldReferenceLayer.querySelector(\".introjs-tooltiptext\");\n      var oldTooltipTitleLayer = oldReferenceLayer.querySelector(\".introjs-tooltip-title\");\n      var oldArrowLayer = oldReferenceLayer.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = oldReferenceLayer.querySelector(\".introjs-tooltip\");\n      skipTooltipButton = oldReferenceLayer.querySelector(\".introjs-skipbutton\");\n      prevTooltipButton = oldReferenceLayer.querySelector(\".introjs-prevbutton\");\n      nextTooltipButton = oldReferenceLayer.querySelector(\".introjs-nextbutton\"); //update or reset the helper highlight class\n\n      oldHelperLayer.className = highlightClass; //hide the tooltip\n\n      oldtooltipContainer.style.opacity = 0;\n      oldtooltipContainer.style.display = \"none\"; // if the target element is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); // set new position to helper layer\n\n      setHelperLayerPosition.call(self, oldHelperLayer);\n      setHelperLayerPosition.call(self, oldReferenceLayer); //remove old classes if the element still exist\n\n      removeShowElement(); //we should wait until the CSS3 transition is competed (it's 0.3 sec) to prevent incorrect `height` and `width` calculation\n\n      if (self._lastShowElementTimer) {\n        window.clearTimeout(self._lastShowElementTimer);\n      }\n\n      self._lastShowElementTimer = window.setTimeout(function () {\n        // set current step to the label\n        if (oldHelperNumberLayer !== null) {\n          oldHelperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(_this._introItems.length);\n        } // set current tooltip text\n\n\n        oldtooltipLayer.innerHTML = targetElement.intro; // set current tooltip title\n\n        oldTooltipTitleLayer.innerHTML = targetElement.title; //set the tooltip position\n\n        oldtooltipContainer.style.display = \"block\";\n        placeTooltip.call(self, targetElement.element, oldtooltipContainer, oldArrowLayer); //change active bullet\n\n        if (self._options.showBullets) {\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a.active\").className = \"\";\n          oldReferenceLayer.querySelector(\".introjs-bullets li > a[data-stepnumber=\\\"\".concat(targetElement.step, \"\\\"]\")).className = \"active\";\n        }\n\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").style.cssText = \"width:\".concat(_getProgress.call(self), \"%;\");\n        oldReferenceLayer.querySelector(\".introjs-progress .introjs-progressbar\").setAttribute(\"aria-valuenow\", _getProgress.call(self)); //show the tooltip\n\n        oldtooltipContainer.style.opacity = 1; //reset button focus\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null && /introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          // skip button is now \"done\" button\n          nextTooltipButton.focus();\n        } else if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          //still in the tour, focus on next\n          nextTooltipButton.focus();\n        } // change the scroll of the window, if needed\n\n\n        scrollTo.call(self, targetElement.scrollTo, targetElement, oldtooltipLayer);\n      }, 350); // end of old element if-else condition\n    } else {\n      var helperLayer = _createElement(\"div\", {\n        className: highlightClass\n      });\n      var referenceLayer = _createElement(\"div\", {\n        className: \"introjs-tooltipReferenceLayer\"\n      });\n      var arrowLayer = _createElement(\"div\", {\n        className: \"introjs-arrow\"\n      });\n      var tooltipLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip\"\n      });\n      var tooltipTextLayer = _createElement(\"div\", {\n        className: \"introjs-tooltiptext\"\n      });\n      var tooltipHeaderLayer = _createElement(\"div\", {\n        className: \"introjs-tooltip-header\"\n      });\n      var tooltipTitleLayer = _createElement(\"h1\", {\n        className: \"introjs-tooltip-title\"\n      });\n      var bulletsLayer = _createElement(\"div\", {\n        className: \"introjs-bullets\"\n      });\n      var progressLayer = _createElement(\"div\");\n      var buttonsLayer = _createElement(\"div\");\n      setStyle(helperLayer, {\n        \"box-shadow\": \"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, \".concat(self._options.overlayOpacity.toString(), \") 0 0 0 5000px\")\n      }); // target is within a scrollable element\n\n      scrollParentToElement.call(self, targetElement); //set new position to helper layer\n\n      setHelperLayerPosition.call(self, helperLayer);\n      setHelperLayerPosition.call(self, referenceLayer); //add helper layer to target element\n\n      appendChild(this._targetElement, helperLayer, true);\n      appendChild(this._targetElement, referenceLayer);\n      tooltipTextLayer.innerHTML = targetElement.intro;\n      tooltipTitleLayer.innerHTML = targetElement.title;\n\n      if (this._options.showBullets === false) {\n        bulletsLayer.style.display = \"none\";\n      }\n\n      var ulContainer = _createElement(\"ul\");\n      ulContainer.setAttribute(\"role\", \"tablist\");\n\n      var anchorClick = function anchorClick() {\n        self.goToStep(this.getAttribute(\"data-stepnumber\"));\n      };\n\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n        var innerLi = _createElement(\"li\");\n        var anchorLink = _createElement(\"a\");\n        innerLi.setAttribute(\"role\", \"presentation\");\n        anchorLink.setAttribute(\"role\", \"tab\");\n        anchorLink.onclick = anchorClick;\n\n        if (i === targetElement.step - 1) {\n          anchorLink.className = \"active\";\n        }\n\n        setAnchorAsButton(anchorLink);\n        anchorLink.innerHTML = \"&nbsp;\";\n        anchorLink.setAttribute(\"data-stepnumber\", step);\n        innerLi.appendChild(anchorLink);\n        ulContainer.appendChild(innerLi);\n      });\n      bulletsLayer.appendChild(ulContainer);\n      progressLayer.className = \"introjs-progress\";\n\n      if (this._options.showProgress === false) {\n        progressLayer.style.display = \"none\";\n      }\n\n      var progressBar = _createElement(\"div\", {\n        className: \"introjs-progressbar\"\n      });\n\n      if (this._options.progressBarAdditionalClass) {\n        progressBar.className += \" \" + this._options.progressBarAdditionalClass;\n      }\n\n      progressBar.setAttribute(\"role\", \"progress\");\n      progressBar.setAttribute(\"aria-valuemin\", 0);\n      progressBar.setAttribute(\"aria-valuemax\", 100);\n      progressBar.setAttribute(\"aria-valuenow\", _getProgress.call(this));\n      progressBar.style.cssText = \"width:\".concat(_getProgress.call(this), \"%;\");\n      progressLayer.appendChild(progressBar);\n      buttonsLayer.className = \"introjs-tooltipbuttons\";\n\n      if (this._options.showButtons === false) {\n        buttonsLayer.style.display = \"none\";\n      }\n\n      tooltipHeaderLayer.appendChild(tooltipTitleLayer);\n      tooltipLayer.appendChild(tooltipHeaderLayer);\n      tooltipLayer.appendChild(tooltipTextLayer);\n      tooltipLayer.appendChild(bulletsLayer);\n      tooltipLayer.appendChild(progressLayer); // add helper layer number\n\n      var helperNumberLayer = _createElement(\"div\");\n\n      if (this._options.showStepNumbers === true) {\n        helperNumberLayer.className = \"introjs-helperNumberLayer\";\n        helperNumberLayer.innerHTML = \"\".concat(targetElement.step, \" of \").concat(this._introItems.length);\n        tooltipLayer.appendChild(helperNumberLayer);\n      }\n\n      tooltipLayer.appendChild(arrowLayer);\n      referenceLayer.appendChild(tooltipLayer); //next button\n\n      nextTooltipButton = _createElement(\"a\");\n\n      nextTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 !== self._currentStep) {\n          nextStep.call(self);\n        } else if (/introjs-donebutton/gi.test(nextTooltipButton.className)) {\n          if (typeof self._introCompleteCallback === \"function\") {\n            self._introCompleteCallback.call(self);\n          }\n\n          exitIntro.call(self, self._targetElement);\n        }\n      };\n\n      setAnchorAsButton(nextTooltipButton);\n      nextTooltipButton.innerHTML = this._options.nextLabel; //previous button\n\n      prevTooltipButton = _createElement(\"a\");\n\n      prevTooltipButton.onclick = function () {\n        if (self._currentStep !== 0) {\n          previousStep.call(self);\n        }\n      };\n\n      setAnchorAsButton(prevTooltipButton);\n      prevTooltipButton.innerHTML = this._options.prevLabel; //skip button\n\n      skipTooltipButton = _createElement(\"a\", {\n        className: \"introjs-skipbutton\"\n      });\n      setAnchorAsButton(skipTooltipButton);\n      skipTooltipButton.innerHTML = this._options.skipLabel;\n\n      skipTooltipButton.onclick = function () {\n        if (self._introItems.length - 1 === self._currentStep && typeof self._introCompleteCallback === \"function\") {\n          self._introCompleteCallback.call(self);\n        }\n\n        if (typeof self._introSkipCallback === \"function\") {\n          self._introSkipCallback.call(self);\n        }\n\n        exitIntro.call(self, self._targetElement);\n      };\n\n      tooltipHeaderLayer.appendChild(skipTooltipButton); //in order to prevent displaying previous button always\n\n      if (this._introItems.length > 1) {\n        buttonsLayer.appendChild(prevTooltipButton);\n      } // we always need the next button because this\n      // button changes to \"Done\" in the last step of the tour\n\n\n      buttonsLayer.appendChild(nextTooltipButton);\n      tooltipLayer.appendChild(buttonsLayer); //set proper position\n\n      placeTooltip.call(self, targetElement.element, tooltipLayer, arrowLayer); // change the scroll of the window, if needed\n\n      scrollTo.call(this, targetElement.scrollTo, targetElement, tooltipLayer); //end of new element if-else condition\n    } // removing previous disable interaction layer\n\n\n    var disableInteractionLayer = self._targetElement.querySelector(\".introjs-disableInteraction\");\n\n    if (disableInteractionLayer) {\n      disableInteractionLayer.parentNode.removeChild(disableInteractionLayer);\n    } //disable interaction\n\n\n    if (targetElement.disableInteraction) {\n      _disableInteraction.call(self);\n    } // when it's the first step of tour\n\n\n    if (this._currentStep === 0 && this._introItems.length > 1) {\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n\n      if (this._options.hidePrev === true) {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-hidden\");\n        }\n\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          addClass(nextTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton introjs-disabled\");\n        }\n      }\n    } else if (this._introItems.length - 1 === this._currentStep || this._introItems.length === 1) {\n      // last step of tour\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (this._options.hideNext === true) {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-hidden\");\n        }\n\n        if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n          addClass(prevTooltipButton, \"introjs-fullbutton\");\n        }\n      } else {\n        if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n          if (this._options.nextToDone === true) {\n            nextTooltipButton.innerHTML = this._options.doneLabel;\n            addClass(nextTooltipButton, \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-donebutton\"));\n          } else {\n            nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton introjs-disabled\");\n          }\n        }\n      }\n    } else {\n      // steps between start and end\n      if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n        prevTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-prevbutton\");\n      }\n\n      if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n        nextTooltipButton.className = \"\".concat(this._options.buttonClass, \" introjs-nextbutton\");\n        nextTooltipButton.innerHTML = this._options.nextLabel;\n      }\n    }\n\n    if (typeof prevTooltipButton !== \"undefined\" && prevTooltipButton !== null) {\n      prevTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.setAttribute(\"role\", \"button\");\n    }\n\n    if (typeof skipTooltipButton !== \"undefined\" && skipTooltipButton !== null) {\n      skipTooltipButton.setAttribute(\"role\", \"button\");\n    } //Set focus on \"next\" button, so that hitting Enter always moves you onto the next step\n\n\n    if (typeof nextTooltipButton !== \"undefined\" && nextTooltipButton !== null) {\n      nextTooltipButton.focus();\n    }\n\n    setShowElement(targetElement);\n\n    if (typeof this._introAfterChangeCallback !== \"undefined\") {\n      this._introAfterChangeCallback.call(this, targetElement.element);\n    }\n  }\n\n  /**\n   * Go to specific step of introduction\n   *\n   * @api private\n   * @method _goToStep\n   */\n\n  function goToStep(step) {\n    //because steps starts with zero\n    this._currentStep = step - 2;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to the specific step of introduction with the explicit [data-step] number\n   *\n   * @api private\n   * @method _goToStepNumber\n   */\n\n  function goToStepNumber(step) {\n    this._currentStepNumber = step;\n\n    if (typeof this._introItems !== \"undefined\") {\n      nextStep.call(this);\n    }\n  }\n  /**\n   * Go to next step on intro\n   *\n   * @api private\n   * @method _nextStep\n   */\n\n  function nextStep() {\n    var _this = this;\n\n    this._direction = \"forward\";\n\n    if (typeof this._currentStepNumber !== \"undefined\") {\n      forEach(this._introItems, function (_ref, i) {\n        var step = _ref.step;\n\n        if (step === _this._currentStepNumber) {\n          _this._currentStep = i - 1;\n          _this._currentStepNumber = undefined;\n        }\n      });\n    }\n\n    if (typeof this._currentStep === \"undefined\") {\n      this._currentStep = 0;\n    } else {\n      ++this._currentStep;\n    }\n\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      --this._currentStep;\n      return false;\n    }\n\n    if (this._introItems.length <= this._currentStep) {\n      //end of the intro\n      //check if any callback is defined\n      if (typeof this._introCompleteCallback === \"function\") {\n        this._introCompleteCallback.call(this);\n      }\n\n      exitIntro.call(this, this._targetElement);\n      return;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Go to previous step on intro\n   *\n   * @api private\n   * @method _previousStep\n   */\n\n  function previousStep() {\n    this._direction = \"backward\";\n\n    if (this._currentStep === 0) {\n      return false;\n    }\n\n    --this._currentStep;\n    var nextStep = this._introItems[this._currentStep];\n    var continueStep = true;\n\n    if (typeof this._introBeforeChangeCallback !== \"undefined\") {\n      continueStep = this._introBeforeChangeCallback.call(this, nextStep && nextStep.element);\n    } // if `onbeforechange` returned `false`, stop displaying the element\n\n\n    if (continueStep === false) {\n      ++this._currentStep;\n      return false;\n    }\n\n    _showElement.call(this, nextStep);\n  }\n  /**\n   * Returns the current step of the intro\n   *\n   * @returns {number | boolean}\n   */\n\n  function currentStep() {\n    return this._currentStep;\n  }\n\n  /**\n   * on keyCode:\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * This feature has been removed from the Web standards.\n   * Though some browsers may still support it, it is in\n   * the process of being dropped.\n   * Instead, you should use KeyboardEvent.code,\n   * if it's implemented.\n   *\n   * jQuery's approach is to test for\n   *   (1) e.which, then\n   *   (2) e.charCode, then\n   *   (3) e.keyCode\n   * https://github.com/jquery/jquery/blob/a6b0705294d336ae2f63f7276de0da1195495363/src/event.js#L638\n   *\n   * @param type var\n   * @return type\n   */\n\n  function onKeyDown(e) {\n    var code = e.code === undefined ? e.which : e.code; // if e.which is null\n\n    if (code === null) {\n      code = e.charCode === null ? e.keyCode : e.charCode;\n    }\n\n    if ((code === \"Escape\" || code === 27) && this._options.exitOnEsc === true) {\n      //escape key pressed, exit the intro\n      //check if exit callback is defined\n      exitIntro.call(this, this._targetElement);\n    } else if (code === \"ArrowLeft\" || code === 37) {\n      //left arrow\n      previousStep.call(this);\n    } else if (code === \"ArrowRight\" || code === 39) {\n      //right arrow\n      nextStep.call(this);\n    } else if (code === \"Enter\" || code === \"NumpadEnter\" || code === 13) {\n      //srcElement === ie\n      var target = e.target || e.srcElement;\n\n      if (target && target.className.match(\"introjs-prevbutton\")) {\n        //user hit enter while focusing on previous button\n        previousStep.call(this);\n      } else if (target && target.className.match(\"introjs-skipbutton\")) {\n        //user hit enter while focusing on skip button\n        if (this._introItems.length - 1 === this._currentStep && typeof this._introCompleteCallback === \"function\") {\n          this._introCompleteCallback.call(this);\n        }\n\n        exitIntro.call(this, this._targetElement);\n      } else if (target && target.getAttribute(\"data-stepnumber\")) {\n        // user hit enter while focusing on step bullet\n        target.click();\n      } else {\n        //default behavior for responding to enter\n        nextStep.call(this);\n      } //prevent default behaviour on hitting Enter, to prevent steps being skipped in some browsers\n\n\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n\n  /*\n   * makes a copy of the object\n   * @api private\n   * @method _cloneObject\n   */\n  function cloneObject(object) {\n    if (object === null || _typeof(object) !== \"object\" || typeof object.nodeType !== \"undefined\") {\n      return object;\n    }\n\n    var temp = {};\n\n    for (var key in object) {\n      if (typeof window.jQuery !== \"undefined\" && object[key] instanceof window.jQuery) {\n        temp[key] = object[key];\n      } else {\n        temp[key] = cloneObject(object[key]);\n      }\n    }\n\n    return temp;\n  }\n\n  /**\n   * Get a queryselector within the hint wrapper\n   *\n   * @param {String} selector\n   * @return {NodeList|Array}\n   */\n\n  function hintQuerySelectorAll(selector) {\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n    return hintsWrapper ? hintsWrapper.querySelectorAll(selector) : [];\n  }\n  /**\n   * Hide a hint\n   *\n   * @api private\n   * @method hideHint\n   */\n\n  function hideHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n    removeHintTooltip.call(this);\n\n    if (hint) {\n      addClass(hint, \"introjs-hidehint\");\n    } // call the callback function (if any)\n\n\n    if (typeof this._hintCloseCallback !== \"undefined\") {\n      this._hintCloseCallback.call(this, stepId);\n    }\n  }\n  /**\n   * Hide all hints\n   *\n   * @api private\n   * @method hideHints\n   */\n\n  function hideHints() {\n    var _this = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      hideHint.call(_this, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Show all hints\n   *\n   * @api private\n   * @method _showHints\n   */\n\n  function showHints() {\n    var _this2 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n\n    if (hints && hints.length) {\n      forEach(hints, function (hint) {\n        showHint.call(_this2, hint.getAttribute(\"data-step\"));\n      });\n    } else {\n      populateHints.call(this, this._targetElement);\n    }\n  }\n  /**\n   * Show a hint\n   *\n   * @api private\n   * @method showHint\n   */\n\n  function showHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      removeClass(hint, /introjs-hidehint/g);\n    }\n  }\n  /**\n   * Removes all hint elements on the page\n   * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n   *\n   * @api private\n   * @method removeHints\n   */\n\n  function removeHints() {\n    var _this3 = this;\n\n    var hints = hintQuerySelectorAll(\".introjs-hint\");\n    forEach(hints, function (hint) {\n      removeHint.call(_this3, hint.getAttribute(\"data-step\"));\n    });\n  }\n  /**\n   * Remove one single hint element from the page\n   * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n   * Use removeHints if you want to remove all elements.\n   *\n   * @api private\n   * @method removeHint\n   */\n\n  function removeHint(stepId) {\n    var hint = hintQuerySelectorAll(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"))[0];\n\n    if (hint) {\n      hint.parentNode.removeChild(hint);\n    }\n  }\n  /**\n   * Add all available hints to the page\n   *\n   * @api private\n   * @method addHints\n   */\n\n  function addHints() {\n    var _this4 = this;\n\n    var self = this;\n    var hintsWrapper = document.querySelector(\".introjs-hints\");\n\n    if (hintsWrapper === null) {\n      hintsWrapper = _createElement(\"div\", {\n        className: \"introjs-hints\"\n      });\n    }\n    /**\n     * Returns an event handler unique to the hint iteration\n     *\n     * @param {Integer} i\n     * @return {Function}\n     */\n\n\n    var getHintClick = function getHintClick(i) {\n      return function (e) {\n        var evt = e ? e : window.event;\n\n        if (evt.stopPropagation) {\n          evt.stopPropagation();\n        }\n\n        if (evt.cancelBubble !== null) {\n          evt.cancelBubble = true;\n        }\n\n        showHintDialog.call(self, i);\n      };\n    };\n\n    forEach(this._introItems, function (item, i) {\n      // avoid append a hint twice\n      if (document.querySelector(\".introjs-hint[data-step=\\\"\".concat(i, \"\\\"]\"))) {\n        return;\n      }\n\n      var hint = _createElement(\"a\", {\n        className: \"introjs-hint\"\n      });\n      setAnchorAsButton(hint);\n      hint.onclick = getHintClick(i);\n\n      if (!item.hintAnimation) {\n        addClass(hint, \"introjs-hint-no-anim\");\n      } // hint's position should be fixed if the target element's position is fixed\n\n\n      if (isFixed(item.element)) {\n        addClass(hint, \"introjs-fixedhint\");\n      }\n\n      var hintDot = _createElement(\"div\", {\n        className: \"introjs-hint-dot\"\n      });\n      var hintPulse = _createElement(\"div\", {\n        className: \"introjs-hint-pulse\"\n      });\n      hint.appendChild(hintDot);\n      hint.appendChild(hintPulse);\n      hint.setAttribute(\"data-step\", i); // we swap the hint element with target element\n      // because _setHelperLayerPosition uses `element` property\n\n      item.targetElement = item.element;\n      item.element = hint; // align the hint position\n\n      alignHintPosition.call(_this4, item.hintPosition, hint, item.targetElement);\n      hintsWrapper.appendChild(hint);\n    }); // adding the hints wrapper\n\n    document.body.appendChild(hintsWrapper); // call the callback function (if any)\n\n    if (typeof this._hintsAddedCallback !== \"undefined\") {\n      this._hintsAddedCallback.call(this);\n    }\n  }\n  /**\n   * Aligns hint position\n   *\n   * @api private\n   * @method alignHintPosition\n   * @param {String} position\n   * @param {Object} hint\n   * @param {Object} element\n   */\n\n  function alignHintPosition(position, _ref, element) {\n    var style = _ref.style;\n    // get/calculate offset of target element\n    var offset = getOffset.call(this, element);\n    var iconWidth = 20;\n    var iconHeight = 20; // align the hint element\n\n    switch (position) {\n      default:\n      case \"top-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"top-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n\n      case \"bottom-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"bottom-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"middle-left\":\n        style.left = \"\".concat(offset.left, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-right\":\n        style.left = \"\".concat(offset.left + offset.width - iconWidth, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"middle-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + (offset.height - iconHeight) / 2, \"px\");\n        break;\n\n      case \"bottom-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top + offset.height - iconHeight, \"px\");\n        break;\n\n      case \"top-middle\":\n        style.left = \"\".concat(offset.left + (offset.width - iconWidth) / 2, \"px\");\n        style.top = \"\".concat(offset.top, \"px\");\n        break;\n    }\n  }\n  /**\n   * Triggers when user clicks on the hint element\n   *\n   * @api private\n   * @method _showHintDialog\n   * @param {Number} stepId\n   */\n\n  function showHintDialog(stepId) {\n    var hintElement = document.querySelector(\".introjs-hint[data-step=\\\"\".concat(stepId, \"\\\"]\"));\n    var item = this._introItems[stepId]; // call the callback function (if any)\n\n    if (typeof this._hintClickCallback !== \"undefined\") {\n      this._hintClickCallback.call(this, hintElement, item, stepId);\n    } // remove all open tooltips\n\n\n    var removedStep = removeHintTooltip.call(this); // to toggle the tooltip\n\n    if (parseInt(removedStep, 10) === stepId) {\n      return;\n    }\n\n    var tooltipLayer = _createElement(\"div\", {\n      className: \"introjs-tooltip\"\n    });\n    var tooltipTextLayer = _createElement(\"div\");\n    var arrowLayer = _createElement(\"div\");\n    var referenceLayer = _createElement(\"div\");\n\n    tooltipLayer.onclick = function (e) {\n      //IE9 & Other Browsers\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } //IE8 and Lower\n      else {\n          e.cancelBubble = true;\n        }\n    };\n\n    tooltipTextLayer.className = \"introjs-tooltiptext\";\n    var tooltipWrapper = _createElement(\"p\");\n    tooltipWrapper.innerHTML = item.hint;\n    var closeButton = _createElement(\"a\");\n    closeButton.className = this._options.buttonClass;\n    closeButton.setAttribute(\"role\", \"button\");\n    closeButton.innerHTML = this._options.hintButtonLabel;\n    closeButton.onclick = hideHint.bind(this, stepId);\n    tooltipTextLayer.appendChild(tooltipWrapper);\n    tooltipTextLayer.appendChild(closeButton);\n    arrowLayer.className = \"introjs-arrow\";\n    tooltipLayer.appendChild(arrowLayer);\n    tooltipLayer.appendChild(tooltipTextLayer); // set current step for _placeTooltip function\n\n    this._currentStep = hintElement.getAttribute(\"data-step\"); // align reference layer position\n\n    referenceLayer.className = \"introjs-tooltipReferenceLayer introjs-hintReference\";\n    referenceLayer.setAttribute(\"data-step\", hintElement.getAttribute(\"data-step\"));\n    setHelperLayerPosition.call(this, referenceLayer);\n    referenceLayer.appendChild(tooltipLayer);\n    document.body.appendChild(referenceLayer); //set proper position\n\n    placeTooltip.call(this, hintElement, tooltipLayer, arrowLayer, true);\n  }\n  /**\n   * Removes open hint (tooltip hint)\n   *\n   * @api private\n   * @method _removeHintTooltip\n   */\n\n  function removeHintTooltip() {\n    var tooltip = document.querySelector(\".introjs-hintReference\");\n\n    if (tooltip) {\n      var step = tooltip.getAttribute(\"data-step\");\n      tooltip.parentNode.removeChild(tooltip);\n      return step;\n    }\n  }\n  /**\n   * Start parsing hint items\n   *\n   * @api private\n   * @param {Object} targetElm\n   * @method _startHint\n   */\n\n  function populateHints(targetElm) {\n    var _this5 = this;\n\n    this._introItems = [];\n\n    if (this._options.hints) {\n      forEach(this._options.hints, function (hint) {\n        var currentItem = cloneObject(hint);\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        }\n\n        currentItem.hintPosition = currentItem.hintPosition || _this5._options.hintPosition;\n        currentItem.hintAnimation = currentItem.hintAnimation || _this5._options.hintAnimation;\n\n        if (currentItem.element !== null) {\n          _this5._introItems.push(currentItem);\n        }\n      });\n    } else {\n      var hints = targetElm.querySelectorAll(\"*[data-hint]\");\n\n      if (!hints || !hints.length) {\n        return false;\n      } //first add intro items with data-step\n\n\n      forEach(hints, function (currentElement) {\n        // hint animation\n        var hintAnimation = currentElement.getAttribute(\"data-hintanimation\");\n\n        if (hintAnimation) {\n          hintAnimation = hintAnimation === \"true\";\n        } else {\n          hintAnimation = _this5._options.hintAnimation;\n        }\n\n        _this5._introItems.push({\n          element: currentElement,\n          hint: currentElement.getAttribute(\"data-hint\"),\n          hintPosition: currentElement.getAttribute(\"data-hintposition\") || _this5._options.hintPosition,\n          hintAnimation: hintAnimation,\n          tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n          position: currentElement.getAttribute(\"data-position\") || _this5._options.tooltipPosition\n        });\n      });\n    }\n\n    addHints.call(this);\n    /*\n    todo:\n    these events should be removed at some point\n    */\n\n    DOMEvent.on(document, \"click\", removeHintTooltip, this, false);\n    DOMEvent.on(window, \"resize\", reAlignHints, this, true);\n  }\n  /**\n   * Re-aligns all hint elements\n   *\n   * @api private\n   * @method _reAlignHints\n   */\n\n  function reAlignHints() {\n    var _this6 = this;\n\n    forEach(this._introItems, function (_ref2) {\n      var targetElement = _ref2.targetElement,\n          hintPosition = _ref2.hintPosition,\n          element = _ref2.element;\n\n      if (typeof targetElement === \"undefined\") {\n        return;\n      }\n\n      alignHintPosition.call(_this6, hintPosition, element, targetElement);\n    });\n  }\n\n  /**\n   * Update placement of the intro objects on the screen\n   * @api private\n   */\n\n  function refresh() {\n    // re-align intros\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-helperLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-tooltipReferenceLayer\"));\n    setHelperLayerPosition.call(this, document.querySelector(\".introjs-disableInteraction\")); // re-align tooltip\n\n    if (this._currentStep !== undefined && this._currentStep !== null) {\n      var oldArrowLayer = document.querySelector(\".introjs-arrow\");\n      var oldtooltipContainer = document.querySelector(\".introjs-tooltip\");\n      placeTooltip.call(this, this._introItems[this._currentStep].element, oldtooltipContainer, oldArrowLayer);\n    } //re-align hints\n\n\n    reAlignHints.call(this);\n    return this;\n  }\n\n  function onResize() {\n    refresh.call(this);\n  }\n\n  /**\n   * Removes `element` from `parentElement`\n   *\n   * @param {Element} element\n   * @param {Boolean} [animate=false]\n   */\n\n  function removeChild(element, animate) {\n    if (!element || !element.parentElement) return;\n    var parentElement = element.parentElement;\n\n    if (animate) {\n      setStyle(element, {\n        opacity: \"0\"\n      });\n      window.setTimeout(function () {\n        parentElement.removeChild(element);\n      }, 500);\n    } else {\n      parentElement.removeChild(element);\n    }\n  }\n\n  /**\n   * Exit from intro\n   *\n   * @api private\n   * @method _exitIntro\n   * @param {Object} targetElement\n   * @param {Boolean} force - Setting to `true` will skip the result of beforeExit callback\n   */\n\n  function exitIntro(targetElement, force) {\n    var continueExit = true; // calling onbeforeexit callback\n    //\n    // If this callback return `false`, it would halt the process\n\n    if (this._introBeforeExitCallback !== undefined) {\n      continueExit = this._introBeforeExitCallback.call(this);\n    } // skip this check if `force` parameter is `true`\n    // otherwise, if `onbeforeexit` returned `false`, don't exit the intro\n\n\n    if (!force && continueExit === false) return; // remove overlay layers from the page\n\n    var overlayLayers = targetElement.querySelectorAll(\".introjs-overlay\");\n\n    if (overlayLayers && overlayLayers.length) {\n      forEach(overlayLayers, function (overlayLayer) {\n        return removeChild(overlayLayer);\n      });\n    } //remove all helper layers\n\n\n    var helperLayer = targetElement.querySelector(\".introjs-helperLayer\");\n    removeChild(helperLayer, true);\n    var referenceLayer = targetElement.querySelector(\".introjs-tooltipReferenceLayer\");\n    removeChild(referenceLayer); //remove disableInteractionLayer\n\n    var disableInteractionLayer = targetElement.querySelector(\".introjs-disableInteraction\");\n    removeChild(disableInteractionLayer); //remove intro floating element\n\n    var floatingElement = document.querySelector(\".introjsFloatingElement\");\n    removeChild(floatingElement);\n    removeShowElement(); //clean listeners\n\n    DOMEvent.off(window, \"keydown\", onKeyDown, this, true);\n    DOMEvent.off(window, \"resize\", onResize, this, true); //check if any callback is defined\n\n    if (this._introExitCallback !== undefined) {\n      this._introExitCallback.call(this);\n    } //set the step to zero\n\n\n    this._currentStep = undefined;\n  }\n\n  /**\n   * Add overlay layer to the page\n   *\n   * @api private\n   * @method _addOverlayLayer\n   * @param {Object} targetElm\n   */\n\n  function addOverlayLayer(targetElm) {\n    var _this = this;\n\n    var overlayLayer = _createElement(\"div\", {\n      className: \"introjs-overlay\"\n    });\n    setStyle(overlayLayer, {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      position: \"fixed\"\n    });\n    targetElm.appendChild(overlayLayer);\n\n    if (this._options.exitOnOverlayClick === true) {\n      setStyle(overlayLayer, {\n        cursor: \"pointer\"\n      });\n\n      overlayLayer.onclick = function () {\n        exitIntro.call(_this, targetElm);\n      };\n    }\n\n    return true;\n  }\n\n  /**\n   * Initiate a new introduction/guide from an element in the page\n   *\n   * @api private\n   * @method _introForElement\n   * @param {Object} targetElm\n   * @param {String} group\n   * @returns {Boolean} Success or not?\n   */\n\n  function introForElement(targetElm, group) {\n    var _this = this;\n\n    var allIntroSteps = targetElm.querySelectorAll(\"*[data-intro]\");\n    var introItems = [];\n\n    if (this._options.steps) {\n      //use steps passed programmatically\n      forEach(this._options.steps, function (step) {\n        var currentItem = cloneObject(step); //set the step\n\n        currentItem.step = introItems.length + 1;\n        currentItem.title = currentItem.title || \"\"; //use querySelector function only when developer used CSS selector\n\n        if (typeof currentItem.element === \"string\") {\n          //grab the element with given selector from the page\n          currentItem.element = document.querySelector(currentItem.element);\n        } //intro without element\n\n\n        if (typeof currentItem.element === \"undefined\" || currentItem.element === null) {\n          var floatingElementQuery = document.querySelector(\".introjsFloatingElement\");\n\n          if (floatingElementQuery === null) {\n            floatingElementQuery = _createElement(\"div\", {\n              className: \"introjsFloatingElement\"\n            });\n            document.body.appendChild(floatingElementQuery);\n          }\n\n          currentItem.element = floatingElementQuery;\n          currentItem.position = \"floating\";\n        }\n\n        currentItem.scrollTo = currentItem.scrollTo || _this._options.scrollTo;\n\n        if (typeof currentItem.disableInteraction === \"undefined\") {\n          currentItem.disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (currentItem.element !== null) {\n          introItems.push(currentItem);\n        }\n      });\n    } else {\n      //use steps from data-* annotations\n      var elmsLength = allIntroSteps.length;\n      var disableInteraction; //if there's no element to intro\n\n      if (elmsLength < 1) {\n        return false;\n      }\n\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        } // skip hidden elements\n\n\n        if (currentElement.style.display === \"none\") {\n          return;\n        }\n\n        var step = parseInt(currentElement.getAttribute(\"data-step\"), 10);\n\n        if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n          disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n        } else {\n          disableInteraction = _this._options.disableInteraction;\n        }\n\n        if (step > 0) {\n          introItems[step - 1] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: parseInt(currentElement.getAttribute(\"data-step\"), 10),\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      }); //next add intro items without data-step\n      //todo: we need a cleanup here, two loops are redundant\n\n      var _nextStep = 0;\n      forEach(allIntroSteps, function (currentElement) {\n        // PR #80\n        // start intro for groups of elements\n        if (group && currentElement.getAttribute(\"data-intro-group\") !== group) {\n          return;\n        }\n\n        if (currentElement.getAttribute(\"data-step\") === null) {\n          while (true) {\n            if (typeof introItems[_nextStep] === \"undefined\") {\n              break;\n            } else {\n              _nextStep++;\n            }\n          }\n\n          if (currentElement.hasAttribute(\"data-disable-interaction\")) {\n            disableInteraction = !!currentElement.getAttribute(\"data-disable-interaction\");\n          } else {\n            disableInteraction = _this._options.disableInteraction;\n          }\n\n          introItems[_nextStep] = {\n            element: currentElement,\n            title: currentElement.getAttribute(\"data-title\") || \"\",\n            intro: currentElement.getAttribute(\"data-intro\"),\n            step: _nextStep + 1,\n            tooltipClass: currentElement.getAttribute(\"data-tooltipclass\"),\n            highlightClass: currentElement.getAttribute(\"data-highlightclass\"),\n            position: currentElement.getAttribute(\"data-position\") || _this._options.tooltipPosition,\n            scrollTo: currentElement.getAttribute(\"data-scrollto\") || _this._options.scrollTo,\n            disableInteraction: disableInteraction\n          };\n        }\n      });\n    } //removing undefined/null elements\n\n\n    var tempIntroItems = [];\n\n    for (var z = 0; z < introItems.length; z++) {\n      if (introItems[z]) {\n        // copy non-falsy values to the end of the array\n        tempIntroItems.push(introItems[z]);\n      }\n    }\n\n    introItems = tempIntroItems; //Ok, sort all items with given steps\n\n    introItems.sort(function (a, b) {\n      return a.step - b.step;\n    }); //set it to the introJs object\n\n    this._introItems = introItems; //add overlay layer to the page\n\n    if (addOverlayLayer.call(this, targetElm)) {\n      //then, start the show\n      nextStep.call(this);\n\n      if (this._options.keyboardNavigation) {\n        DOMEvent.on(window, \"keydown\", onKeyDown, this, true);\n      } //for window resize\n\n\n      DOMEvent.on(window, \"resize\", onResize, this, true);\n    }\n\n    return false;\n  }\n\n  var version$1 = \"3.4.0\";\n\n  /**\n   * IntroJs main class\n   *\n   * @class IntroJs\n   */\n\n  function IntroJs(obj) {\n    this._targetElement = obj;\n    this._introItems = [];\n    this._options = {\n      /* Next button label in tooltip box */\n      nextLabel: \"Next\",\n\n      /* Previous button label in tooltip box */\n      prevLabel: \"Back\",\n\n      /* Skip button label in tooltip box */\n      skipLabel: \"×\",\n\n      /* Done button label in tooltip box */\n      doneLabel: \"Done\",\n\n      /* Hide previous button in the first step? Otherwise, it will be disabled button. */\n      hidePrev: false,\n\n      /* Hide next button in the last step? Otherwise, it will be disabled button (note: this will also hide the \"Done\" button) */\n      hideNext: false,\n\n      /* Change the Next button to Done in the last step of the intro? otherwise, it will render a disabled button */\n      nextToDone: true,\n\n      /* Default tooltip box position */\n      tooltipPosition: \"bottom\",\n\n      /* Next CSS class for tooltip boxes */\n      tooltipClass: \"\",\n\n      /* CSS class that is added to the helperLayer */\n      highlightClass: \"\",\n\n      /* Close introduction when pressing Escape button? */\n      exitOnEsc: true,\n\n      /* Close introduction when clicking on overlay layer? */\n      exitOnOverlayClick: true,\n\n      /* Show step numbers in introduction? */\n      showStepNumbers: false,\n\n      /* Let user use keyboard to navigate the tour? */\n      keyboardNavigation: true,\n\n      /* Show tour control buttons? */\n      showButtons: true,\n\n      /* Show tour bullets? */\n      showBullets: true,\n\n      /* Show tour progress? */\n      showProgress: false,\n\n      /* Scroll to highlighted element? */\n      scrollToElement: true,\n\n      /*\n       * Should we scroll the tooltip or target element?\n       *\n       * Options are: 'element' or 'tooltip'\n       */\n      scrollTo: \"element\",\n\n      /* Padding to add after scrolling when element is not in the viewport (in pixels) */\n      scrollPadding: 30,\n\n      /* Set the overlay opacity */\n      overlayOpacity: 0.5,\n\n      /* To determine the tooltip position automatically based on the window.width/height */\n      autoPosition: true,\n\n      /* Precedence of positions, when auto is enabled */\n      positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n\n      /* Disable an interaction with element? */\n      disableInteraction: false,\n\n      /* Set how much padding to be used around helper element */\n      helperElementPadding: 10,\n\n      /* Default hint position */\n      hintPosition: \"top-middle\",\n\n      /* Hint button label */\n      hintButtonLabel: \"Got it\",\n\n      /* Adding animation to hints? */\n      hintAnimation: true,\n\n      /* additional classes to put on the buttons */\n      buttonClass: \"introjs-button\",\n\n      /* additional classes to put on progress bar */\n      progressBarAdditionalClass: false\n    };\n  }\n\n  var introJs = function introJs(targetElm) {\n    var instance;\n\n    if (_typeof(targetElm) === \"object\") {\n      //Ok, create a new instance\n      instance = new IntroJs(targetElm);\n    } else if (typeof targetElm === \"string\") {\n      //select the target element with query selector\n      var targetElement = document.querySelector(targetElm);\n\n      if (targetElement) {\n        instance = new IntroJs(targetElement);\n      } else {\n        throw new Error(\"There is no element with given selector.\");\n      }\n    } else {\n      instance = new IntroJs(document.body);\n    } // add instance to list of _instances\n    // passing group to stamp to increment\n    // from 0 onward somewhat reliably\n\n\n    introJs.instances[stamp(instance, \"introjs-instance\")] = instance;\n    return instance;\n  };\n  /**\n   * Current IntroJs version\n   *\n   * @property version\n   * @type String\n   */\n\n\n  introJs.version = version$1;\n  /**\n   * key-val object helper for introJs instances\n   *\n   * @property instances\n   * @type Object\n   */\n\n  introJs.instances = {}; //Prototype\n\n  introJs.fn = IntroJs.prototype = {\n    clone: function clone() {\n      return new IntroJs(this);\n    },\n    setOption: function setOption(option, value) {\n      this._options[option] = value;\n      return this;\n    },\n    setOptions: function setOptions(options) {\n      this._options = mergeOptions(this._options, options);\n      return this;\n    },\n    start: function start(group) {\n      introForElement.call(this, this._targetElement, group);\n      return this;\n    },\n    goToStep: function goToStep$1(step) {\n      goToStep.call(this, step);\n\n      return this;\n    },\n    addStep: function addStep(options) {\n      if (!this._options.steps) {\n        this._options.steps = [];\n      }\n\n      this._options.steps.push(options);\n\n      return this;\n    },\n    addSteps: function addSteps(steps) {\n      if (!steps.length) return;\n\n      for (var index = 0; index < steps.length; index++) {\n        this.addStep(steps[index]);\n      }\n\n      return this;\n    },\n    goToStepNumber: function goToStepNumber$1(step) {\n      goToStepNumber.call(this, step);\n\n      return this;\n    },\n    nextStep: function nextStep$1() {\n      nextStep.call(this);\n\n      return this;\n    },\n    previousStep: function previousStep$1() {\n      previousStep.call(this);\n\n      return this;\n    },\n    currentStep: function currentStep$1() {\n      return currentStep.call(this);\n    },\n    exit: function exit(force) {\n      exitIntro.call(this, this._targetElement, force);\n      return this;\n    },\n    refresh: function refresh$1() {\n      refresh.call(this);\n\n      return this;\n    },\n    onbeforechange: function onbeforechange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforechange was not a function\");\n      }\n\n      return this;\n    },\n    onchange: function onchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onchange was not a function.\");\n      }\n\n      return this;\n    },\n    onafterchange: function onafterchange(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introAfterChangeCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onafterchange was not a function\");\n      }\n\n      return this;\n    },\n    oncomplete: function oncomplete(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introCompleteCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for oncomplete was not a function.\");\n      }\n\n      return this;\n    },\n    onhintsadded: function onhintsadded(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintsAddedCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintsadded was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclick: function onhintclick(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintClickCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclick was not a function.\");\n      }\n\n      return this;\n    },\n    onhintclose: function onhintclose(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._hintCloseCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onhintclose was not a function.\");\n      }\n\n      return this;\n    },\n    onexit: function onexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onexit was not a function.\");\n      }\n\n      return this;\n    },\n    onskip: function onskip(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introSkipCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onskip was not a function.\");\n      }\n\n      return this;\n    },\n    onbeforeexit: function onbeforeexit(providedCallback) {\n      if (typeof providedCallback === \"function\") {\n        this._introBeforeExitCallback = providedCallback;\n      } else {\n        throw new Error(\"Provided callback for onbeforeexit was not a function.\");\n      }\n\n      return this;\n    },\n    addHints: function addHints() {\n      populateHints.call(this, this._targetElement);\n      return this;\n    },\n    hideHint: function hideHint$1(stepId) {\n      hideHint.call(this, stepId);\n\n      return this;\n    },\n    hideHints: function hideHints$1() {\n      hideHints.call(this);\n\n      return this;\n    },\n    showHint: function showHint$1(stepId) {\n      showHint.call(this, stepId);\n\n      return this;\n    },\n    showHints: function showHints$1() {\n      showHints.call(this);\n\n      return this;\n    },\n    removeHints: function removeHints$1() {\n      removeHints.call(this);\n\n      return this;\n    },\n    removeHint: function removeHint$1(stepId) {\n      removeHint().call(this, stepId);\n\n      return this;\n    },\n    showHintDialog: function showHintDialog$1(stepId) {\n      showHintDialog.call(this, stepId);\n\n      return this;\n    }\n  };\n\n  return introJs;\n\n})));\n"]},"metadata":{},"sourceType":"script"}