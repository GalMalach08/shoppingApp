{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\ShoppingProject\\\\client\\\\src\\\\components\\\\sideBarCart\\\\SideBarCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setCartProducts, updateTotalPrice, resetTotalPrice } from '../../store/actions';\nimport clsx from 'clsx';\nimport './style.css'; // formik\n\nimport { Formik } from 'formik';\nimport * as Yup from 'yup'; // Cloudinary\n\nimport { Image } from 'cloudinary-react'; // Components\n\nimport Search from '../search/Search';\nimport { Link } from 'react-router-dom';\nimport { Grid, TextField, Button, Collapse, Divider, Select, MenuItem } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Drawer from '@material-ui/core/Drawer';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { AppBar, Input } from '@material-ui/core';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { Nav, Navbar } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 300;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    fontFamily: 'roboto'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    backgroundColor: 'white',\n    color: 'black'\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  title: {\n    color: 'black'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    marginTop: '10px'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n}));\n\nconst SideBarCart = props => {\n  _s();\n\n  const cart = JSON.parse(localStorage.getItem('availableCart'));\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n  const [isDelete, setIsDelete] = useState(true);\n  const [imageName, setImageName] = useState('');\n  const [categoryArr, setCategoryArr] = useState([]);\n  const [initialValues, setInitialValues] = useState({\n    name: ' ',\n    price: ' ',\n    image: ' ',\n    category: ' '\n  });\n  const cartProducts = useSelector(state => state.products.cartProducts);\n  const totalPrice = useSelector(state => state.products.totalPrice);\n  const isAdmin = useSelector(state => state.users.isAdmin);\n  const productToUpdate = useSelector(state => state.products.productToUpdate);\n  const dispatch = useDispatch();\n  const location = useLocation(); // Form validation\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required('name is required!'),\n    price: Yup.string().required('price is required!'),\n    image: Yup.string().required('image is required!'),\n    category: Yup.string().required('category is required!')\n  });\n\n  const errorHelper = (formik, values) => ({\n    error: formik.errors[values] && formik.touched[values] ? true : false,\n    helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values] : null\n  });\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const clearCart = async () => {\n    const res = await fetch('/cart_item/cart', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: cart.id\n      })\n    });\n    const {\n      success\n    } = await res.json();\n\n    if (success) {\n      dispatch(setCartProducts([]));\n      dispatch(resetTotalPrice());\n    }\n  };\n\n  const removeFromCart = async id => {\n    const res = await fetch('/cart_item', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        CartId: cart.id,\n        ProductId: id\n      })\n    });\n    const {\n      success\n    } = await res.json();\n\n    if (success) {\n      const deletedItem = cartProducts.find(item => item.id === id);\n      console.log(deletedItem);\n      const cartProductsArr = cartProducts.filter(item => item.id !== id);\n      dispatch(setCartProducts(cartProductsArr));\n      dispatch(updateTotalPrice(-deletedItem.totalPrice));\n    }\n  };\n\n  const updateProduct = () => {\n    console.log('a');\n  };\n\n  const getProducts = async () => {\n    const res = await fetch(`/cart/${cart.id}`);\n    const data = await res.json();\n    console.log(data);\n    const itemsArr = [];\n    let count = 0;\n    data.cart.CartItems.forEach(item => {\n      const cartItem = {\n        id: item.ProductId,\n        name: item.Product.name,\n        singlePrice: item.Product.price,\n        totalPrice: item.price,\n        amount: item.amount,\n        image: item.Product.image\n      };\n      count += item.price;\n      itemsArr.push(cartItem);\n    });\n\n    if (count !== totalPrice) {\n      dispatch(updateTotalPrice(count));\n    }\n\n    dispatch(setCartProducts(itemsArr));\n  }; // Handle image change  \n\n\n  const handleChangeImage = (e, setFieldValue) => {\n    const reader = new FileReader();\n    setFieldValue('image', e.target.files[0]);\n\n    if (e.target.files.length === 0) {\n      setImageName('');\n      setFieldValue('image', '');\n    } else {\n      reader.readAsDataURL(e.target.files[0]);\n\n      reader.onloadend = () => {\n        setFieldValue('image', reader.result);\n      };\n\n      setImageName(e.target.files[0].name);\n    }\n  };\n\n  const getCategories = async () => {\n    const res = await fetch('/category');\n    const {\n      categories\n    } = await res.json();\n    const categoryArr = [];\n    categories.forEach(category => categoryArr.push(category.name));\n    setCategoryArr(categoryArr);\n  };\n\n  useEffect(() => {\n    if (isAdmin) {\n      getCategories();\n    } else {\n      getProducts();\n    }\n  }, []);\n  useEffect(() => {\n    if (productToUpdate.name) {\n      const {\n        name,\n        price,\n        image,\n        Category,\n        imageName\n      } = productToUpdate;\n      setInitialValues({\n        name,\n        price,\n        image,\n        category: Category\n      });\n      setImageName(imageName);\n    }\n  }, [productToUpdate]); // disable the delete product option on the payment page\n\n  useEffect(() => {\n    location.pathname === '/payment' ? setIsDelete(false) : setIsDelete(true);\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      className: clsx(classes.appBar, {\n        [classes.appBarShift]: open\n      }),\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          onClick: handleDrawerOpen,\n          edge: \"start\",\n          className: clsx(classes.menuButton, open && classes.hide),\n          children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n          bg: \"white\",\n          expand: \"md\",\n          className: \"navbar\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            style: {\n              height: '40px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              style: {\n                textDecoration: 'none',\n                marginRight: '25%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.title,\n                variant: \"h6\",\n                noWrap: true,\n                children: \" ShoppingApp \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n            className: \"navbar_collapse\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              className: \"mr-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/1\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Dairy and eggs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/2\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Meat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/3\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Fruits And Vegetables\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/4\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Drinks and alcohol\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/4\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Baking and canning cooking\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.searchLink,\n                children: [\" \", /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 62\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/logout\",\n                style: {\n                  textDecoration: 'none',\n                  color: 'black',\n                  marginTop: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  children: [/*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 31\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"link_desc\",\n                    children: \"Logout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 48\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      className: classes.drawer,\n      variant: \"persistent\",\n      anchor: \"left\",\n      open: open,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      children: !isAdmin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.drawerHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cart_header\",\n            children: \"Your Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: handleDrawerClose,\n              children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary_card\",\n          children: cartProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card_item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                className: \"product_img\",\n                cloudName: \"malachcloud\",\n                src: product.image,\n                width: \"70\",\n                height: \"40\",\n                crop: \"scale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product_info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"quanity: \", product.amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"total price: \", product.totalPrice, \"$\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: isDelete && /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => removeFromCart(product.id),\n                children: [\" \", /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 87\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 9\n        }, this), totalPrice === 0 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"m-2\",\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"total_price_span\",\n            children: \" Total price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 34\n          }, this), \" $\", totalPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/payment\",\n            style: {\n              textDecoration: 'none',\n              pointerEvents: totalPrice === 0 || !isDelete ? 'none' : ''\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              className: \"m-2\",\n              disabled: totalPrice === 0 || !isDelete,\n              children: \" Payment page \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"secondary\",\n            onClick: clearCart,\n            className: \"m-2\",\n            disabled: totalPrice === 0 || !isDelete,\n            children: \" Clear cart \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: productToUpdate && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Admin panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: initialValues,\n            onSubmit: (values, {\n              resetForm\n            }) => updateProduct(values, resetForm),\n            validationSchema: validationSchema,\n            enableReinitialize: true,\n            children: props => /*#__PURE__*/_jsxDEV(\"form\", {\n              style: {\n                textAlign: 'center',\n                margin: '10px'\n              },\n              onSubmit: props.handleSubmit,\n              autoComplete: \"off\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"name\",\n                  margin: \"normal\",\n                  label: \"name\",\n                  variant: \"outlined\",\n                  fullWidth: true,\n                  ...props.getFieldProps('name'),\n                  ...errorHelper(props, 'name')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"price\",\n                  margin: \"normal\",\n                  label: \"price\",\n                  variant: \"outlined\",\n                  fullWidth: true,\n                  ...props.getFieldProps('price'),\n                  ...errorHelper(props, 'price')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"file\",\n                  className: \"inputfile\",\n                  type: \"file\",\n                  name: \"image\",\n                  onChange: e => handleChangeImage(e, props.setFieldValue),\n                  hidden: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    display: 'block',\n                    margin: '5px 0px'\n                  },\n                  color: \"primary\",\n                  variant: \"outlined\",\n                  children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n                    className: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 109\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"file\",\n                    children: [imageName ? `${imageName} UPLOADED` : ' Product image', \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 134\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this), props.errors.image && props.touched.image ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error\",\n                  children: props.errors.image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 66\n                }, this) : null, /*#__PURE__*/_jsxDEV(Select, {\n                  value: props.values.category,\n                  name: \"category\",\n                  fullWidth: true,\n                  ...props.getFieldProps('category'),\n                  ...errorHelper(props, 'category'),\n                  children: categoryArr.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: category.id,\n                    children: category.name\n                  }, category, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"my-3\",\n                variant: \"contained\",\n                color: \"primary\",\n                type: \"submit\",\n                size: \"large\",\n                fullWidth: true,\n                children: \" Update product \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: clsx(classes.content, {\n        [classes.contentShift]: open\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.drawerHeader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SideBarCart, \"b+JRNimztho2wIa+pA+mSUb50DE=\", false, function () {\n  return [useStyles, useTheme, useSelector, useSelector, useSelector, useSelector, useDispatch, useLocation];\n});\n\n_c = SideBarCart;\nexport default SideBarCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBarCart\");","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/ShoppingProject/client/src/components/sideBarCart/SideBarCart.js"],"names":["React","useState","useEffect","useLocation","useDispatch","useSelector","setCartProducts","updateTotalPrice","resetTotalPrice","clsx","Formik","Yup","Image","Search","Link","Grid","TextField","Button","Collapse","Divider","Select","MenuItem","makeStyles","useTheme","IconButton","BarChartIcon","ExitToAppIcon","Drawer","CloseIcon","AppBar","Input","Toolbar","Typography","ShoppingCartIcon","ChevronLeftIcon","ImageIcon","Nav","Navbar","drawerWidth","useStyles","theme","root","display","fontFamily","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundColor","color","appBarShift","width","marginLeft","easeOut","enteringScreen","title","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","justifyContent","marginTop","content","flexGrow","padding","contentShift","SideBarCart","props","cart","JSON","parse","localStorage","getItem","classes","open","setOpen","isDelete","setIsDelete","imageName","setImageName","categoryArr","setCategoryArr","initialValues","setInitialValues","name","price","image","category","cartProducts","state","products","totalPrice","isAdmin","users","productToUpdate","dispatch","location","validationSchema","object","shape","string","required","errorHelper","formik","values","error","errors","touched","helperText","handleDrawerOpen","handleDrawerClose","clearCart","res","fetch","method","headers","body","stringify","id","success","json","removeFromCart","CartId","ProductId","deletedItem","find","item","console","log","cartProductsArr","filter","updateProduct","getProducts","data","itemsArr","count","CartItems","forEach","cartItem","Product","singlePrice","amount","push","handleChangeImage","e","setFieldValue","reader","FileReader","target","files","length","readAsDataURL","onloadend","result","getCategories","categories","Category","pathname","height","textDecoration","searchLink","paper","map","product","pointerEvents","resetForm","textAlign","margin","handleSubmit","getFieldProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setCartProducts, updateTotalPrice, resetTotalPrice } from '../../store/actions'\r\nimport clsx from 'clsx';\r\nimport './style.css'\r\n// formik\r\nimport { Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// Cloudinary\r\nimport { Image } from 'cloudinary-react'\r\n// Components\r\nimport Search from '../search/Search'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, TextField, Button, Collapse, Divider, Select, MenuItem  } from '@material-ui/core'\r\n\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport BarChartIcon from '@material-ui/icons/BarChart'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { AppBar, Input } from '@material-ui/core';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ImageIcon from '@material-ui/icons/Image'\r\n\r\n\r\nimport { Nav, Navbar } from 'react-bootstrap'\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    fontFamily:'roboto'\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    backgroundColor: 'white',\r\n    color:'black'\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  title: {\r\n      color:'black'\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    marginTop:'10px'\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nconst SideBarCart = (props) => {\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false)\r\n  const [isDelete, setIsDelete] = useState(true)\r\n  const [imageName, setImageName] = useState('')\r\nconst [categoryArr, setCategoryArr] = useState([])\r\n  const [initialValues, setInitialValues] = useState({name:' ', price: ' ', image: ' ', category: ' '})\r\n  const cartProducts = useSelector(state => state.products.cartProducts)\r\n  const totalPrice = useSelector(state => state.products.totalPrice)\r\n  const isAdmin = useSelector(state => state.users.isAdmin)\r\n  const productToUpdate = useSelector(state => state.products.productToUpdate)\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n \r\n  \r\n  // Form validation\r\n  const validationSchema = Yup.object().shape({\r\n    name:Yup.string()\r\n    .required('name is required!'),\r\n    price:Yup.string()\r\n    .required('price is required!'),\r\n    image:Yup.string()\r\n    .required('image is required!'),\r\n    category:Yup.string()\r\n    .required('category is required!')\r\n    })\r\n\r\n  const errorHelper = (formik,values) => ({\r\n      error: formik.errors[values] && formik.touched[values] ? true : false,\r\n      helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n  })\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const clearCart = async () => {\r\n    const res = await fetch('/cart_item/cart', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ id: cart.id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n     dispatch(setCartProducts([]))\r\n     dispatch(resetTotalPrice())\r\n\r\n   }\r\n  }\r\n\r\n  const removeFromCart = async (id) => {\r\n    const res = await fetch('/cart_item', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ CartId: cart.id, ProductId: id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n     const deletedItem = cartProducts.find(item => item.id === id)\r\n     console.log(deletedItem);\r\n     const cartProductsArr = cartProducts.filter(item => item.id !== id)\r\n     dispatch(setCartProducts(cartProductsArr))\r\n     dispatch(updateTotalPrice(-deletedItem.totalPrice))\r\n   }\r\n  }\r\n\r\n  const updateProduct = () => {\r\n    console.log('a');\r\n  }\r\n\r\n  const getProducts =  async () => {\r\n    const res = await fetch(`/cart/${cart.id}`)\r\n    const data  = await res.json()\r\n    console.log(data);\r\n    const itemsArr = []\r\n    let count = 0\r\n    data.cart.CartItems.forEach(item => {\r\n      const cartItem = {\r\n        id: item.ProductId,\r\n        name: item.Product.name,\r\n        singlePrice: item.Product.price,\r\n        totalPrice: item.price,\r\n        amount: item.amount,\r\n        image: item.Product.image\r\n      }\r\n      count += item.price\r\n      itemsArr.push(cartItem)\r\n    })\r\n    if(count !== totalPrice) {\r\n      dispatch(updateTotalPrice(count))\r\n    }\r\n    dispatch(setCartProducts(itemsArr))   \r\n  }\r\n       \r\n    // Handle image change  \r\n    const handleChangeImage = (e,setFieldValue) => {\r\n      const reader = new FileReader()\r\n      setFieldValue('image', e.target.files[0])\r\n      if(e.target.files.length === 0) {\r\n      setImageName('')\r\n      setFieldValue('image','')\r\n      } \r\n      else {\r\n        reader.readAsDataURL(e.target.files[0])\r\n        reader.onloadend = () => {\r\n        setFieldValue('image',reader.result)\r\n        }\r\n        setImageName(e.target.files[0].name)\r\n      }\r\n  }\r\n\r\n  const getCategories = async () => {\r\n    const res = await fetch('/category')\r\n    const { categories } = await res.json()\r\n    const categoryArr = []\r\n    categories.forEach(category => categoryArr.push(category.name))\r\n    setCategoryArr(categoryArr)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(isAdmin) {\r\n      getCategories() \r\n    } else {\r\n      getProducts()\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(productToUpdate.name) {\r\n    const { name, price, image, Category, imageName } = productToUpdate\r\n    setInitialValues({ name, price, image, category: Category })\r\n    setImageName(imageName)\r\n\r\n    }\r\n  }, [productToUpdate])\r\n\r\n  // disable the delete product option on the payment page\r\n  useEffect(() => {\r\n  location.pathname === '/payment' ? setIsDelete(false) : setIsDelete(true)\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* Top navbar */}\r\n      <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: open})}>\r\n        <Toolbar>\r\n          <IconButton color=\"inherit\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>\r\n            <ShoppingCartIcon />\r\n          </IconButton>\r\n          <Navbar bg=\"white\" expand=\"md\" className=\"navbar\">\r\n              <Navbar.Brand style={{height:'40px'}}>\r\n                <Link to=\"/\" style={{ textDecoration: 'none', marginRight:'25%'}}>\r\n                  <Typography className={classes.title} variant=\"h6\" noWrap> ShoppingApp </Typography>\r\n                </Link>\r\n              </Navbar.Brand>\r\n              <Navbar.Collapse className=\"navbar_collapse\">\r\n                <Nav className=\"mr-auto\">\r\n                 \r\n                            <Link to=\"/1\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Dairy and eggs</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                       \r\n                            <Link to=\"/2\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Meat</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                 \r\n                            <Link to=\"/3\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Fruits And Vegetables</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                      \r\n                            <Link to=\"/4\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Drinks and alcohol</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                        \r\n                \r\n                            <Link to=\"/4\" style={{ textDecoration: 'none', color:'black', marginTop:'7px'}}>\r\n                            <IconButton color=\"inherit\">\r\n                            <span className=\"link_desc\">Baking and canning cooking</span>\r\n                            </IconButton>\r\n                            </Link>\r\n                       \r\n                        <div className={classes.searchLink}> <Search/> </div>\r\n                   \r\n                          <Link to=\"/logout\" style={{ textDecoration: 'none', color:'black', marginTop:'7px' }}>\r\n                              <IconButton color=\"inherit\">\r\n                              <ExitToAppIcon/> <span className=\"link_desc\">Logout</span>\r\n                              </IconButton>\r\n                          </Link>\r\n                      \r\n                    </Nav>\r\n              </Navbar.Collapse>\r\n          </Navbar>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Side bar */}\r\n  \r\n      <Drawer className={classes.drawer} variant=\"persistent\" anchor=\"left\" open={open}  classes={{ paper: classes.drawerPaper }}>\r\n        {!isAdmin ? \r\n        <>\r\n        <div className={classes.drawerHeader}>\r\n          <h3 className=\"cart_header\">Your Cart</h3>\r\n          <div>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon/>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"summary_card\">\r\n          {cartProducts.map(product => (\r\n            <div className=\"card_item\" key={product.id}>\r\n              <div>\r\n                <Image className=\"product_img\"  cloudName=\"malachcloud\" src={product.image} width=\"70\" height=\"40\" crop=\"scale\" />\r\n              </div>\r\n              <div className=\"product_info\">\r\n                <h6>{product.name}</h6>\r\n                <h6>quanity: {product.amount}</h6>\r\n                <h6>total price: {product.totalPrice}$</h6>\r\n              </div>\r\n              <div>\r\n                { isDelete && <IconButton onClick={() => removeFromCart(product.id)}> <CloseIcon/> </IconButton> }\r\n              </div>\r\n            </div>\r\n            ))}\r\n          </div>\r\n\r\n          {totalPrice === 0 ?\r\n            <h5 className=\"m-2\">Your cart is empty</h5>\r\n           :\r\n            <h5 className=\"ml-2\"><span className=\"total_price_span\"> Total price: </span> ${totalPrice}</h5>\r\n          }\r\n    \r\n          <div className=\"btn-group\">\r\n          <Link to=\"/payment\" style={{ textDecoration: 'none', pointerEvents: totalPrice === 0 || !isDelete ? 'none' : ''}}>\r\n            <Button variant=\"outlined\" color=\"primary\" className=\"m-2\" disabled={totalPrice === 0 || !isDelete}> Payment page </Button>\r\n          </Link> \r\n            <Button variant=\"outlined\" color=\"secondary\" onClick={clearCart}  className=\"m-2\" disabled={totalPrice === 0 || !isDelete}> Clear cart </Button>\r\n          </div>\r\n          </>\r\n          : \r\n          <>\r\n          {productToUpdate &&\r\n          <>\r\n          <h5>Admin panel</h5>\r\n            <Formik\r\n            initialValues={initialValues}\r\n            onSubmit={(values,{ resetForm }) => updateProduct(values, resetForm)}\r\n            validationSchema={validationSchema}\r\n              enableReinitialize={true}>\r\n              {(props) => (\r\n                <form style={{textAlign:'center', margin:'10px'}} onSubmit={props.handleSubmit} autoComplete=\"off\">\r\n                  <div>\r\n                    <TextField name=\"name\" margin=\"normal\" label=\"name\" variant=\"outlined\" fullWidth \r\n                    {...props.getFieldProps('name')} {...errorHelper(props,'name')}/>\r\n\r\n                    <TextField name=\"price\" margin=\"normal\" label=\"price\" variant=\"outlined\" fullWidth \r\n                    {...props.getFieldProps('price')} {...errorHelper(props,'price')}/>\r\n\r\n                    <Input id=\"file\"  className=\"inputfile\" type=\"file\" name=\"image\" onChange={(e) => handleChangeImage(e,props.setFieldValue )} hidden/> \r\n                    <Button style={{display:'block', margin:'5px 0px'}} color='primary'  variant=\"outlined\"><ImageIcon className=\"\"/><label htmlFor=\"file\">{imageName ? `${imageName} UPLOADED` : ' Product image'} </label></Button>\r\n                   {props.errors.image && props.touched.image ?  <div className=\"error\">{props.errors.image}</div>  : null} \r\n\r\n                   \r\n                  <Select value={props.values.category} name=\"category\" fullWidth  {...props.getFieldProps('category')}\r\n                   {...errorHelper(props,'category')}>\r\n                    {categoryArr.map(category => (\r\n                      <MenuItem key={category} value={category.id}>{category.name}</MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                    \r\n                  </div>\r\n              \r\n                          \r\n                 \r\n                                \r\n                 \r\n                                      \r\n                \r\n\r\n                  {/* Alert error */}\r\n                  {/* <Collapse in={openAlert}>\r\n                    <Alert\r\n                      severity=\"error\"\r\n                      action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\r\n                      {message}\r\n                    </Alert>\r\n                  </Collapse> */}\r\n\r\n                  <Button className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\" fullWidth> Update product </Button>\r\n                 \r\n                </form> )}\r\n            </Formik>  \r\n            </>\r\n          }\r\n          </>\r\n        }\r\n        \r\n       \r\n        \r\n      \r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n       \r\n      </main>\r\n\r\n    </div>\r\n    \r\n    \r\n  );\r\n}\r\n\r\nexport default SideBarCart\r\n"]},"metadata":{},"sourceType":"module"}