{"version":3,"sources":["hoc/Auth.js","store/actions/index.js","components/home/newUserModal/NewUserModal.js","components/productCard/ProductCard.js","components/noProduct/NoProduct.js","components/loader/Loader.js","components/home/Home.js","components/logout/LogOut.js","components/SignIn/SignIn.js","components/caursel/Carusel.js","images/signPhoto.png","components/signup/SignUp.js","components/payment/PaymentModal.js","components/payment/Payment.js","components/search/Search.js","components/sideBarCart/SideBarCart.js","Routes.js","store/reducers/index.js","store/reducers/users_reducer.js","store/reducers/products_reducer.js","store/reducers/drawer_reducer.js","store/index.js","index.js"],"names":["authGaurd","ComposedComponent","setIsAuthenticate","props","history","useHistory","useState","isAuth","setIsAuth","isUserAuthenticate","a","JSON","parse","localStorage","getItem","console","log","push","useEffect","setProductsState","products","type","payload","setCartProducts","addCartProducts","product","updateTotalPrice","price","setIsAdmin","isAdmin","setProductToUpdate","setNoProducts","bool","setDrawerState","isOpen","NewUserModal","setStepsEnabled","user","show","setShow","handleClose","toggleSteps","Modal","onHide","centered","backdrop","keyboard","Header","closeButton","Title","className","firstname","Body","Footer","Button","variant","color","onClick","style","margin","useStyles","makeStyles","icon","cursor","backgroundColor","borderRadius","ProductCard","cart","useSelector","state","data","cartProducts","users","classes","dispatch","useDispatch","successToast","message","toast","draggable","position","POSITION","BOTTOM_RIGHT","transition","Zoom","autoClose","addToCart","id","amount","fetch","method","headers","body","stringify","ProductId","CartId","response","json","cartItem","changedItem","cartItemsArr","find","item","totalPrice","newProductInCart","name","Product","singlePrice","image","productArr","isInCart","class","cloudName","src","width","height","crop","quantity","fontSize","productsArr","reduceQuantity","addQuantity","value","productToUpdate","updateProduct","NoProduct","Jumbotron","to","Loader","fill","root","display","justifyContent","Home","noProducts","firstEntry","setFirstEntry","stepsEnabled","initialStep","element","intro","tooltipClass","steps","getProducts","match","params","res","forEach","productObj","CartItems","admin","newUser","setItem","enabled","onExit","StylesProvider","injectFirst","Grid","container","length","map","Grow","in","timeout","xs","lg","LogOut","logOut","removeItem","theme","marginTop","formGrid","paper","spacing","flexDirection","alignItems","form","longMessage","fontWeight","submit","header","textAlign","fontFamily","SignIn","setMessage","openAlert","setOpenAlert","showPassword","setShowPassword","buttonDisabled","setButtonDisabled","buttonStartDisabled","setButtonStartDisabled","setAdmin","numberOfProducts","setnumberOfProducts","numberOfOrders","setNumberOfOrders","availableCart","setAvailableCart","availableCartSum","setAvailableCartSum","userLastOrder","setUserLastOrder","setNewUser","productsImages","setProductsImages","isFlipped","setIsFlipped","dense","setIsUserAuth","formik","useFormik","initialValues","username","password","validationSchema","Yup","required","min","onSubmit","values","resetForm","loginUser","errorHelper","error","errors","touched","helperText","getNumberOfProducts","i","getNumberOfOrders","orders","success","Carts","completed","date","switchDate","sum","ordersOfUser","order_date","Date","toLocaleDateString","getIn","UserId","setTimeout","dateArr","split","temp","join","sm","md","component","Paper","square","flipDirection","alt","noValidate","handleSubmit","TextField","fullWidth","label","autoFocus","getFieldProps","InputProps","endAdornment","InputAdornment","IconButton","Collapse","Alert","severity","action","size","disabled","ListItemText","List","ListItem","ListItemAvatar","Avatar","primary","slider","left","bottom","Carusel","Carousel","fade","interval","Item","backgroundImage","SignUpPhoto","backgroundRepeat","alignSelf","backgroundPosition","backgroundSize","flexBasis","SignUp","showConfirmPassword","setShowConfirmPassword","chosenCity","setChosenCity","activeStep","setActiveStep","cityArr","shape","lastname","email","confirmPassword","oneOf","city","street","handleClickShowPassword","handleClickConfirmPassword","handleBack","prev","isUserExcist","signUpUser","Hidden","mdDown","elevation","Stepper","step","Step","StepLabel","enableReinitialize","autoComplete","Select","onChange","e","target","MenuItem","DeleteVacationModal","modalOpen","setModalOpen","orderId","fileArr","document","createElement","file","Blob","href","URL","createObjectURL","download","click","padding","Payment","setOrderId","shipmentDatesArr","setShipmentDatesArr","searched","rows","setRows","selectedDate","setSelectedDate","cartItems","creditNumber","makeOrder","orderObj","shipment_date","order","itemsArr","getInputValue","inputName","setFieldValue","getOrders","month","getMonth","day","getDate","TableContainer","searchVal","searchedVal","filteredRows","filter","row","toLowerCase","includes","requestSearch","onCancelSearch","Table","table","aria-label","TableHead","TableRow","TableCell","TableBody","textDecoration","onDoubleClick","utils","DateFnsUtils","disablePast","format","shouldDisableDate","PaymentModal","search","marginRight","marginLeft","breakpoints","up","searchIcon","inputRoot","inputInput","paddingLeft","transitions","create","sortBtn","Search","searchValue","setSearchValue","findProducts","InputBase","placeholder","input","drawerWidth","appBar","easing","sharp","duration","leavingScreen","appBarShift","marginBottom","easeOut","enteringScreen","title","menuButton","hide","drawer","flexShrink","drawerPaper","drawerHeader","content","flexGrow","contentShift","SideBarCart","isDelete","setIsDelete","imageName","setImageName","selectedCategory","setSelectedCategory","disableButton","setDisableButton","categoryArr","setCategoryArr","category","setInitialValues","location","useLocation","handleDrawerClose","clearCart","removeFromCart","deletedItemInProducts","deletedItemInCart","cartProductsArr","count","getCategories","categories","CategoryId","findIndex","addProduct","pathname","quanity","Category","AppBar","clsx","Toolbar","Navbar","bg","expand","Brand","edge","Typography","noWrap","Toggle","aria-controls","Nav","activeClassName","iconButton","searchLink","Drawer","anchor","open","defaultValue","Input","reader","FileReader","files","readAsDataURL","onloadend","result","handleChangeImage","hidden","htmlFor","Divider","pointerEvents","Router","path","render","from","appReducers","combineReducers","allProducts","ReduxStore","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","store","Routes","getElementById"],"mappings":"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","file":"static/js/main.36889ab6.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react' // imrse\r\nimport { useHistory } from \"react-router-dom\"\r\n        \r\nexport const authGaurd = (ComposedComponent, setIsAuthenticate) => {\r\n    const AuthenticationCheck = (props) => {\r\n        const history = useHistory()\r\n        const [isAuth, setIsAuth] = useState(false)\r\n\r\n        const isUserAuthenticate = async () => {\r\n          const user = JSON.parse(localStorage.getItem('user'))\r\n          if (user) {\r\n            setIsAuthenticate(true)\r\n            setIsAuth(true)\r\n          }\r\n          else {\r\n            setIsAuthenticate(false)\r\n            setIsAuth(false)\r\n            console.log('not auth')\r\n            history.push('/signin')\r\n          } \r\n        }     \r\n        useEffect(() => {\r\n           isUserAuthenticate()\r\n        }, [])\r\n        \r\n          return(\r\n            <>\r\n            { isAuth ?\r\n             <ComposedComponent {...props} /> \r\n            : null}\r\n            </>\r\n            )\r\n        }\r\n    return AuthenticationCheck\r\n}\r\n    \r\n\r\n\r\n\r\n        ","export const setProductsState = (products) => ({ \r\n    type:'SET_PRODUCTS',\r\n    payload:products\r\n})\r\n\r\nexport const setAllProductsState = (products) => ({ \r\n    type:'SET_ALL_PRODUCTS',\r\n    payload:products\r\n})\r\n\r\n\r\nexport const setCartProducts = (products) => ({ \r\n    type:'SET_CART_PRODUCTS',\r\n    payload:products\r\n})\r\n\r\n\r\nexport const addCartProducts = (product) => ({ \r\n    type:'ADD_CART_PRODUCTS',\r\n    payload:product\r\n})\r\n\r\nexport const updateTotalPrice = (price) => ({ \r\n    type:'UPDATE_TOTAL_PRICE',\r\n    payload:price\r\n})\r\n\r\nexport const resetTotalPrice = () => ({ \r\n    type:'RESET_TOTAL_PRICE',\r\n    payload:0\r\n})\r\n\r\nexport const setIsAdmin = (isAdmin) => ({ \r\n    type:'SET_IS_ADMIN',\r\n    payload: isAdmin\r\n})\r\n\r\nexport const setProductToUpdate = (product) => ({ \r\n    type:'SET_PRODUCT_TO_UPDATE',\r\n    payload: product\r\n})\r\n\r\nexport const setNoProducts = (bool) => ({ \r\n    type:'SET_NO_PRODUTS',\r\n    payload: bool\r\n})\r\n\r\nexport const setDrawerState = (isOpen) => ({ \r\n    type:'SET_DRAWER_STATE',\r\n    payload: isOpen\r\n})\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { Button } from '@material-ui/core'\r\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutline';\r\nimport './style.css'\r\n\r\nconst NewUserModal = ({ setStepsEnabled })  =>  {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n    const [show, setShow] = useState(true)\r\n\r\n    // Close the modal\r\n    const handleClose = () => setShow(false)\r\n \r\n    // Start the introduction\r\n    const hanleIntro = () => {\r\n      handleClose() \r\n      toggleSteps()\r\n    }\r\n  \r\n    const toggleSteps = () => {\r\n      setStepsEnabled(true)\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Modal show={show} onHide={handleClose} centered backdrop=\"static\" keyboard={false}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"modal_title\"><div className=\"modal_title_content\"> Hello {user.firstname} </div> </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            Welcome to the shoppingApp! the most popular shopping website in the world with more than 100 million users!\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={() => hanleIntro() } style={{margin:'auto'}}>\r\n              Let's get started! <DoneOutlineIcon style={{margin:'10px 10px 12'}}/>\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\nexport default NewUserModal","import React from 'react'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setProductToUpdate, setCartProducts, addCartProducts, updateTotalPrice, setProductsState, setDrawerState } from '../../store/actions'\r\n// Material ui\r\nimport { makeStyles } from '@material-ui/core/styles'  \r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n// React toastify \r\nimport { toast, Zoom } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// Cloudinary\r\nimport { Image } from 'cloudinary-react'\r\n// Css\r\nimport './style.css'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    icon: {\r\n      cursor:'pointer',\r\n      margin:'0px 5px',\r\n       \"&:hover\": {\r\n        backgroundColor: '#F5F3F3',\r\n        borderRadius:'100px',\r\n      }\r\n    }\r\n  }))     \r\n  \r\nconst ProductCard = ({ product }) => {\r\n    const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n    const products = useSelector(state => state.products.data)\r\n    const cartProducts = useSelector(state => state.products.cartProducts)\r\n    const isAdmin = useSelector(state => state.users.isAdmin)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n\r\n    // Toastify\r\n    const successToast = (message) => {\r\n     toast(message, { \r\n      draggable: true, \r\n      position: toast.POSITION.BOTTOM_RIGHT,\r\n      transition: Zoom,\r\n      autoClose: 2000\r\n      })\r\n    }\r\n\r\n    // Add product to cart or update excisting one\r\n    const addToCart = async (id, amount, price) => {\r\n      const response = await fetch('https://shoppingappmalach.herokuapp.com/cart_item', { \r\n        method: 'POST',\r\n        headers: {\r\n         'Content-Type':'application/json'\r\n       },\r\n       body: JSON.stringify({ amount, price: price * amount, ProductId: id, CartId: cart.id })\r\n       })\r\n       const { cartItem } = await response.json() \r\n       console.log(cartItem)\r\n       if(cartItem) {\r\n        const cartItemsArr = cartProducts\r\n        const changedItem = cartItemsArr.find(item => item.id === cartItem.ProductId)\r\n        if(changedItem) {\r\n          dispatch(updateTotalPrice( (amount - changedItem.amount ) * price ))\r\n          changedItem.amount = amount\r\n          changedItem.totalPrice = price * amount\r\n          dispatch(setCartProducts(cartItemsArr))\r\n          successToast('Product updated in cart! 😀')\r\n        } else {\r\n         const newProductInCart = { \r\n           id: cartItem.ProductId,\r\n           name: cartItem.Product.name,\r\n           singlePrice: cartItem.Product.price,\r\n           amount: cartItem.amount,\r\n           totalPrice:cartItem.price,\r\n           image: cartItem.Product.image\r\n         }\r\n          const productArr = products\r\n          const addedProduct = productArr.find(item => item.id === id)\r\n          addedProduct.isInCart = true\r\n          dispatch(setProductsState(productArr))\r\n          dispatch(addCartProducts(newProductInCart))\r\n          dispatch(updateTotalPrice(newProductInCart.totalPrice))\r\n          successToast('Product added to cart! 😀')\r\n        }\r\n       }\r\n    }\r\n\r\n    // Reduce the quantity of product\r\n    const reduceQuantity = (id) => {\r\n      const productsArr = products\r\n      const product = productsArr.find(product => product.id === id)\r\n      product.quantity -= 1\r\n      dispatch(setProductsState(productsArr))\r\n    }\r\n  \r\n    // Add to the quantity of product\r\n    const addQuantity = (id) => {\r\n      const productsArr = products\r\n      const product = productsArr.find(product => product.id === id)\r\n      product.quantity += 1\r\n      dispatch(setProductsState(productsArr))\r\n    }\r\n\r\n    // Admin functions\r\n\r\n    // Update product details\r\n    const updateProduct = (id) => {\r\n      const productToUpdate = products.find(product => product.id === id)\r\n      dispatch(setProductToUpdate(productToUpdate))\r\n      dispatch(setDrawerState(true))\r\n    }\r\n\r\n    return (\r\n      <>\r\n      {product.image &&\r\n      <div class=\"contain\">\r\n        <Image cloudName=\"malachcloud\" src={product.image} width=\"250\" height=\"200\" crop=\"scale\" />\r\n        <h3>{product.name}</h3>\r\n        <div class=\"properties\">\r\n          {!isAdmin &&\r\n            <div class=\"qty\">\r\n              <h4 >Quantity</h4>\r\n              {product.quantity > 1 && <RemoveIcon className={classes.icon} fontSize=\"small\" color=\"action\"   onClick={() => reduceQuantity(product.id)} /> }\r\n              <span class=\"number\">{product.quantity}</span>\r\n              <AddIcon className={classes.icon} fontSize=\"small\" color=\"action\"  onClick={() => addQuantity(product.id)} id=\"stepTwo\"/>\r\n            </div> }\r\n\r\n            <div class=\"price\">\r\n              <h4>Price</h4>\r\n              <span class=\"price-inr\">\r\n                <i class=\"fa fa-inr\"></i>\r\n                <span class=\"amount\">${product.price}</span>\r\n              </span>\r\n            </div>\r\n\r\n            {!isAdmin &&\r\n            <div class=\"price\">\r\n              <h4>Total</h4>\r\n              <span class=\"price-inr\">\r\n                <i class=\"fa fa-inr\"></i>\r\n                <span class=\"amount\">${+product.price * +product.quantity}</span>\r\n              </span>\r\n            </div> }\r\n        </div>\r\n    \r\n      {!isAdmin && <input class=\"ip-add-cart\" type=\"button\" value={product.isInCart ? 'Update' : 'Add to cart'} onClick={() => addToCart(product.id, product.quantity, product.price )}  id=\"stepOne\"/> }\r\n      {isAdmin && <input class=\"ip-add-cart\" type=\"button\" value=\"Update product\" onClick={() => updateProduct(product.id)} /> }\r\n    </div> }\t\r\n   </>\r\n    )\r\n}\r\n\r\nexport default ProductCard\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Jumbotron } from 'react-bootstrap'\r\nimport './style.css'\r\nconst NoProduct = () => {\r\n    return (\r\n        <Jumbotron className=\"not_found_div\">\r\n        <h1>Were sorry!</h1>\r\n        <p>\r\n        But there are no results matching your search... Please search again or return to <Link className=\"home_page_link\" to=\"/products/1\"> home page</Link>\r\n        </p>\r\n      \r\n      </Jumbotron>\r\n    )\r\n}\r\n\r\nexport default NoProduct\r\n","import React from 'react'\r\nimport LocalGroceryStoreIcon from '@material-ui/icons/LocalGroceryStore';\r\nimport './style.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <>\r\n        <div className=\"overlay\"></div>\r\n        <div className=\"loaders\"> <LocalGroceryStoreIcon fontSize=\"large\" style={{fill:\"grey\"}}/> </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import React, { useEffect, useState } from 'react'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setIsAdmin, setProductsState, setDrawerState, setNoProducts } from '../../store/actions'\r\n// Components\r\nimport NewUserModal from './newUserModal/NewUserModal'\r\nimport ProductCard from '../productCard/ProductCard'\r\nimport NoProduct from '../noProduct/NoProduct'\r\nimport Loader from '../loader/Loader'\r\n// Material ui components\r\nimport { Grid, Grow } from '@material-ui/core'\r\nimport { makeStyles, StylesProvider } from '@material-ui/core/styles'\r\n// React toastify \r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// Intro js\r\nimport { Steps } from 'intro.js-react'\r\nimport 'intro.js/introjs.css'\r\n// Css\r\nimport './style.css'\r\n\r\n\r\n// material ui style\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display:'flex',\r\n    justifyContent:'center',\r\n    margin:'30px'\r\n  }\r\n}))\r\n\r\n const Home = (props) => {\r\n  const classes = useStyles()\r\n  const user = JSON.parse(localStorage.getItem('user'))\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const dispatch = useDispatch()\r\n  const products = useSelector(state => state.products.data)\r\n  const noProducts = useSelector(state => state.products.noProducts)\r\n  // Intro js states\r\n  const [firstEntry, setFirstEntry] = useState(false)\r\n  const [stepsEnabled, setStepsEnabled] = useState(false)\r\n  const [initialStep, setInitialStep] = useState(0)\r\n  const [steps, setSteps] = useState([\r\n      { element:'#stepOne', intro: 'Here you can add new products to the cart 🥳', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepTwo', intro: 'Increase the quantity in order to reach the desired quantity🥳', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepThree', intro:'Here is your cart, threre you will find all the products you added 😎', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepFour', intro: 'Try to serach for your desired product 🔍', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepFive', intro: 'navigate between the categories', position: 'left', tooltipClass: 'myTooltipClass' },\r\n      { element:'#stepSix', intro: 'and when you finish click here to move to the payment page', position: 'left', tooltipClass: 'myTooltipClass' },\r\n  ])\r\n\r\n\r\n  // Get all the products\r\n  const getProducts = async () => {\r\n    try {\r\n      const id = props.match.params.id\r\n      if(id !== 'search') {\r\n      dispatch(setNoProducts(false))\r\n      const res = await fetch(`https://shoppingappmalach.herokuapp.com/product/${id}`)\r\n      const { products } = await res.json()\r\n      const response = await fetch(`https://shoppingappmalach.herokuapp.com//cart/${cart.id}`)\r\n      const data  = await response.json()\r\n      const productsArr = []\r\n      products.forEach(product => {\r\n        const productObj = {\r\n          ...product,\r\n        }\r\n        const isInCart = data.cart.CartItems.find(item => item.ProductId === product.id)\r\n        if(isInCart) {\r\n          productObj.quantity = isInCart.amount\r\n          productObj.isInCart = true\r\n        } else {\r\n          productObj.quantity = 1\r\n        }\r\n        productsArr.push(productObj)\r\n      })\r\n      dispatch(setProductsState(productsArr))\r\n    } \r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  // intro js functions\r\n  const onExit = () => {\r\n    setStepsEnabled(false)\r\n    setFirstEntry(false)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [props.match.params.id])\r\n\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n    user.admin ? dispatch(setIsAdmin(true)) : dispatch(setIsAdmin(false))\r\n   if (user.newUser) {\r\n    setFirstEntry(true)\r\n    dispatch(setDrawerState(true))\r\n    delete user['newUser']\r\n    localStorage.setItem('user', JSON.stringify(user))\r\n   }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      {firstEntry ? \r\n      <>\r\n      <NewUserModal stepsEnabled={stepsEnabled} setStepsEnabled={setStepsEnabled}/>\r\n      <Steps enabled={stepsEnabled} steps={steps} initialStep={initialStep} onExit={onExit}/>\r\n     </>\r\n      : null}\r\n      <StylesProvider injectFirst>\r\n     \r\n        <div className=\"container\">\r\n          <Grid container>\r\n              {!noProducts && products ? \r\n                products.length !== 0 ?  products.map(product => (\r\n                <Grow in={true}  timeout={700} key={product.id}>\r\n                  <Grid item xs={11} lg={5}  className={classes.root}  >\r\n                    <ProductCard product={product} />\r\n                  </Grid> \r\n                </Grow>\r\n              )):  <Loader/> :  \r\n                  <NoProduct/>\r\n                }\r\n            {/* ToastContainer */}\r\n            <ToastContainer /> \r\n          </Grid>\r\n        </div>\r\n    </StylesProvider>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React ,{ useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { resetTotalPrice, setProductToUpdate, setProductsState } from '../../store/actions'\r\n\r\nconst LogOut = ({ setIsAuth }) => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n\r\n    const logOut = async () => {\r\n        setIsAuth(false)\r\n        dispatch(resetTotalPrice())\r\n        dispatch(setProductToUpdate({}))\r\n        dispatch(setProductsState([]))\r\n        localStorage.removeItem('user')\r\n        localStorage.removeItem('availableCart')\r\n        history.push('/signin') \r\n    }\r\n    \r\n    useEffect(() => {\r\n        logOut()\r\n    }, [])\r\n\r\n    return null   \r\n}\r\n\r\nexport default LogOut\r\n","import React,{ useState, useEffect } from 'react'\r\n// Redux \r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { setIsAdmin } from '../../store/actions'\r\n// Material ui components\r\nimport { Grid, TextField, Button, Paper, Collapse, IconButton, InputAdornment, ListItemAvatar,\r\nAvatar, ListItem, List, ListItemText, Grow } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Alert from '@material-ui/lab/Alert'\r\n// Material ui icons\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey'\r\nimport KitchenIcon from '@material-ui/icons/Kitchen'\r\nimport InsertInvitationIcon from '@material-ui/icons/InsertInvitation'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport VisibilityIcon from '@material-ui/icons/Visibility'\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff'\r\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff'\r\nimport PaymentIcon from '@material-ui/icons/Payment'\r\nimport HomeWorkIcon from '@material-ui/icons/HomeWork'\r\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping'\r\n// Formik\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// Card flip\r\nimport ReactCardFlip from 'react-card-flip';\r\n// Css\r\nimport './style.css'\r\n\r\n  \r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop:'20px',\r\n    },\r\n    formGrid: {\r\n      margin:'70px 15px '\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    longMessage: {\r\n      marginTop:'50px',\r\n      fontWeight:'600'\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    header: {\r\n      textAlign: 'center',\r\n      margin: theme.spacing(2),\r\n      fontFamily: 'Chilanka'\r\n    }\r\n}))\r\n\r\n\r\nconst SignIn = ({ setIsAuth }) => {\r\n    const [message, setMessage] = useState('')\r\n    const [openAlert, setOpenAlert] = useState(false)\r\n    const [showPassword, setShowPassword] = useState(false)\r\n    const [buttonDisabled, setButtonDisabled] = useState(false)\r\n    const [buttonStartDisabled, setButtonStartDisabled] = useState(false)\r\n    const [admin, setAdmin] = useState(false)\r\n    const [numberOfProducts, setnumberOfProducts] = useState(null)\r\n    const [numberOfOrders, setNumberOfOrders] = useState(null)\r\n    const [availableCart, setAvailableCart] = useState(null)\r\n    const [availableCartSum, setAvailableCartSum] = useState(null)\r\n    const [userLastOrder, setUserLastOrder] = useState(null)\r\n    const [newUser, setNewUser] = useState(null)\r\n    const [productsImages, setProductsImages] = useState([])\r\n    const [isFlipped, setIsFlipped] = useState(false)\r\n    const [dense, setDense] = useState(false)\r\n    const [isUserAuth, setIsUserAuth] = useState(false)\r\n    const history = useHistory()\r\n    const classes = useStyles()\r\n\r\n    // Formik\r\n    const formik = useFormik({\r\n      initialValues:{username:'',password:''},\r\n      validationSchema:Yup.object({\r\n          username:Yup.string()\r\n          .required('sorry username is required'),\r\n          password:Yup.string()\r\n          .required('password is required')\r\n          .min(6, 'password have to be at least 6 characters long')\r\n      }),\r\n      onSubmit:(values,{resetForm}) => {                               \r\n        loginUser(values)\r\n      }\r\n    })\r\n\r\n    const errorHelper = (formik,values) => ({\r\n        error: formik.errors[values] && formik.touched[values] ? true : false,\r\n        helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n    })\r\n  \r\n    // Handle password visibility\r\n    const  handleClickShowPassword = () => {\r\n      setShowPassword(!showPassword)\r\n    }\r\n\r\n    // Getting the number of porducts in the store\r\n    const getNumberOfProducts = async () => {\r\n      const res = await fetch('https://shoppingappmalach.herokuapp.com/product')\r\n      const { products } = await res.json()\r\n      for (let i = 0; i < 2; i++) {\r\n        setProductsImages([...productsImages, products[i].image]) \r\n      }\r\n      setnumberOfProducts(products.length - 1)\r\n    }\r\n\r\n    // Getting the number of orders in the store\r\n    const getNumberOfOrders = async () => {\r\n      const res = await fetch('https://shoppingappmalach.herokuapp.com/order')\r\n      const { orders } = await res.json()\r\n      setNumberOfOrders(orders.length - 1)\r\n    }\r\n   \r\n    // Log in user\r\n    const loginUser = async (values) =>{\r\n      try {\r\n        setAvailableCart(null)\r\n        setUserLastOrder(null)\r\n        setNewUser(null)\r\n        setAdmin(false)\r\n        setIsFlipped(false)\r\n        setButtonDisabled(true)\r\n        const response = await fetch('https://shoppingappmalach.herokuapp.com/auth/login', { method: 'POST',\r\n            headers: {\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(values)\r\n        })\r\n        const data = await response.json()\r\n        setButtonDisabled(false)\r\n       if(data.success){\r\n          setIsFlipped(true)\r\n    \r\n          delete data.user.password\r\n          localStorage.setItem('user',JSON.stringify(data.user))\r\n          if(data.user.admin) {\r\n            setAdmin(true)\r\n          } else {\r\n          const availableCart = data.user.Carts.find(cart => cart.completed === false)\r\n          if(availableCart) {\r\n            availableCart.date = switchDate(availableCart.date)\r\n            let sum = 0\r\n            setAvailableCart(availableCart)\r\n            availableCart.CartItems.forEach(item => sum += item.price)\r\n            setAvailableCartSum(sum)\r\n          } else if(data.ordersOfUser.length !== 0) {\r\n            data.ordersOfUser[data.ordersOfUser.length - 1].order_date = switchDate(new Date(data.ordersOfUser[data.ordersOfUser.length - 1].order_date).toLocaleDateString())\r\n            setUserLastOrder(data.ordersOfUser[data.ordersOfUser.length - 1])\r\n          } else {\r\n            setNewUser(data.user.firstname)\r\n          }\r\n        }\r\n       } else {\r\n          setMessage(data.error)\r\n          setOpenAlert(true)\r\n          setButtonDisabled(false)\r\n       }  \r\n    } catch(error) {\r\n       console.log(error)\r\n    }\r\n  }\r\n\r\n  // Put the user in the app\r\n  const getIn = async () => {\r\n    setButtonStartDisabled(true)\r\n    if(availableCart) {\r\n      setIsUserAuth(true)\r\n      localStorage.setItem('availableCart',JSON.stringify(availableCart))\r\n      history.push('/products/1')\r\n    } else {\r\n      const user = JSON.parse(localStorage.getItem('user'))\r\n      const res = await fetch('https://shoppingappmalach.herokuapp.com/cart',{ method: 'POST',\r\n      headers: {\r\n          'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ date: new Date().toLocaleDateString(), completed: false, UserId: user.id})\r\n  })\r\n      const { cart } = await res.json()\r\n      localStorage.setItem('availableCart',JSON.stringify(cart))\r\n     \r\n      setTimeout(() => {\r\n        setIsAuth(true)\r\n        history.push('/products/1')\r\n        setButtonStartDisabled(false)\r\n        setIsFlipped(false)\r\n      } ,100)\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    setIsFlipped(false)\r\n    localStorage.removeItem('user')\r\n    setAvailableCart(null)\r\n    setUserLastOrder(null)\r\n    setNewUser(null)\r\n    setAdmin(false)\r\n    setIsFlipped(false)\r\n  }\r\n\r\n  // Set format of the date\r\n  const switchDate = (date) => {\r\n    console.log(date);\r\n    let dateArr = date.split('/')\r\n    const temp = dateArr[0]\r\n    dateArr[0] = dateArr[1]\r\n    dateArr[1] = temp\r\n    return dateArr.join('/')\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNumberOfProducts()\r\n    getNumberOfOrders()\r\n  }, [])\r\n\r\n  return (\r\n  \r\n   \r\n    <Grid container className={classes.root}>\r\n        {/* Form grid */}\r\n        <Grid item xs={12} sm={5} md={4} component={Paper}  square className={classes.formGrid}>\r\n        <ReactCardFlip isFlipped={isFlipped} flipDirection=\"horizontal\">\r\n          <div className={classes.paper}>\r\n            <img src=\"https://thumbs.dreamstime.com/b/vegetables-shopping-cart-trolley-grocery-logo-icon-design-vector-171090350.jpg\" width=\"100\" height=\"100\" crop=\"scale\" alt=\"cart\" />\r\n            <form className={classes.form} noValidate onSubmit={formik.handleSubmit}>\r\n                <TextField  variant=\"outlined\" margin=\"normal\" fullWidth label=\"user name\" name=\"email\" autoFocus {...formik.getFieldProps('username')} {...errorHelper(formik,'username')}/>\r\n                <TextField \r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton onClick={handleClickShowPassword}> {showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\r\n                    </InputAdornment>\r\n                    )}}  \r\n                    variant=\"outlined\" margin=\"normal\" fullWidth name=\"password\" label=\"Password\" type={showPassword ? \"text\": \"password\"} {...formik.getFieldProps('password')} {...errorHelper(formik,'password')}/>\r\n                    {/* Error Alert */}\r\n                    <Collapse in={openAlert}>\r\n                      <Alert\r\n                        severity=\"error\"\r\n                        action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\r\n                        {message}\r\n                      </Alert>\r\n                    </Collapse>\r\n                    <Button disabled={!buttonDisabled && formik.values.username && formik.values.password && !formik.errors.password ? false : true}\r\n                    className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" fullWidth> Log In </Button>\r\n                    <Grid container>\r\n                      <Grid item>\r\n                        <Link to=\"/signup\" variant=\"body2\"> Don't have an account? Sign Up </Link>\r\n                      </Grid>\r\n                    </Grid>\r\n                </form>\r\n              </div>\r\n\r\n              <div>\r\n              <div className=\"second_flip_header\">\r\n              <h3> Hello { JSON.parse(localStorage.getItem('user')) && JSON.parse(localStorage.getItem('user')).firstname }</h3>\r\n              </div>\r\n            \r\n              {!availableCart && !userLastOrder && !newUser && !admin && <ListItemText>Please log in to continue</ListItemText>}\r\n                {availableCart && <ListItemText className={classes.longMessage}> <p className=\"loggedin_paragraph\"> You have a shopping cart in process. The cart was created on {availableCart.date}, includes  {availableCart.CartItems.length} products and has a total amount of {availableCartSum} Dollar. </p></ListItemText>}\r\n                {userLastOrder && <ListItemText className={classes.longMessage}><p className=\"loggedin_paragraph\"> You do not have an open cart. Your previous order was placed on {userLastOrder.order_date} and cost {userLastOrder.price} Dollar. We invite you to open a new cart and start buying from us in the store</p></ListItemText>}\r\n                {newUser && <ListItemText> <p className=\"loggedin_paragraph\">  Welcome to your first purchase {newUser} 🎉</p></ListItemText>}\r\n                {admin && <div className=\"admin_div\"> <p className=\"admin_paragraph\">  Hello mister admin </p> </div>}\r\n                <div className=\"btn_div\">\r\n                <Button className=\"m-3\" variant=\"contained\" color=\"primary\" onClick={getIn} disabled={buttonStartDisabled}>{availableCart ? 'Continue purchase' : userLastOrder ?  'Start new purchase' : 'Click here to start' }  </Button>\r\n                <Button className=\"m-3\" variant=\"contained\" color=\"secondary\" onClick={() => logout() }>{'Log in with another user'}  </Button>\r\n                </div>\r\n                <div className=\"second_flip_image\">\r\n                  <img src=\"https://wallpaperaccess.com/full/2338280.jpg\" alt=\"\" width=\"400px\" height=\"300px\"/>\r\n                </div>\r\n              </div>\r\n              </ReactCardFlip>\r\n\r\n          </Grid>\r\n    \r\n          {/* Why us grid */}\r\n          <Grid item xs={12} sm={5} md={4} component={Paper} square className={classes.formGrid}>\r\n            <div className={classes.header}>\r\n              <h1> Why us ? </h1>\r\n            </div>\r\n            <List dense={dense}>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <MoneyOffIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary=\"We guarantee the cheapest prices\" />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <PaymentIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary=\"Security payment\" />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <HomeWorkIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary=\"No need to leave the house\" />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <LocalShippingIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary=\"Delivery arrives to the customer's home within 24 hours\" />\r\n              </ListItem>\r\n            </List>\r\n            <div className=\"cart_image\">\r\n            <img src=\"https://www.pngitem.com/pimgs/m/127-1271967_food-cart-indian-street-food-cart-hd-png.png\" width=\"200px\" height=\"200px\" alt=\"cart\"/>\r\n            </div>\r\n          </Grid>\r\n\r\n          {/* Our data grid */}\r\n          <Grid item xs={12} sm={6} md={3} component={Paper} square className={classes.formGrid}>\r\n            <div className={classes.header}>\r\n              <h1> Our data </h1>\r\n            </div>\r\n            <List dense={dense}>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <KitchenIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary={`We have more than ${numberOfProducts} products`} />\r\n              </ListItem>\r\n              <div className=\"gallery\">\r\n                <img className=\"gallery_image\" src='https://www.interwealthgroup.com/wp-content/uploads/2019/09/Dont-keep-all-your-eggs-in-one-basket-3.png' alt=\"product1\" />\r\n                <img className=\"gallery_image\" src='https://www.cookingclassy.com/wp-content/uploads/2019/07/steak-marinade-12.jpg' alt=\"product1\" />\r\n                <img className=\"gallery_image\" src='https://www.tnuva.co.il/uploads/f_6023fa62abbff_1612970594.jpg' alt=\"product2\" />\r\n              </div>\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <InsertInvitationIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText primary={`We have more than ${numberOfOrders} orders`} />\r\n              </ListItem>\r\n              {!availableCart && !userLastOrder && !newUser && !admin ?\r\n              <ListItem>\r\n                <ListItemAvatar> <Avatar> <VpnKeyIcon  color=\"action\" /> </Avatar> </ListItemAvatar>\r\n                <ListItemText> Please log in to continue </ListItemText>\r\n              </ListItem>\r\n              : null}\r\n            </List>\r\n         \r\n         \r\n        </Grid>\r\n      </Grid>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n","import React from 'react'\r\n// Bootstrap\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n// Material ui\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    slider: {\r\n      width:'54%',\r\n      margin: '99px 0 0 151px',\r\n      position: 'relative',\r\n      left:'-3px',\r\n      bottom: '3px'\r\n    }\r\n}))\r\n\r\nconst Carusel = () => {\r\n const classes = useStyles()\r\n    return (\r\n    <Carousel fade className={classes.slider} interval={2000}>\r\n      <Carousel.Item>\r\n        <img src=\"https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1906&q=80\" height=\"435\" width=\"245\" crop=\"scale\" alt=\"slider1\"/>\r\n      </Carousel.Item>\r\n      <Carousel.Item>\r\n        <img src=\"https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8NXx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60\" height=\"435\" width=\"245\" crop=\"scale\"  alt=\"slider2\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item>\r\n        <img src=\"https://images.unsplash.com/photo-1467003909585-2f8a72700288?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8OXx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60\" height=\"435\" width=\"245\" crop=\"scale\"  alt=\"slider3\" />\r\n      </Carousel.Item>\r\n    </Carousel>\r\n    )\r\n}\r\n\r\nexport default Carusel\r\n","export default __webpack_public_path__ + \"static/media/signPhoto.16e90d9a.png\";","import React,{ useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\n// Components\r\nimport Carusel from '../caursel/Carusel'\r\n//  Images\r\nimport SignUpPhoto from '../../images/signPhoto.png'\r\n// material ui\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, TextField, Button, Paper, Collapse, InputAdornment, Select, MenuItem, Hidden, Stepper, Step, StepLabel } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport VisibilityIcon from '@material-ui/icons/Visibility'\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff'\r\n// formik\r\nimport { Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// css\r\nimport './style.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop:'20px'\r\n    },\r\n    image: {\r\n      position:'relative',\r\n      backgroundImage: `url(${SignUpPhoto})`,\r\n      backgroundRepeat: 'no-repeat',\r\n      alignSelf: 'center',\r\n      backgroundPosition: '0 0',\r\n      backgroundSize: '454px 618px',\r\n      flexBasis: '454px',\r\n      height: '618px',\r\n    },\r\n    formGrid: {\r\n      margin:'70px 15px'\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(3, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    }\r\n}))\r\n\r\n\r\nconst SignUp = ({ setIsAuth }) => {\r\n  const [message, setMessage] = useState('')\r\n  const [openAlert, setOpenAlert] = useState(false)\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n  const [chosenCity, setChosenCity] = useState('')\r\n  const [buttonDisabled, setButtonDisabled] = useState(false)\r\n  const [activeStep, setActiveStep] = useState(0)\r\n  const steps = ['Basic authentication details', 'Advanced authentication details']\r\n  const cityArr = ['Ashdod', 'Beer Sheva', 'Beni Brak', 'Heifa', 'Holon', 'Netaniya', 'Petah Tikva', 'Ramat Gan', 'Rishon Lezion', 'Tel Aviv' ]\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  \r\n  // Form validation\r\n  const validationSchema = Yup.object().shape({\r\n    firstname:Yup.string()\r\n    .required('first name is required!'),\r\n    lastname:Yup.string()\r\n    .required('last name is required!'),\r\n    username:Yup.string()\r\n    .required('user name is required!')\r\n    .email(),\r\n    password:Yup.string()\r\n    .required('password is required!')\r\n    .min(6, 'password have to be at least 6 characters long'),\r\n    confirmPassword:Yup.string()\r\n    .required('confirm your password!')\r\n    .oneOf([Yup.ref('password'), null], 'Passwords must match'),\r\n    city:Yup.string()\r\n    .required('city is required!'),\r\n    street:Yup.string()\r\n    .required('street is required!'),\r\n    })\r\n\r\n  const errorHelper = (formik,values) => ({\r\n      error: formik.errors[values] && formik.touched[values] ? true : false,\r\n      helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n  })\r\n \r\n  // Handle password visiblity \r\n  const  handleClickShowPassword = () => setShowPassword(!showPassword)\r\n\r\n  // Handle confirm password visiblity \r\n  const handleClickConfirmPassword = () => setShowConfirmPassword(!showConfirmPassword)\r\n  \r\n  // Handle next stepper state\r\n  const handleNext = () => setActiveStep((prev) => prev + 1)\r\n\r\n  // Handle back stepper state\r\n  const handleBack = () => setActiveStep((prev) => prev - 1)\r\n\r\n  // Check if user excist\r\n  const isUserExcist = async (username) => {\r\n    const response = await fetch('https://shoppingappmalach.herokuapp.com/auth/username', { \r\n      method: 'POST',\r\n      headers: {\r\n       'Content-Type':'application/json'\r\n     },\r\n     body: JSON.stringify({ username })\r\n     })\r\n     const { success, error } = await response.json()\r\n    if(success) {\r\n      handleNext()\r\n    } else {\r\n      setMessage(error)\r\n      setOpenAlert(true)\r\n    }\r\n  }\r\n\r\n  // Sign up new user\r\n  const signUpUser = async (values) => {\r\n    try {\r\n        setButtonDisabled(true)\r\n         const response = await fetch('https://shoppingappmalach.herokuapp.com/auth/signup', { \r\n         method: 'POST',\r\n         headers: {\r\n          'Content-Type':'application/json'\r\n        },\r\n        body: JSON.stringify({ ...values })\r\n        })\r\n        const { user, error } = await response.json()\r\n        if(user) {\r\n          delete user.password\r\n          localStorage.setItem('user', JSON.stringify({...user, newUser:true }))\r\n          const res = await fetch('https://shoppingappmalach.herokuapp.com/cart',{ method: 'POST',\r\n          headers: {\r\n              'Content-Type':'application/json'\r\n          },\r\n          body: JSON.stringify({ date: new Date().toLocaleDateString(), completed: false, UserId: user.id})\r\n          })\r\n          const { cart } = await res.json()\r\n          localStorage.setItem('availableCart',JSON.stringify(cart))\r\n          setTimeout(() => {\r\n            setButtonDisabled(false)\r\n            setIsAuth(true)\r\n            history.push('/products/1')\r\n          } ,100)\r\n          } else {\r\n          setMessage(error)\r\n          setOpenAlert(true)\r\n          setButtonDisabled(false)\r\n          }\r\n        } catch (error) {\r\n            console.error(error)\r\n          }\r\n      }\r\n  \r\n    return (\r\n      <Grid container className={classes.root}>\r\n\r\n        {/* Carusel */}\r\n        <Hidden mdDown>\r\n            <Grid item xs={1} md={2}></Grid>\r\n            <Grid item xs={2} lg={4} className={classes.image} >\r\n              <Carusel />\r\n            </Grid>\r\n         </Hidden>\r\n \r\n      {/* Sign up form */}\r\n      <Grid item xs={12} lg={6}  component={Paper} elevation={6} square className={classes.formGrid}>\r\n          <div className={classes.paper}>\r\n          <img src=\"https://thumbs.dreamstime.com/b/vegetables-shopping-cart-trolley-grocery-logo-icon-design-vector-171090350.jpg\" width=\"100\" height=\"100\" crop=\"scale\" alt=\"cart\" />\r\n          <Stepper activeStep={activeStep}>\r\n            {steps.map(step => (\r\n                <Step key={step}> <StepLabel>{step}</StepLabel></Step>\r\n            ))}\r\n          </Stepper>\r\n            <Formik\r\n              initialValues={{username:'',password:'', confirmPassword:'',  firstname:'', lastname:'', street:'', city: ''}}\r\n              onSubmit={(values) => signUpUser(values)}\r\n              validationSchema={validationSchema}\r\n              enableReinitialize={true}>\r\n              {(props) => (\r\n                <>\r\n                <form style={{textAlign:'center'}} onSubmit={props.handleSubmit} autoComplete=\"off\">\r\n                { activeStep === 0 && \r\n                <>\r\n                <TextField name=\"username\" margin=\"normal\" label=\"Email\" variant=\"outlined\" fullWidth {...props.getFieldProps('username')} {...errorHelper(props,'username')}/>   \r\n                 \r\n               <TextField  type={showPassword ? \"text\": \"password\"} variant=\"outlined\" margin=\"normal\" fullWidth name=\"password\" label=\"Password\" {...props.getFieldProps('password')} {...errorHelper(props,'password')} \r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={handleClickShowPassword}> {showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\r\n                      </InputAdornment>\r\n                  )}} />\r\n\r\n                <TextField type={showConfirmPassword ? \"text\": \"password\"} variant=\"outlined\" margin=\"normal\" fullWidth name=\"confirmPassword\" label=\"Confirm Password\" {...props.getFieldProps('confirmPassword')} {...errorHelper(props,'confirmPassword')} \r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={handleClickConfirmPassword}> {showConfirmPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\r\n                      </InputAdornment>\r\n                  )}} />\r\n                {/* Alert error */}\r\n                <Collapse in={openAlert}>\r\n                  <Alert\r\n                    severity=\"error\"\r\n                    action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\r\n                    {message}\r\n                  </Alert>\r\n                </Collapse>\r\n\r\n                <Button \r\n                disabled={props.values.username && !props.errors.username \r\n                && props.values.password &&  !props.errors.password \r\n                && props.values.confirmPassword &&  !props.errors.confirmPassword && !buttonDisabled ? false : true} \r\n                className=\"my-3\" variant=\"contained\" color=\"primary\" size=\"large\" fullWidth onClick={() => isUserExcist(props.values.username)}> Next </Button>\r\n                </>\r\n                }\r\n\r\n                { activeStep === 1 && \r\n                <>\r\n                  <TextField name=\"firstname\" margin=\"normal\" label=\"First name\" variant=\"outlined\" fullWidth {...props.getFieldProps('firstname')} {...errorHelper(props,'firstname')}/>\r\n                  <TextField name=\"lastname\" margin=\"normal\" label=\"Last name\" variant=\"outlined\" fullWidth {...props.getFieldProps('lastname')} {...errorHelper(props,'lastname')}/>   \r\n                \r\n                  <Select value={chosenCity} onChange={(e) => setChosenCity(e.target.value)} name=\"city\" fullWidth  {...props.getFieldProps('city')} {...errorHelper(props,'city')}>\r\n                    {cityArr.map(city => (\r\n                      <MenuItem key={city} value={city}>{city}</MenuItem>\r\n                    ))}\r\n                  </Select>\r\n\r\n                  <TextField name=\"street\" margin=\"normal\" label=\"Street\" variant=\"outlined\" fullWidth {...props.getFieldProps('street')} {...errorHelper(props,'street')}/>   \r\n             \r\n                \r\n                <Button \r\n                disabled={props.values.firstname && props.values.lastname \r\n                && props.values.city &&  props.values.street ? false : true} \r\n                className=\"my-3\" variant=\"contained\" color=\"primary\" size=\"large\" fullWidth type=\"submit\"> Sign up </Button>\r\n                \r\n                <Button className=\"my-3\" variant=\"contained\" color=\"primary\" size=\"large\" fullWidth onClick={handleBack}> Back </Button>\r\n                </>\r\n                }\r\n             \r\n                <Grid container>\r\n                  <Grid item>\r\n                    <Link to=\"/signin\" variant=\"body2\"> Already have an account? Sign In </Link>\r\n                  </Grid>\r\n                </Grid>    \r\n              </form> \r\n            </>\r\n          )}\r\n      </Formik>  \r\n    </div>\r\n  </Grid> \r\n  <Grid item xs={2}></Grid>\r\n</Grid>   \r\n    )\r\n}\r\nexport default SignUp\r\n\r\n\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n// Redux\r\nimport { useSelector } from 'react-redux'\r\n// Material ui\r\nimport { Button } from '@material-ui/core'\r\n// Bootstrap\r\nimport Modal from 'react-bootstrap/Modal'\r\n// Css \r\nimport './style.css'\r\n\r\n\r\nconst DeleteVacationModal = ({ modalOpen, setModalOpen, orderId }) => {\r\n    const products = useSelector(state => state.products)\r\n    const history = useHistory()\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n\r\n    const downloadTxtFile = () => {\r\n      const fileArr = ['Your receipt:']\r\n      const element = document.createElement(\"a\")\r\n      products.cartProducts.forEach((product,i) => fileArr.push(`${i+1}. ${product.amount} ${product.name} cost $${product.totalPrice}`))\r\n      fileArr.push(`your order's total price is: $${products.totalPrice} `)\r\n      const file = new Blob([fileArr.join('\\n')], { type: 'text/plain' })\r\n      element.href = URL.createObjectURL(file)\r\n      element.download = \"myFile.txt\"\r\n      element.click()\r\n    }\r\n   \r\n    return (\r\n        <>\r\n        <Modal size=\"md\" centered show={modalOpen} onHide={() => setModalOpen(false)} style={{margin:'70px auto 30px', textAlign:'center'}}>\r\n        <Modal.Header>\r\n            <Modal.Title style={{fontWeight:'700'}}> \r\n            <p>Thank you {user.firstname}!</p>\r\n            <h5>Your order has been successfully placed! The order number is {orderId}</h5>\r\n            </Modal.Title>\r\n         </Modal.Header>\r\n        <Modal.Body>\r\n            <p>To download a receipt <span className=\"recipe_download_btn\" onClick={downloadTxtFile}> click here </span></p>\r\n            <Button  className=\"my-3\" variant=\"contained\" color=\"primary\" size=\"large\" onClick={() => history.push('logout')}> Finish order </Button>\r\n        </Modal.Body>\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DeleteVacationModal\r\n","import React,{ useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// Redux\r\nimport { useSelector } from 'react-redux'\r\n// Components\r\nimport PaymentModal from './PaymentModal'\r\n// Material ui\r\nimport { Grid, TextField, Button, Paper, Collapse, IconButton, Table, TableBody, TableCell,\r\nTableContainer, TableHead, TableRow } from '@material-ui/core'\r\nimport SearchBar from \"material-ui-search-bar\"\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n// Dates\r\nimport 'date-fns'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers'\r\n// Formik\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// Cloudinary\r\nimport { Image } from 'cloudinary-react'\r\n\r\n  \r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n     padding:'0px'\r\n    },\r\n    formGrid: {\r\n      margin:'20px 40px '\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    }\r\n}))\r\n\r\n\r\nconst Payment = () => {\r\n  const [modalOpen, setModalOpen] = useState(false)  \r\n  const [orderId, setOrderId] = useState(1)  \r\n  const [message, setMessage] = useState('')\r\n  const [shipmentDatesArr, setShipmentDatesArr] = useState([])\r\n  const [openAlert, setOpenAlert] = useState(false)\r\n  const [searched, setSearched] = useState(\"\")\r\n  const [rows, setRows] = useState([])\r\n  const [selectedDate, setSelectedDate] = useState(new Date())\r\n  const cartItems = useSelector(state => state.products.cartProducts)\r\n  const totalPrice = useSelector(state => state.products.totalPrice)\r\n  const user = JSON.parse(localStorage.getItem('user'))\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const classes = useStyles()\r\n\r\n  // Formik\r\n  const formik = useFormik({\r\n    initialValues:{street: ' ', city: '', creditNumber: ''},\r\n    validationSchema:Yup.object({\r\n        city:Yup.string()\r\n        .required('city is required'),\r\n        street:Yup.string()\r\n        .required('street is required'),\r\n        creditNumber:Yup.string()\r\n        .required('credit card is required')\r\n        // .matches(/^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/,'please enter valid credit card')\r\n    }),\r\n    onSubmit:(values,{resetForm}) => {                              \r\n      makeOrder(values)\r\n    }\r\n  })\r\n\r\n  const errorHelper = (formik,values) => ({\r\n    error: formik.errors[values] && formik.touched[values] ? true : false,\r\n    helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n  })\r\n\r\n  // Make an order\r\n  const makeOrder = async (values) => {\r\n    const orderObj = {\r\n      ...values,\r\n      price: totalPrice,\r\n      order_date:new Date(),\r\n      shipment_date: selectedDate,\r\n      CartId: cart.id,\r\n      UserId: user.id\r\n      }\r\n      const response = await fetch('https://shoppingappmalach.herokuapp.com/order', { method: 'POST',\r\n          headers: {\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(orderObj)\r\n        })\r\n        const { order } = await response.json()\r\n        setOrderId(order.id)\r\n        setModalOpen(true)\r\n  }\r\n \r\n  // Get all the cart products and set them in the table\r\n  const getProducts =   () => {\r\n    const itemsArr = []\r\n    cartItems.forEach(item => {\r\n      itemsArr.push(item)\r\n    })\r\n    setRows(itemsArr)\r\n  }\r\n\r\n  // Make the search in the table\r\n  const requestSearch = (searchedVal) => {\r\n    if(searchedVal === '') {\r\n        getProducts()\r\n    } else {\r\n        const filteredRows = cartItems.filter((row) => row.name.toLowerCase().includes(searchedVal.toLowerCase()))\r\n        setRows(filteredRows)\r\n      }\r\n  }\r\n\r\n  // Set the default values \r\n  const getInputValue = (inputName) => {\r\n   formik.setFieldValue(inputName,user[inputName])\r\n  }\r\n\r\n  // Handle the date state\r\n  const handleDateChange = (date) => setSelectedDate(date)\r\n\r\n  // Disable specific dates in the date picker\r\n  const disableDates = (date) => {\r\n    const datesArr =  shipmentDatesArr.filter(item => item.month === date.getMonth() && item.day === date.getDate())\r\n    return datesArr.length > 2\r\n  }\r\n\r\n  // Get all the orders\r\n  const getOrders = async () => {\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com//order')\r\n    const { orders } = await res.json() \r\n    const shipmentDatesArr = []\r\n    orders.forEach(order => shipmentDatesArr.push({ month: new Date(order.shipment_date).getMonth(), day: new Date(order.shipment_date).getDate() }))\r\n    console.log(shipmentDatesArr)\r\n    setShipmentDatesArr(shipmentDatesArr)\r\n  }\r\n\r\n  // Reset the table\r\n  const cancelSearch = () => {\r\n    getProducts()\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n    getOrders()\r\n  }, [])\r\n  \r\n\r\n  return (\r\n   \r\n    <Grid container className={classes.root}>\r\n        {/* Products Table */}\r\n        <Grid item xs={12} sm={5}  component={Paper} square className={classes.formGrid}>\r\n          <TableContainer component={Paper}>\r\n            <SearchBar\r\n            value={searched}\r\n            onChange={(searchVal) => requestSearch(searchVal)}\r\n            onCancelSearch={() => cancelSearch()}\r\n            />\r\n          <Table className={classes.table} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Product</TableCell>\r\n                <TableCell>quantity</TableCell>\r\n                <TableCell>total price</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow key={row.id}>\r\n                <TableCell>\r\n                <Image className=\"product_img\"  cloudName=\"malachcloud\" src={row.image} width=\"70\" height=\"40\" crop=\"scale\" />\r\n                  {row.name}\r\n                </TableCell>\r\n                <TableCell>{row.amount}</TableCell>\r\n                <TableCell>${row.totalPrice}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n            <TableRow>\r\n                <TableCell>\r\n                  <p className=\"total_price_p\">Total price: ${totalPrice}</p>\r\n                </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Link to='/products/1' style={{textDecoration: 'none'}}>\r\n        <Button variant=\"outlined\" color=\"primary\" className=\"m-3\"> Continue shopping </Button>\r\n      </Link>\r\n    </Grid>\r\n   \r\n   {/* Order form */}\r\n    <Grid item xs={12} sm={5} component={Paper}  square className={classes.formGrid}>\r\n      <div className={classes.paper}>\r\n        <img src=\"https://thumbs.dreamstime.com/b/vegetables-shopping-cart-trolley-grocery-logo-icon-design-vector-171090350.jpg\" width=\"100\" height=\"100\" crop=\"scale\" alt=\"cart\" />\r\n        <form className={classes.form} noValidate onSubmit={formik.handleSubmit}>\r\n          <TextField variant=\"outlined\" margin=\"normal\" fullWidth label=\"city\" name=\"city\" {...formik.getFieldProps('city')}\r\n             {...errorHelper(formik,'city')} onDoubleClick={() => getInputValue('city')}  helperText=\"Double click on the field to get the defualts values\"/>\r\n          <TextField variant=\"outlined\" margin=\"normal\" fullWidth label=\"street\" name=\"street\" {...formik.getFieldProps('street')}\r\n             {...errorHelper(formik,'street')} onDoubleClick={() => getInputValue('street')} helperText=\"Double click on the field to get the defualts values\"/>\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <KeyboardDatePicker\r\n              disablePast \r\n              label=\"order date\"\r\n              format=\"dd/MM/yyyy\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              shouldDisableDate={disableDates}\r\n              helperText=\"Dates that exceed the maximum order quantity will be marked in gray and you will not be able to select them\"\r\n              />\r\n          </MuiPickersUtilsProvider>\r\n        \r\n          <TextField variant=\"outlined\" margin=\"normal\" fullWidth label=\"credit card\" name=\"creditNumber\"  \r\n          {...formik.getFieldProps('creditNumber')} {...errorHelper(formik,'creditNumber')}/>\r\n\r\n          {/* Error Alert */}\r\n          <Collapse in={openAlert}>\r\n            <Alert\r\n              severity=\"error\"\r\n              action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\r\n              {message}\r\n            </Alert>\r\n          </Collapse>\r\n          <Button disabled={formik.values.city && formik.values.street && formik.values.creditNumber && ! formik.errors.creditNumber  ? false : true}  \r\n           className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" fullWidth> Send order </Button>  \r\n        </form>\r\n      </div>\r\n    </Grid>\r\n    <PaymentModal modalOpen={modalOpen} setModalOpen={setModalOpen} orderId={orderId} />\r\n  </Grid>\r\n  )\r\n}\r\nexport default Payment\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setProductsState, setNoProducts } from '../../store/actions'\r\n// Material ui\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Button, InputBase, IconButton } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    search: {\r\n      display: 'flex',\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: 'whitesmoke',\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: theme.spacing(2),\r\n      width: '348px !important',\r\n      // width: 'auto',\r\n      color:'black',\r\n      margin: '10px 0px',\r\n      [theme.breakpoints.up('lg')]: {\r\n        width: 'auto !important',\r\n      }\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'right',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n      fontSize: '13px'\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sortBtn: {\r\n      padding:'0px 8px 8px'\r\n    }\r\n   \r\n    \r\n  }))\r\n\r\nconst Search = () => {\r\n    const [searchValue, setSearchValue] = useState('')\r\n    const cartProducts = useSelector(state => state.products.cartProducts)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const classes = useStyles()\r\n  \r\n    const clearInput = () => {\r\n      setSearchValue('') \r\n    }\r\n  \r\n    const findProducts = async () => {\r\n      const res = await fetch(`https://shoppingappmalach.herokuapp.com/product/search`, { method: 'POST',\r\n      headers: {\r\n          'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ value: searchValue })\r\n    })\r\n    const { products } = await res.json()\r\n    if(products.length > 0) {\r\n      dispatch(setNoProducts(false))\r\n      products.forEach(product => {\r\n        const isInCart = cartProducts.find(item => item.id === product.id)\r\n        if(isInCart) {\r\n         product.quantity = isInCart.amount\r\n         product.isInCart = true\r\n        } else {\r\n         product.quantity = 1\r\n        }\r\n      })\r\n    } else {\r\n      dispatch(setNoProducts(true))\r\n    }\r\n    history.push('/products/search')\r\n    dispatch(setProductsState(products))\r\n    }\r\n\r\n    return (\r\n        <>\r\n           <div className={classes.search} id='stepFour'>\r\n            <div className={classes.searchIcon}>  <SearchIcon />  </div>\r\n        \r\n            <InputBase\r\n              type='text'\r\n              value={searchValue}\r\n              onChange={e =>  setSearchValue(e.target.value)}\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n            />\r\n            <Button onClick={findProducts}>Search</Button>\r\n           <IconButton onClick={() => clearInput() }> <ClearIcon fontSize=\"small\"/> </IconButton> \r\n           \r\n          </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, Link, NavLink } from 'react-router-dom'\r\n// Redux\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setCartProducts, updateTotalPrice, resetTotalPrice, setProductsState, setDrawerState, setProductToUpdate } from '../../store/actions'\r\n// Formik\r\nimport { Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n// Cloudinary\r\nimport { Image } from 'cloudinary-react'\r\n// Components\r\nimport Search from '../search/Search'\r\n// Material ui\r\nimport { TextField, Button, Divider, Select, MenuItem, IconButton, Drawer, AppBar, Input, Toolbar, Typography, useMediaQuery } from '@material-ui/core'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\r\nimport ImageIcon from '@material-ui/icons/Image'\r\nimport AddIcon from '@material-ui/icons/Add'\r\n// React toastify \r\nimport { ToastContainer, toast, Zoom } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// Bootstrap\r\nimport { Nav, Navbar } from 'react-bootstrap'\r\n// Css\r\nimport './style.css'\r\n\r\nconst drawerWidth = 300\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    fontFamily:'roboto'\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    backgroundColor: 'white',\r\n    color:'black'\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    marginBottom:'20px',\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n},\r\n  title: {\r\n      color:'black', \r\n      display:'inline'\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    marginTop:'10px'\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nconst SideBarCart = () => {\r\n  const [isDelete, setIsDelete] = useState(true)\r\n  const [imageName, setImageName] = useState('')\r\n  const [selectedCategory, setSelectedCategory] = useState('')\r\n  const [disableButton, setDisableButton] = useState(false)\r\n  const [categoryArr, setCategoryArr] = useState([])\r\n  const [initialValues, setInitialValues] = useState({name:'', price: '', image: '', category: ''})\r\n  const cartProducts = useSelector(state => state.products.cartProducts)\r\n  const totalPrice = useSelector(state => state.products.totalPrice)\r\n  const isAdmin = useSelector(state => state.users.isAdmin)\r\n  const productToUpdate = useSelector(state => state.products.productToUpdate)\r\n  const products = useSelector(state => state.products.data)\r\n  const isOpen = useSelector(state => state.drawer.isOpen)\r\n  const cart = JSON.parse(localStorage.getItem('availableCart'))\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n \r\n  \r\n  // Form validation\r\n  const validationSchema = Yup.object().shape({\r\n    name:Yup.string()\r\n    .required('name is required!'),\r\n    price:Yup.string()\r\n    .required('price is required!'),\r\n    image:Yup.string()\r\n    .required('image is required!'),\r\n    category: Yup.string()\r\n    .required('category is required!'),\r\n    })\r\n\r\n  const errorHelper = (formik,values) => ({\r\n      error: formik.errors[values] && formik.touched[values] ? true : false,\r\n      helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\r\n  })\r\n\r\n         \r\n  // Handle image change  \r\n  const handleChangeImage = (e,setFieldValue) => {\r\n    const reader = new FileReader()\r\n    setFieldValue('image', e.target.files[0])\r\n    if(e.target.files.length === 0) {\r\n    setImageName('')\r\n    setFieldValue('image','')\r\n    } \r\n    else {\r\n      reader.readAsDataURL(e.target.files[0])\r\n      reader.onloadend = () => {\r\n      setFieldValue('image',reader.result)\r\n      }\r\n      setImageName(e.target.files[0].name)\r\n    }\r\n}\r\n\r\n  // Handle drawer state\r\n  const handleDrawerOpen = () => dispatch(setDrawerState(true))\r\n  const handleDrawerClose = () => dispatch(setDrawerState(false))\r\n  \r\n  // Toastify\r\n  const successToast = (message) => {\r\n    toast(message, { \r\n     draggable: true, \r\n     position: toast.POSITION.BOTTOM_RIGHT,\r\n     transition: Zoom,\r\n     autoClose: 2000\r\n    })\r\n  }\r\n\r\n  // Clear the cart\r\n  const clearCart = async () => {\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com/cart_item/cart', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ id: cart.id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n      const productsArr = products\r\n      productsArr.forEach(product => {\r\n        product.quantity = 1\r\n        product.isInCart = false\r\n      })\r\n     dispatch(setCartProducts([]))\r\n     dispatch(resetTotalPrice())\r\n     successToast('Cart cleared! 😀')\r\n    }\r\n  }\r\n\r\n  // Remove specific item from the cart\r\n  const removeFromCart = async (id) => {\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com/cart_item', {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({ CartId: cart.id, ProductId: id })\r\n      })\r\n    const { success } = await res.json()\r\n    if(success) {\r\n     const productsArr = products\r\n     const deletedItemInProducts = productsArr.find(item => item.id === id)\r\n     if(deletedItemInProducts) {\r\n      deletedItemInProducts.isInCart = false\r\n      deletedItemInProducts.quantity = 1\r\n      dispatch(setProductsState(productsArr))\r\n     }\r\n  \r\n     const deletedItemInCart = cartProducts.find(item => item.id === id)\r\n     const cartProductsArr = cartProducts.filter(item => item.id !== id)\r\n     dispatch(setCartProducts(cartProductsArr))\r\n     dispatch(updateTotalPrice(-deletedItemInCart.totalPrice))\r\n     successToast('Product removed! 😀')\r\n   }\r\n  }\r\n\r\n  // Get all the products in  the cart and set them to the cart products\r\n  const getProducts =  async () => {\r\n    const res = await fetch(`https://shoppingappmalach.herokuapp.com/cart/${cart.id}`)\r\n    const data  = await res.json()\r\n    const itemsArr = []\r\n    let count = 0\r\n    data.cart.CartItems.forEach(item => {\r\n      const cartItem = {\r\n        id: item.ProductId,\r\n        name: item.Product.name,\r\n        singlePrice: item.Product.price,\r\n        totalPrice: item.amount * item.Product.price,\r\n        amount: item.amount,\r\n        image: item.Product.image\r\n      }\r\n      count += cartItem.totalPrice\r\n      itemsArr.push(cartItem)\r\n    })\r\n    if(count !== totalPrice) {\r\n      dispatch(updateTotalPrice(count))\r\n    }\r\n    dispatch(setCartProducts(itemsArr))   \r\n  }\r\n\r\n  // Get all the categories \r\n  const getCategories = async () => {\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com/category')\r\n    const { categories } = await res.json()\r\n    const categoryArr = []\r\n    categories.forEach(category => categoryArr.push({ name: category.name, id: category.id }))\r\n    setCategoryArr(categoryArr)\r\n  }\r\n\r\n  // Admin functions\r\n\r\n  // Update product\r\n  const updateProduct = async (values) => {\r\n    setDisableButton(true)\r\n    const CategoryId = categoryArr.find(category => category.name === values.category).id\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com/product',{ method: 'PATCH',\r\n    headers: {\r\n        'Content-Type':'application/json'\r\n    },\r\n    body: JSON.stringify({ ...values, imageName, CategoryId, id: productToUpdate.id })\r\n    })\r\n    const { product } = await res.json()\r\n    const productsArr = products\r\n    const findIndex = productsArr.findIndex(item => item.id === product.id) \r\n    productsArr[findIndex] = product \r\n    dispatch(setProductsState(productsArr))\r\n    successToast('Product Updated! 😀')\r\n    setDisableButton(false) \r\n  }\r\n\r\n  // Add product\r\n  const addProduct = async (values) => {\r\n    setDisableButton(true)\r\n    const CategoryId = categoryArr.find(category => category.name === values.category).id\r\n    const res = await fetch('https://shoppingappmalach.herokuapp.com/product',{ method: 'POST',\r\n    headers: {\r\n        'Content-Type':'application/json'\r\n    },\r\n    body: JSON.stringify({ ...values,imageName, CategoryId })\r\n})\r\n    const { product } = await res.json()\r\n   console.log(product)\r\n    if(`/products/${CategoryId}` === location.pathname) {\r\n      const cartProductsArr = products\r\n      cartProductsArr.push({ ...product, quanity:1 })\r\n      dispatch(setProductsState(cartProductsArr))\r\n      successToast('Product Added! 😀')\r\n      setDisableButton(false)\r\n\r\n    }\r\n  }\r\n\r\n  // Change the form from update to add\r\n  const changeStatetoAdd = () => {\r\n    dispatch(setProductToUpdate({}))\r\n    setInitialValues({name:'', price: '', image: '', category: ''})\r\n    setImageName('')\r\n  }\r\n\r\n  // Set the initial values to the update form\r\n  useEffect(() => {\r\n    if(productToUpdate.name) {\r\n    const { name, price, image, Category, imageName } = productToUpdate\r\n    setInitialValues({ name, price, image, category: Category.name })\r\n    setImageName(imageName)\r\n    setSelectedCategory(Category.name)\r\n    }\r\n  }, [productToUpdate])\r\n\r\n\r\n  useEffect(() => {\r\n    if(isAdmin) {\r\n      getCategories() \r\n    } else {\r\n      getProducts()\r\n    }\r\n  }, [isAdmin])\r\n\r\n\r\n  // disable the delete product option on the payment page\r\n  useEffect(() => {\r\n    location.pathname === '/payment' ? setIsDelete(false) : setIsDelete(true)\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* Top navbar */}\r\n      <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: isOpen})}>\r\n        <Toolbar>\r\n         \r\n          <Navbar bg=\"white\" expand=\"xl\" className=\"navbar\">\r\n              <Navbar.Brand className=\"navbar_brand\">\r\n              <IconButton color=\"inherit\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, isOpen && classes.hide)}>\r\n            <ShoppingCartIcon />\r\n          </IconButton>\r\n                <Link to=\"/products/1\" style={{ textDecoration: 'none'}}>\r\n                  <Typography className={classes.title} variant=\"h6\" noWrap> ShoppingApp </Typography>\r\n                </Link>\r\n              </Navbar.Brand>\r\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n              <Navbar.Collapse className=\"navbar_collapse\">\r\n                <Nav className=\"mr-auto w-100 d-flex justify-content-around\">\r\n                 \r\n                            <NavLink to=\"/products/1\" className=\"nav_link\" activeClassName=\"selected\">\r\n                              <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                              <span className={ isOpen ? \"link_desc_small\" :\"link_desc\"}>Dairy and eggs</span>\r\n                              </IconButton>\r\n                            </NavLink>\r\n                       \r\n                            <NavLink to=\"/products/2\"  className=\"nav_link\" activeClassName=\"selected\" id=\"stepFive\">\r\n                              <IconButton color=\"inherit\">\r\n                              <span  className={ isOpen ? \"link_desc_small\" :\"link_desc\"}>Meat</span>\r\n                              </IconButton>\r\n                            </NavLink>\r\n                 \r\n                            <NavLink to=\"/products/3\" className=\"nav_link\" activeClassName=\"selected\">\r\n                              <IconButton color=\"inherit\">\r\n                              <span className={ isOpen ? \"link_desc_small\" :\"link_desc\"}>Fruits And Vegetables</span>\r\n                              </IconButton>\r\n                            </NavLink>\r\n                      \r\n                            <NavLink to=\"/products/4\"  className=\"nav_link\" activeClassName=\"selected\">\r\n                              <IconButton color=\"inherit\">\r\n                              <span className={ isOpen ? \"link_desc_small\" :\"link_desc\"}>Drinks and alcohol</span>\r\n                              </IconButton>\r\n                            </NavLink>\r\n                       \r\n                            <div className={classes.searchLink}> <Search/> </div> \r\n                   \r\n                          <NavLink to=\"/logout\" className=\"nav_link\" activeClassName=\"selected\">\r\n                              <IconButton color=\"inherit\">\r\n                                <ExitToAppIcon/> <span className={ isOpen ? \"link_desc_small\" :\"link_desc\"}>Logout</span>\r\n                              </IconButton>\r\n                          </NavLink>\r\n                  \r\n                    </Nav>\r\n              </Navbar.Collapse>\r\n          </Navbar>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Side bar */}\r\n  \r\n      <Drawer className={classes.drawer} variant=\"persistent\" anchor=\"left\" open={isOpen}  classes={{ paper: classes.drawerPaper }}>\r\n        {!isAdmin ? \r\n        <>\r\n        <div className={classes.drawerHeader}>\r\n          <h3 className=\"cart_header\" id=\"stepThree\">Your Cart</h3>\r\n          <div>\r\n            <IconButton title=\"close sidebar\" onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon/>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div className=\"summary_card\">\r\n          {cartProducts.map(product => (\r\n            <div className=\"card_item\" key={product.id}>\r\n              <div>\r\n                <Image className=\"product_img\"  cloudName=\"malachcloud\" src={product.image} width=\"70\" height=\"40\" crop=\"scale\" />\r\n              </div>\r\n              <div className=\"product_info\">\r\n                <h6>{product.name}</h6>\r\n                <h6>quanity: {product.amount}</h6>\r\n                <h6>total price: {product.totalPrice}$</h6>\r\n              </div>\r\n              <div>\r\n                { isDelete && <IconButton onClick={() => removeFromCart(product.id)}> <CloseIcon/> </IconButton> }\r\n              </div>\r\n            </div>\r\n            ))}\r\n          </div>\r\n\r\n          {totalPrice === 0 ?\r\n            <h5 className=\"m-2\">Your cart is empty</h5>\r\n           :\r\n            <h5 className=\"ml-2\"><span className=\"total_price_span\"> Total price: </span> ${totalPrice}</h5>\r\n          }\r\n    \r\n          <div className=\"btn-group\">\r\n          <Link to=\"/payment\" style={{ textDecoration: 'none', pointerEvents: totalPrice === 0 || !isDelete ? 'none' : ''}}>\r\n            <Button variant=\"outlined\" color=\"primary\" className=\"m-2\" disabled={totalPrice === 0 || !isDelete} id=\"stepSix\" onClick={() => dispatch(setProductsState([]))}> Payment page </Button>\r\n          </Link> \r\n            <Button variant=\"outlined\" color=\"secondary\" onClick={clearCart}  className=\"m-2\" disabled={totalPrice === 0 || !isDelete}> Clear cart </Button>\r\n          </div>\r\n          </>\r\n          : \r\n          <>\r\n          <div className=\"admin_panel_header\">\r\n          <h4 className=\"admin_panel_h1\">Admin panel</h4>  \r\n          <div>\r\n          <IconButton title=\"add product\" onClick={() => changeStatetoAdd() }>  <AddIcon/> </IconButton>\r\n         <IconButton title=\"close sidebar\" onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon/>\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n          <>\r\n          <h5 className=\"action_header\">{ productToUpdate.name ? 'Update product' : 'Add product' }</h5>\r\n            <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n              enableReinitialize={true}>\r\n              {(props) => (\r\n                <form style={{textAlign:'center', margin:'10px'}} onSubmit={props.handleSubmit} autoComplete=\"off\">\r\n                  <div>\r\n                    <TextField name=\"name\" margin=\"normal\" label=\"name\" variant=\"outlined\" fullWidth \r\n                    {...props.getFieldProps('name')} {...errorHelper(props,'name')}/>\r\n\r\n                    <TextField name=\"price\" margin=\"normal\" label=\"price\" variant=\"outlined\" fullWidth \r\n                    {...props.getFieldProps('price')} {...errorHelper(props,'price')}/>\r\n\r\n                    <Select defaultValue = \"\" value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)}  name=\"category\" fullWidth  {...props.getFieldProps('category')}\r\n                    {...errorHelper(props,'category')}>\r\n                      {categoryArr.map(category => (\r\n                        <MenuItem key={category.id} value={category.name}>{category.name}</MenuItem>\r\n                      ))}\r\n                    </Select>\r\n\r\n                  <Input id=\"file\" type=\"file\" name=\"image\" onChange={(e) => handleChangeImage(e,props.setFieldValue )} hidden/> \r\n                    <Button style={{display:'block', margin:'10px 0px'}} color='primary'  variant=\"outlined\"><ImageIcon className=\"\"/><label htmlFor=\"file\">{imageName ? `${imageName} UPLOADED` : ' Product image'} </label></Button>\r\n                   {props.errors.image && props.touched.image ?  <div className=\"error\">{props.errors.image}</div>  : null} \r\n                </div>\r\n      \r\n                  <Button\r\n                  disabled={props.values.name && props.values.price && props.values.image && props.values.category && !disableButton ? false : true} \r\n                  className=\"my-3\" variant=\"contained\" color=\"primary\" \r\n                  onClick={productToUpdate.name ? () => updateProduct(props.values) : () => addProduct(props.values)} \r\n                  size=\"large\" fullWidth> { productToUpdate.name ? 'Update product' : 'Add product' } </Button>\r\n              </form> )}\r\n            </Formik>  \r\n            </>\r\n          </> }\r\n\r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: isOpen,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n      </main>\r\n\r\n       {/* ToastContainer */}\r\n       <ToastContainer  draggable={false} /> \r\n    </div>\r\n    \r\n    \r\n  );\r\n}\r\n\r\nexport default SideBarCart\r\n","import React, { useState } from 'react';\r\nimport { Switch, BrowserRouter, Route, Redirect } from 'react-router-dom'; // imrr\r\nimport { authGaurd } from './hoc/Auth'\r\nimport Home from './components/home/Home'\r\nimport LogOut from './components/logout/LogOut'\r\nimport SignIn from './components/SignIn/SignIn'\r\nimport SignUp from './components/signup/SignUp'\r\nimport Payment from './components/payment/Payment'\r\n\r\nimport SideBarCart from './components/sideBarCart/SideBarCart'\r\n\r\nconst Router = () => {\r\n    const [isAuth, setIsAuth] = useState(false)\r\n\r\n    return (\r\n        <> \r\n            <BrowserRouter>\r\n                {isAuth && <SideBarCart/> }\r\n                <Switch>\r\n                    <Route path='/signin' render={() => <SignIn  setIsAuth={setIsAuth}/> } />\r\n                    <Route path='/signup' render={() => <SignUp  setIsAuth={setIsAuth}/> } />\r\n                    <Route path='/logout' render={() => <LogOut setIsAuth={setIsAuth} /> } />  \r\n                    <Route path='/payment'  component={authGaurd(Payment, setIsAuth)} /> \r\n                    <Route path='/products/:id' component={authGaurd(Home, setIsAuth)}/>\r\n                    <Redirect from='*' to='/products/1' />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        </>   \r\n    )\r\n}\r\n\r\nexport default Router","import { combineReducers } from 'redux';\r\nimport products from './products_reducer';\r\nimport users from './users_reducer'\r\nimport drawer from './drawer_reducer'\r\n\r\nconst appReducers = combineReducers({\r\n    users,\r\n    products,\r\n    drawer\r\n})\r\nexport default appReducers; // this goes to the index of the store and helps build the store","\r\nexport default function usersReducer(state={ isAdmin: false },action) {\r\n    switch(action.type){\r\n        case 'SET_IS_ADMIN':\r\n            return {...state, isAdmin: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}","export default function productsReducer(state={data:[], cartProducts: [],productToUpdate: {}, totalPrice:0, noProducts: false },action) {\r\n    switch(action.type){\r\n        case 'SET_PRODUCTS':\r\n            return {...state,data:[...action.payload]}\r\n        case 'SET_CART_PRODUCTS':\r\n            return {...state, cartProducts:[...action.payload]}\r\n        case 'SET_ALL_PRODUCTS':\r\n            return {...state, allProducts:[...action.payload]}\r\n        case 'ADD_CART_PRODUCTS':\r\n            return {...state, cartProducts:[...state.cartProducts, action.payload]}\r\n        case 'UPDATE_TOTAL_PRICE':\r\n            return {...state,totalPrice: state.totalPrice + action.payload}\r\n        case 'RESET_TOTAL_PRICE':\r\n            return {...state,totalPrice: 0}\r\n        case 'SET_PRODUCT_TO_UPDATE':\r\n            return {...state,productToUpdate: action.payload}\r\n        case 'SET_NO_PRODUTS':\r\n            return {...state,noProducts: action.payload}\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","export default function drawerReducer(state={ isOpen: false }, action) {\r\n    switch(action.type){\r\n        case 'SET_DRAWER_STATE':\r\n            return { ...state, isOpen: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport appReducers from './reducers/index';\r\n\r\n\r\nconst ReduxStore = () => {\r\n    const composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\n    const store = createStore (\r\n        appReducers,\r\n        composeEnhancers(applyMiddleware(thunk))\r\n    )\r\n        return store;\r\n}\r\nexport default ReduxStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\nimport { Provider } from 'react-redux';\nimport ReduxStore from './store/index'\n\nReactDOM.render(\n\n   <Provider store={ReduxStore()}>\n    <Routes />\n    </Provider>\n    ,document.getElementById('root')\n);\n\n"],"sourceRoot":""}